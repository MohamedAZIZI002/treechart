!function(e,R){"object"==typeof exports&&"object"==typeof module?module.exports=R():"function"==typeof define&&define.amd?define("dscc",[],R):"object"==typeof exports?exports.dscc=R():e.dscc=R()}(window,function(){return t={},n.m=C={"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */function(e,N,R){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var R,C=1,t=arguments.length;C<t;C++)for(var n in R=arguments[C])Object.prototype.hasOwnProperty.call(R,n)&&(e[n]=R[n]);return e}).apply(this,arguments)};Object.defineProperty(N,"__esModule",{value:!0});
/*!
  @license
  Copyright 2019 Google LLC

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
var _=R(/*! ./types */"./src/types.ts");!function(e){for(var R in e)N.hasOwnProperty(R)||(N[R]=e[R])}(R(/*! ./types */"./src/types.ts")),N.getWidth=function(){return document.body.clientWidth},N.getHeight=function(){return document.documentElement.clientHeight},N.getComponentId=function(){var e=new URLSearchParams(window.location.search);if(null!==e.get("dscId"))return e.get("dscId");throw new Error("dscId must be in the query parameters. This is a bug in ds-component, please file a bug: https://github.com/googledatastudio/ds-component/issues/new")};function E(e){return e.type===_.ConfigDataElementType.DIMENSION||e.type===_.ConfigDataElementType.METRIC}function r(e){return e===_.ConfigDataElementType.DIMENSION?-1:1}function a(e){var R=[];e.config.data.forEach(function(e){e.elements.filter(E).forEach(function(e){R.push(e)})});var C,t=(C=function(e,R){return r(e.type)-r(R.type)},R.map(function(e,R){return{item:e,index:R}}).sort(function(e,R){return C(e.item,R.item)||e.index-R.index}).map(function(e){return e.item})),n=[];return t.forEach(function(e){e.value.forEach(function(){return n.push(e.id)})}),n}function o(R){return function(e){var C,t,n={};return t=R,((C=e).length<t.length?C.map(function(e,R){return[e,t[R]]}):t.map(function(e,R){return[C[R],e]})).forEach(function(e){var R=e[0],C=e[1];void 0===n[C]&&(n[C]=[]),n[C].push(R)},{}),n}}N.fieldsByConfigId=function(e){var R=e.fields.reduce(function(e,R){return e[R.id]=R,e},{}),C={};return e.config.data.forEach(function(e){e.elements.filter(E).forEach(function(e){C[e.id]=e.value.map(function(e){return R[e]})})}),C};function U(e){var R={};return(e.config.style||[]).forEach(function(e){e.elements.forEach(function(e){if(void 0!==R[e.id])throw new Error("styleIds must be unique. Your styleId: '"+e.id+"' is used more than once.");R[e.id]={value:e.value,defaultValue:e.defaultValue}})},{}),R}function Y(e){return e.config.themeStyle}function n(e){switch(e){case _.DSInteractionType.FILTER:return _.InteractionType.FILTER}}function s(e){var R=e.config.interactions;return void 0===R?{}:R.reduce(function(e,R){var C=R.supportedActions.map(n),t={type:n(R.value.type),data:R.value.data};return e[R.id]={value:t,supportedActions:C},e},{})}N.tableTransform=function(e){return{tables:(R=e,t=N.fieldsByConfigId(R),n=a(R),E={},r=n.map(function(e){void 0===E[e]?E[e]=0:E[e]++;var R=E[e],C=t[e][R];return i(i({},C),{configId:e})}),(C={})[_.TableType.DEFAULT]={headers:[],rows:[]},o=C,R.dataResponse.tables.forEach(function(e){o[e.id]={headers:r,rows:e.rows}}),o),fields:N.fieldsByConfigId(e),style:U(e),theme:Y(e),interactions:s(e)};var R,C,t,n,E,r,o},N.objectTransform=function(e){return{tables:(t=a(R=e),(C={})[_.TableType.DEFAULT]=[],n=C,R.dataResponse.tables.forEach(function(e){var R=e.rows.map(o(t));e.id===_.TableType.DEFAULT?n[e.id]=R:(void 0===n[e.id]&&(n[e.id]=[]),n[e.id]=n[e.id].concat(R))}),n),fields:N.fieldsByConfigId(e),style:U(e),theme:Y(e),interactions:s(e)};var R,C,t,n};function u(e){var R,C=!1;return e===N.tableTransform||e===N.objectTransform?C=!0:(R=!1,"identity"===e("identity")&&(R=!0,console.warn("This is an unsupported data format. Please use one of the supported transforms:\n       dscc.objectFormat or dscc.tableFormat.")),R&&(C=!0)),C}N.subscribeToData=function(R,C){if(u(C.transform)){var e=function(e){e.data.type===_.MessageType.RENDER?R(C.transform(e.data)):console.error("MessageType: "+e.data.type+" is not supported by this version of the library.")};window.addEventListener("message",e);var t={componentId:N.getComponentId(),type:_.ToDSMessageType.VIZ_READY};return window.parent.postMessage(t,"*"),function(){return window.removeEventListener("message",e)}}throw new Error("Only the built in transform functions are supported.")},N.sendInteraction=function(e,R,C){var t=N.getComponentId(),n={type:_.ToDSMessageType.INTERACTION,id:e,data:C,componentId:t};window.parent.postMessage(n,"*")},N.clearInteraction=function(e,R){N.sendInteraction(e,R,void 0)}},"./src/types.ts":
/*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/
/*! no static exports found */function(e,R,C){"use strict";var t,n,E,r,o,N;Object.defineProperty(R,"__esModule",{value:!0}),(t=R.ConceptType||(R.ConceptType={})).METRIC="METRIC",t.DIMENSION="DIMENSION",(R.MessageType||(R.MessageType={})).RENDER="RENDER",(n=R.FieldType||(R.FieldType={})).YEAR="YEAR",n.YEAR_QUARTER="YEAR_QUARTER",n.YEAR_MONTH="YEAR_MONTH",n.YEAR_WEEK="YEAR_WEEK",n.YEAR_MONTH_DAY="YEAR_MONTH_DAY",n.YEAR_MONTH_DAY_HOUR="YEAR_MONTH_DAY_HOUR",n.QUARTER="QUARTER",n.MONTH="MONTH",n.WEEK="WEEK",n.MONTH_DAY="MONTH_DAY",n.DAY_OF_WEEK="DAY_OF_WEEK",n.DAY="DAY",n.HOUR="HOUR",n.MINUTE="MINUTE",n.DURATION="DURATION",n.COUNTRY="COUNTRY",n.COUNTRY_CODE="COUNTRY_CODE",n.CONTINENT="CONTINENT",n.CONTINENT_CODE="CONTINENT_CODE",n.SUB_CONTINENT="SUB_CONTINENT",n.SUB_CONTINENT_CODE="SUB_CONTINENT_CODE",n.REGION="REGION",n.REGION_CODE="REGION_CODE",n.CITY="CITY",n.CITY_CODE="CITY_CODE",n.METRO_CODE="METRO_CODE",n.LATITUDE_LONGITUDE="LATITUDE_LONGITUDE",n.NUMBER="NUMBER",n.PERCENT="PERCENT",n.TEXT="TEXT",n.BOOLEAN="BOOLEAN",n.URL="URL",n.IMAGE="IMAGE",n.CURRENCY_AED="CURRENCY_AED",n.CURRENCY_ALL="CURRENCY_ALL",n.CURRENCY_ARS="CURRENCY_ARS",n.CURRENCY_AUD="CURRENCY_AUD",n.CURRENCY_BDT="CURRENCY_BDT",n.CURRENCY_BGN="CURRENCY_BGN",n.CURRENCY_BOB="CURRENCY_BOB",n.CURRENCY_BRL="CURRENCY_BRL",n.CURRENCY_CAD="CURRENCY_CAD",n.CURRENCY_CDF="CURRENCY_CDF",n.CURRENCY_CHF="CURRENCY_CHF",n.CURRENCY_CLP="CURRENCY_CLP",n.CURRENCY_CNY="CURRENCY_CNY",n.CURRENCY_COP="CURRENCY_COP",n.CURRENCY_CRC="CURRENCY_CRC",n.CURRENCY_CZK="CURRENCY_CZK",n.CURRENCY_DKK="CURRENCY_DKK",n.CURRENCY_DOP="CURRENCY_DOP",n.CURRENCY_EGP="CURRENCY_EGP",n.CURRENCY_ETB="CURRENCY_ETB",n.CURRENCY_EUR="CURRENCY_EUR",n.CURRENCY_GBP="CURRENCY_GBP",n.CURRENCY_HKD="CURRENCY_HKD",n.CURRENCY_HRK="CURRENCY_HRK",n.CURRENCY_HUF="CURRENCY_HUF",n.CURRENCY_IDR="CURRENCY_IDR",n.CURRENCY_ILS="CURRENCY_ILS",n.CURRENCY_INR="CURRENCY_INR",n.CURRENCY_IRR="CURRENCY_IRR",n.CURRENCY_ISK="CURRENCY_ISK",n.CURRENCY_JMD="CURRENCY_JMD",n.CURRENCY_JPY="CURRENCY_JPY",n.CURRENCY_KRW="CURRENCY_KRW",n.CURRENCY_LKR="CURRENCY_LKR",n.CURRENCY_LTL="CURRENCY_LTL",n.CURRENCY_MNT="CURRENCY_MNT",n.CURRENCY_MVR="CURRENCY_MVR",n.CURRENCY_MXN="CURRENCY_MXN",n.CURRENCY_MYR="CURRENCY_MYR",n.CURRENCY_NOK="CURRENCY_NOK",n.CURRENCY_NZD="CURRENCY_NZD",n.CURRENCY_PAB="CURRENCY_PAB",n.CURRENCY_PEN="CURRENCY_PEN",n.CURRENCY_PHP="CURRENCY_PHP",n.CURRENCY_PKR="CURRENCY_PKR",n.CURRENCY_PLN="CURRENCY_PLN",n.CURRENCY_RON="CURRENCY_RON",n.CURRENCY_RSD="CURRENCY_RSD",n.CURRENCY_RUB="CURRENCY_RUB",n.CURRENCY_SAR="CURRENCY_SAR",n.CURRENCY_SEK="CURRENCY_SEK",n.CURRENCY_SGD="CURRENCY_SGD",n.CURRENCY_THB="CURRENCY_THB",n.CURRENCY_TRY="CURRENCY_TRY",n.CURRENCY_TWD="CURRENCY_TWD",n.CURRENCY_TZS="CURRENCY_TZS",n.CURRENCY_UAH="CURRENCY_UAH",n.CURRENCY_USD="CURRENCY_USD",n.CURRENCY_UYU="CURRENCY_UYU",n.CURRENCY_VEF="CURRENCY_VEF",n.CURRENCY_VND="CURRENCY_VND",n.CURRENCY_YER="CURRENCY_YER",n.CURRENCY_ZAR="CURRENCY_ZAR",(E=R.TableType||(R.TableType={})).DEFAULT="DEFAULT",E.COMPARISON="COMPARISON",E.SUMMARY="SUMMARY",(r=R.ConfigDataElementType||(R.ConfigDataElementType={})).METRIC="METRIC",r.DIMENSION="DIMENSION",r.MAX_RESULTS="MAX_RESULTS",(o=R.ConfigStyleElementType||(R.ConfigStyleElementType={})).TEXTINPUT="TEXTINPUT",o.SELECT_SINGLE="SELECT_SINGLE",o.CHECKBOX="CHECKBOX",o.FONT_COLOR="FONT_COLOR",o.FONT_SIZE="FONT_SIZE",o.FONT_FAMILY="FONT_FAMILY",o.FILL_COLOR="FILL_COLOR",o.BORDER_COLOR="BORDER_COLOR",o.AXIS_COLOR="AXIS_COLOR",o.GRID_COLOR="GRID_COLOR",o.OPACITY="OPACITY",o.LINE_WEIGHT="LINE_WEIGHT",o.LINE_STYLE="LINE_STYLE",o.BORDER_RADIUS="BORDER_RADIUS",o.INTERVAL="INTERVAL",o.SELECT_RADIO="SELECT_RADIO",(R.DSInteractionType||(R.DSInteractionType={})).FILTER="FILTER",(N=R.ToDSMessageType||(R.ToDSMessageType={})).VIZ_READY="vizReady",N.INTERACTION="vizAction",(R.InteractionType||(R.InteractionType={})).FILTER="FILTER"}},n.c=t,n.d=function(e,R,C){n.o(e,R)||Object.defineProperty(e,R,{enumerable:!0,get:C})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(R,e){if(1&e&&(R=n(R)),8&e)return R;if(4&e&&"object"==typeof R&&R&&R.__esModule)return R;var C=Object.create(null);if(n.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:R}),2&e&&"string"!=typeof R)for(var t in R)n.d(C,t,function(e){return R[e]}.bind(null,t));return C},n.n=function(e){var R=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(R,"a",R),R},n.o=function(e,R){return Object.prototype.hasOwnProperty.call(e,R)},n.p="",n(n.s="./src/index.ts");function n(e){if(t[e])return t[e].exports;var R=t[e]={i:e,l:!1,exports:{}};return C[e].call(R.exports,R,R.exports,n),R.l=!0,R.exports}var C,t});
;
(()=>{var nv=Object.defineProperty;var rv=(t,e)=>{for(var n in e)nv(t,n,{get:e[n],enumerable:!0})};var Lp={};rv(Lp,{Adder:()=>mt,Delaunay:()=>Qi,FormatSpecifier:()=>Ji,InternMap:()=>Ce,InternSet:()=>ae,Node:()=>nn,Path:()=>wn,Voronoi:()=>Ir,ZoomTransform:()=>ke,active:()=>Zm,arc:()=>t_,area:()=>As,areaRadial:()=>Np,ascending:()=>ot,autoType:()=>Sl,axisBottom:()=>p0,axisLeft:()=>d0,axisRight:()=>h0,axisTop:()=>l0,bin:()=>Za,bisect:()=>ie,bisectCenter:()=>Bp,bisectLeft:()=>zp,bisectRight:()=>Js,bisector:()=>Pn,blob:()=>B1,blur:()=>Hp,blur2:()=>Va,blurImage:()=>Xp,brush:()=>i1,brushSelection:()=>n1,brushX:()=>r1,brushY:()=>o1,buffer:()=>H1,chord:()=>f1,chordDirected:()=>s1,chordTranspose:()=>u1,cluster:()=>n2,color:()=>be,contourDensity:()=>w1,contours:()=>Wi,count:()=>hn,create:()=>od,creator:()=>Dn,cross:()=>ec,csv:()=>V1,csvFormat:()=>I1,csvFormatBody:()=>P1,csvFormatRow:()=>D1,csvFormatRows:()=>q1,csvFormatValue:()=>O1,csvParse:()=>Xf,csvParseRows:()=>R1,cubehelix:()=>Wt,cumsum:()=>nc,curveBasis:()=>d_,curveBasisClosed:()=>g_,curveBasisOpen:()=>b_,curveBumpX:()=>Ns,curveBumpY:()=>Cs,curveBundle:()=>__,curveCardinal:()=>v_,curveCardinalClosed:()=>w_,curveCardinalOpen:()=>M_,curveCatmullRom:()=>T_,curveCatmullRomClosed:()=>k_,curveCatmullRomOpen:()=>N_,curveLinear:()=>fr,curveLinearClosed:()=>R_,curveMonotoneX:()=>F_,curveMonotoneY:()=>L_,curveNatural:()=>U_,curveStep:()=>z_,curveStepAfter:()=>H_,curveStepBefore:()=>B_,descending:()=>pi,deviation:()=>mi,difference:()=>Ac,disjoint:()=>kc,dispatch:()=>xe,drag:()=>ud,dragDisable:()=>Ln,dragEnable:()=>$n,dsv:()=>Tl,dsvFormat:()=>Zn,easeBack:()=>rl,easeBackIn:()=>Hm,easeBackInOut:()=>rl,easeBackOut:()=>Xm,easeBounce:()=>Eo,easeBounceIn:()=>zm,easeBounceInOut:()=>Bm,easeBounceOut:()=>Eo,easeCircle:()=>tl,easeCircleIn:()=>Ym,easeCircleInOut:()=>tl,easeCircleOut:()=>Um,easeCubic:()=>Bi,easeCubicIn:()=>Cm,easeCubicInOut:()=>Bi,easeCubicOut:()=>Rm,easeElastic:()=>al,easeElasticIn:()=>Vm,easeElasticInOut:()=>Wm,easeElasticOut:()=>al,easeExp:()=>Jc,easeExpIn:()=>Lm,easeExpInOut:()=>Jc,easeExpOut:()=>$m,easeLinear:()=>km,easePoly:()=>Qc,easePolyIn:()=>Im,easePolyInOut:()=>Qc,easePolyOut:()=>Pm,easeQuad:()=>Zc,easeQuadIn:()=>Em,easeQuadInOut:()=>Zc,easeQuadOut:()=>Nm,easeSin:()=>Kc,easeSinIn:()=>Om,easeSinInOut:()=>Kc,easeSinOut:()=>Fm,every:()=>_c,extent:()=>pn,fcumsum:()=>Gp,filter:()=>wc,flatGroup:()=>Jp,flatRollup:()=>t0,forceCenter:()=>J1,forceCollide:()=>bg,forceLink:()=>_g,forceManyBody:()=>Tg,forceRadial:()=>Ag,forceSimulation:()=>Sg,forceX:()=>kg,forceY:()=>Eg,format:()=>Fr,formatDefaultLocale:()=>Zf,formatLocale:()=>Wf,formatPrefix:()=>ta,formatSpecifier:()=>Oe,fsum:()=>Wp,geoAlbers:()=>Pu,geoAlbersUsa:()=>zx,geoArea:()=>zg,geoAzimuthalEqualArea:()=>Bx,geoAzimuthalEqualAreaRaw:()=>Du,geoAzimuthalEquidistant:()=>Hx,geoAzimuthalEquidistantRaw:()=>Ou,geoBounds:()=>jg,geoCentroid:()=>nx,geoCircle:()=>fx,geoClipAntimeridian:()=>ca,geoClipCircle:()=>yu,geoClipExtent:()=>cx,geoClipRectangle:()=>En,geoConicConformal:()=>Vx,geoConicConformalRaw:()=>hh,geoConicEqualArea:()=>Xr,geoConicEqualAreaRaw:()=>ch,geoConicEquidistant:()=>Gx,geoConicEquidistantRaw:()=>ph,geoContains:()=>xx,geoDistance:()=>zo,geoEqualEarth:()=>Zx,geoEqualEarthRaw:()=>$u,geoEquirectangular:()=>Wx,geoEquirectangularRaw:()=>Wr,geoGnomonic:()=>jx,geoGnomonicRaw:()=>Yu,geoGraticule:()=>Tu,geoGraticule10:()=>_x,geoIdentity:()=>Qx,geoInterpolate:()=>vx,geoLength:()=>Mu,geoMercator:()=>Xx,geoMercatorRaw:()=>Vr,geoNaturalEarth1:()=>Kx,geoNaturalEarth1Raw:()=>Uu,geoOrthographic:()=>Jx,geoOrthographicRaw:()=>zu,geoPath:()=>Fx,geoProjection:()=>Rt,geoProjectionMutator:()=>xa,geoRotation:()=>pu,geoStereographic:()=>t2,geoStereographicRaw:()=>Bu,geoStream:()=>$t,geoTransform:()=>Lx,geoTransverseMercator:()=>e2,geoTransverseMercatorRaw:()=>Hu,gray:()=>Sd,greatest:()=>vi,greatestIndex:()=>mc,group:()=>gi,groupSort:()=>ac,groups:()=>oc,hcl:()=>wo,hierarchy:()=>wa,histogram:()=>Za,hsl:()=>_o,html:()=>Q1,image:()=>G1,index:()=>e0,indexes:()=>n0,interpolate:()=>Gt,interpolateArray:()=>Od,interpolateBasis:()=>gf,interpolateBasisClosed:()=>xf,interpolateBlues:()=>Dy,interpolateBrBG:()=>dy,interpolateBuGn:()=>My,interpolateBuPu:()=>Sy,interpolateCividis:()=>Uy,interpolateCool:()=>Hy,interpolateCubehelix:()=>Qd,interpolateCubehelixDefault:()=>zy,interpolateCubehelixLong:()=>Mr,interpolateDate:()=>_f,interpolateDiscrete:()=>Fd,interpolateGnBu:()=>Ty,interpolateGreens:()=>Oy,interpolateGreys:()=>Fy,interpolateHcl:()=>Gd,interpolateHclLong:()=>Zd,interpolateHsl:()=>Xd,interpolateHslLong:()=>Vd,interpolateHue:()=>Ld,interpolateInferno:()=>jy,interpolateLab:()=>Vc,interpolateMagma:()=>Zy,interpolateNumber:()=>Ft,interpolateNumberArray:()=>So,interpolateObject:()=>vf,interpolateOrRd:()=>Ay,interpolateOranges:()=>Yy,interpolatePRGn:()=>my,interpolatePiYG:()=>gy,interpolatePlasma:()=>Qy,interpolatePuBu:()=>Ey,interpolatePuBuGn:()=>ky,interpolatePuOr:()=>xy,interpolatePuRd:()=>Ny,interpolatePurples:()=>Ly,interpolateRainbow:()=>Xy,interpolateRdBu:()=>by,interpolateRdGy:()=>yy,interpolateRdPu:()=>Cy,interpolateRdYlBu:()=>_y,interpolateRdYlGn:()=>vy,interpolateReds:()=>$y,interpolateRgb:()=>Bn,interpolateRgbBasis:()=>bf,interpolateRgbBasisClosed:()=>Dd,interpolateRound:()=>Hn,interpolateSinebow:()=>Vy,interpolateSpectral:()=>wy,interpolateString:()=>To,interpolateTransformCss:()=>Sf,interpolateTransformSvg:()=>Tf,interpolateTurbo:()=>Wy,interpolateViridis:()=>Gy,interpolateWarm:()=>By,interpolateYlGn:()=>Iy,interpolateYlGnBu:()=>Ry,interpolateYlOrBr:()=>Py,interpolateYlOrRd:()=>qy,interpolateZoom:()=>Af,interrupt:()=>qe,intersection:()=>Ec,interval:()=>nm,isoFormat:()=>Jb,isoParse:()=>ty,json:()=>Z1,lab:()=>vr,lch:()=>Ad,least:()=>dc,leastIndex:()=>wi,line:()=>ii,lineRadial:()=>Ep,link:()=>Ya,linkHorizontal:()=>u_,linkRadial:()=>c_,linkVertical:()=>s_,local:()=>af,map:()=>Mc,matcher:()=>xo,max:()=>gn,maxIndex:()=>pr,mean:()=>sc,median:()=>cc,medianIndex:()=>a0,merge:()=>gr,min:()=>qn,minIndex:()=>dr,mode:()=>lc,namespace:()=>Xe,namespaces:()=>Ai,nice:()=>lr,now:()=>Xn,pack:()=>k2,packEnclose:()=>b2,packSiblings:()=>S2,pairs:()=>hc,partition:()=>E2,path:()=>Vi,pathRound:()=>l1,permute:()=>xi,pie:()=>i_,piecewise:()=>Di,pointRadial:()=>so,pointer:()=>Ot,pointers:()=>id,polygonArea:()=>F2,polygonCentroid:()=>L2,polygonContains:()=>z2,polygonHull:()=>U2,polygonLength:()=>B2,precisionFixed:()=>jf,precisionPrefix:()=>Qf,precisionRound:()=>Kf,quadtree:()=>jn,quantile:()=>He,quantileIndex:()=>Qa,quantileSorted:()=>ja,quantize:()=>Kd,quickselect:()=>mr,radialArea:()=>Np,radialLine:()=>Ep,randomBates:()=>W2,randomBernoulli:()=>j2,randomBeta:()=>Ku,randomBinomial:()=>Ju,randomCauchy:()=>K2,randomExponential:()=>G2,randomGamma:()=>ti,randomGeometric:()=>Qu,randomInt:()=>X2,randomIrwinHall:()=>ju,randomLcg:()=>Ah,randomLogNormal:()=>V2,randomLogistic:()=>J2,randomNormal:()=>Jo,randomPareto:()=>Z2,randomPoisson:()=>tb,randomUniform:()=>H2,randomWeibull:()=>Q2,range:()=>ge,rank:()=>pc,reduce:()=>Sc,reverse:()=>Tc,rgb:()=>yn,ribbon:()=>m1,ribbonArrow:()=>g1,rollup:()=>Wa,rollups:()=>ic,scaleBand:()=>Sa,scaleDiverging:()=>_s,scaleDivergingLog:()=>Qh,scaleDivergingPow:()=>vs,scaleDivergingSqrt:()=>ny,scaleDivergingSymlog:()=>Kh,scaleIdentity:()=>ns,scaleImplicit:()=>ts,scaleLinear:()=>es,scaleLog:()=>rs,scaleOrdinal:()=>ei,scalePoint:()=>rb,scalePow:()=>Ca,scaleQuantile:()=>as,scaleQuantize:()=>fs,scaleRadial:()=>is,scaleSequential:()=>gs,scaleSequentialLog:()=>Zh,scaleSequentialPow:()=>xs,scaleSequentialQuantile:()=>bs,scaleSequentialSqrt:()=>ey,scaleSequentialSymlog:()=>jh,scaleSqrt:()=>lb,scaleSymlog:()=>os,scaleThreshold:()=>us,scaleTime:()=>Wh,scaleUtc:()=>Gh,scan:()=>gc,schemeAccent:()=>oy,schemeBlues:()=>_p,schemeBrBG:()=>Jh,schemeBuGn:()=>up,schemeBuPu:()=>sp,schemeCategory10:()=>ry,schemeDark2:()=>iy,schemeGnBu:()=>cp,schemeGreens:()=>vp,schemeGreys:()=>wp,schemeObservable10:()=>ay,schemeOrRd:()=>lp,schemeOranges:()=>Tp,schemePRGn:()=>tp,schemePaired:()=>fy,schemePastel1:()=>uy,schemePastel2:()=>sy,schemePiYG:()=>ep,schemePuBu:()=>pp,schemePuBuGn:()=>hp,schemePuOr:()=>np,schemePuRd:()=>dp,schemePurples:()=>Mp,schemeRdBu:()=>rp,schemeRdGy:()=>op,schemeRdPu:()=>mp,schemeRdYlBu:()=>ip,schemeRdYlGn:()=>ap,schemeReds:()=>Sp,schemeSet1:()=>cy,schemeSet2:()=>ly,schemeSet3:()=>hy,schemeSpectral:()=>fp,schemeTableau10:()=>py,schemeYlGn:()=>xp,schemeYlGnBu:()=>gp,schemeYlOrBr:()=>bp,schemeYlOrRd:()=>yp,select:()=>Et,selectAll:()=>ad,selection:()=>Ve,selector:()=>On,selectorAll:()=>go,shuffle:()=>f0,shuffler:()=>xc,some:()=>vc,sort:()=>mo,stack:()=>X_,stackOffsetDiverging:()=>W_,stackOffsetExpand:()=>V_,stackOffsetNone:()=>ze,stackOffsetSilhouette:()=>G_,stackOffsetWiggle:()=>Z_,stackOrderAppearance:()=>Ws,stackOrderAscending:()=>Gs,stackOrderDescending:()=>j_,stackOrderInsideOut:()=>Q_,stackOrderNone:()=>Be,stackOrderReverse:()=>K_,stratify:()=>R2,style:()=>xn,subset:()=>Nc,sum:()=>bc,superset:()=>Si,svg:()=>K1,symbol:()=>qp,symbolAsterisk:()=>Rs,symbolCircle:()=>ui,symbolCross:()=>Is,symbolDiamond:()=>Ps,symbolDiamond2:()=>qs,symbolPlus:()=>Ds,symbolSquare:()=>Os,symbolSquare2:()=>Fs,symbolStar:()=>Ls,symbolTimes:()=>Ua,symbolTriangle:()=>$s,symbolTriangle2:()=>Ys,symbolWye:()=>Us,symbolX:()=>Ua,symbols:()=>Pp,symbolsFill:()=>Pp,symbolsStroke:()=>p_,text:()=>Dr,thresholdFreedmanDiaconis:()=>fc,thresholdScott:()=>uc,thresholdSturges:()=>hr,tickFormat:()=>Ta,tickIncrement:()=>Re,tickStep:()=>cr,ticks:()=>fe,timeDay:()=>fn,timeDays:()=>xb,timeFormat:()=>Fa,timeFormatDefaultLocale:()=>ps,timeFormatLocale:()=>Oa,timeFriday:()=>Dh,timeFridays:()=>Tb,timeHour:()=>to,timeHours:()=>mb,timeInterval:()=>gt,timeMillisecond:()=>or,timeMilliseconds:()=>Rh,timeMinute:()=>Qr,timeMinutes:()=>pb,timeMonday:()=>ro,timeMondays:()=>vb,timeMonth:()=>ao,timeMonths:()=>Pb,timeParse:()=>Xh,timeSaturday:()=>Oh,timeSaturdays:()=>Ab,timeSecond:()=>de,timeSeconds:()=>Ih,timeSunday:()=>un,timeSundays:()=>Fh,timeThursday:()=>Cn,timeThursdays:()=>Sb,timeTickInterval:()=>hs,timeTicks:()=>ls,timeTuesday:()=>Ph,timeTuesdays:()=>wb,timeWednesday:()=>qh,timeWednesdays:()=>Mb,timeWeek:()=>un,timeWeeks:()=>Fh,timeYear:()=>ce,timeYears:()=>Db,timeout:()=>Yi,timer:()=>Ar,timerFlush:()=>Gc,transition:()=>Of,transpose:()=>Mi,tree:()=>I2,treemap:()=>P2,treemapBinary:()=>q2,treemapDice:()=>rn,treemapResquarify:()=>O2,treemapSlice:()=>nr,treemapSliceDice:()=>D2,treemapSquarify:()=>Zu,tsv:()=>W1,tsvFormat:()=>L1,tsvFormatBody:()=>$1,tsvFormatRow:()=>U1,tsvFormatRows:()=>Y1,tsvFormatValue:()=>z1,tsvParse:()=>Vf,tsvParseRows:()=>F1,union:()=>Cc,unixDay:()=>Ia,unixDays:()=>yb,utcDay:()=>ir,utcDays:()=>bb,utcFormat:()=>uo,utcFriday:()=>Yh,utcFridays:()=>Rb,utcHour:()=>eo,utcHours:()=>gb,utcMillisecond:()=>or,utcMilliseconds:()=>Rh,utcMinute:()=>Kr,utcMinutes:()=>db,utcMonday:()=>io,utcMondays:()=>kb,utcMonth:()=>fo,utcMonths:()=>qb,utcParse:()=>La,utcSaturday:()=>Uh,utcSaturdays:()=>Ib,utcSecond:()=>de,utcSeconds:()=>Ih,utcSunday:()=>sn,utcSundays:()=>zh,utcThursday:()=>Rn,utcThursdays:()=>Cb,utcTickInterval:()=>cs,utcTicks:()=>ss,utcTuesday:()=>Lh,utcTuesdays:()=>Eb,utcWednesday:()=>$h,utcWednesdays:()=>Nb,utcWeek:()=>sn,utcWeeks:()=>zh,utcYear:()=>le,utcYears:()=>Ob,variance:()=>di,window:()=>bo,xml:()=>j1,zip:()=>yc,zoom:()=>tv,zoomIdentity:()=>li,zoomTransform:()=>Zs});function ot(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pi(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pn(t){let e,n,r;t.length!==2?(e=ot,n=(f,s)=>ot(t(f),s),r=(f,s)=>t(f)-s):(e=t===ot||t===pi?t:ov,n=t,r=t);function o(f,s,u=0,c=f.length){if(u<c){if(e(s,s)!==0)return c;do{let h=u+c>>>1;n(f[h],s)<0?u=h+1:c=h}while(u<c)}return u}function i(f,s,u=0,c=f.length){if(u<c){if(e(s,s)!==0)return c;do{let h=u+c>>>1;n(f[h],s)<=0?u=h+1:c=h}while(u<c)}return u}function a(f,s,u=0,c=f.length){let h=o(f,s,u,c-1);return h>u&&r(f[h-1],s)>-r(f[h],s)?h-1:h}return{left:o,center:a,right:i}}function ov(){return 0}function sr(t){return t===null?NaN:+t}function*Yp(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}var Up=Pn(ot),Js=Up.right,zp=Up.left,Bp=Pn(sr).center,ie=Js;function Hp(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;let r=tc(e),o=t.slice();return r(t,o,0,n,1),r(o,t,0,n,1),r(t,o,0,n,1),t}var Va=Vp(tc),Xp=Vp(iv);function Vp(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:o,width:i,height:a}=e;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:o.length/i))>=0))throw new RangeError("invalid height");if(!i||!a||!n&&!r)return e;let f=n&&t(n),s=r&&t(r),u=o.slice();return f&&s?(lo(f,u,o,i,a),lo(f,o,u,i,a),lo(f,u,o,i,a),ho(s,o,u,i,a),ho(s,u,o,i,a),ho(s,o,u,i,a)):f?(lo(f,o,u,i,a),lo(f,u,o,i,a),lo(f,o,u,i,a)):s&&(ho(s,o,u,i,a),ho(s,u,o,i,a),ho(s,o,u,i,a)),e}}function lo(t,e,n,r,o){for(let i=0,a=r*o;i<a;)t(e,n,i,i+=r,1)}function ho(t,e,n,r,o){for(let i=0,a=r*o;i<r;++i)t(e,n,i,i+a,r)}function iv(t){let e=tc(t);return(n,r,o,i,a)=>{o<<=2,i<<=2,a<<=2,e(n,r,o+0,i+0,a),e(n,r,o+1,i+1,a),e(n,r,o+2,i+2,a),e(n,r,o+3,i+3,a)}}function tc(t){let e=Math.floor(t);if(e===t)return av(t);let n=t-e,r=2*t+1;return(o,i,a,f,s)=>{if(!((f-=s)>=a))return;let u=e*i[a],c=s*e,h=c+s;for(let l=a,p=a+c;l<p;l+=s)u+=i[Math.min(f,l)];for(let l=a,p=f;l<=p;l+=s)u+=i[Math.min(f,l+c)],o[l]=(u+n*(i[Math.max(a,l-h)]+i[Math.min(f,l+h)]))/r,u-=i[Math.max(a,l-c)]}}function av(t){let e=2*t+1;return(n,r,o,i,a)=>{if(!((i-=a)>=o))return;let f=t*r[o],s=a*t;for(let u=o,c=o+s;u<c;u+=a)f+=r[Math.min(i,u)];for(let u=o,c=i;u<=c;u+=a)f+=r[Math.min(i,u+s)],n[u]=f/e,f-=r[Math.max(o,u-s)]}}function hn(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(o=+o)>=o&&++n}return n}function fv(t){return t.length|0}function uv(t){return!(t>0)}function sv(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function cv(t){return e=>t(...e)}function ec(...t){let e=typeof t[t.length-1]=="function"&&cv(t.pop());t=t.map(sv);let n=t.map(fv),r=t.length-1,o=new Array(r+1).fill(0),i=[];if(r<0||n.some(uv))return i;for(;;){i.push(o.map((f,s)=>t[s][f]));let a=r;for(;++o[a]===n[a];){if(a===0)return e?i.map(e):i;o[a--]=0}}}function nc(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?o=>n+=+o||0:o=>n+=+e(o,r++,t)||0)}function di(t,e){let n=0,r,o=0,i=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-o,o+=r/++n,i+=r*(a-o));else{let a=-1;for(let f of t)(f=e(f,++a,t))!=null&&(f=+f)>=f&&(r=f-o,o+=r/++n,i+=r*(f-o))}if(n>1)return i/(n-1)}function mi(t,e){let n=di(t,e);return n&&Math.sqrt(n)}function pn(t,e){let n,r;if(e===void 0)for(let o of t)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var mt=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let n=this._partials,r=0;for(let o=0;o<this._n&&o<32;o++){let i=n[o],a=e+i,f=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);f&&(n[r++]=f),e=a}return n[r]=e,this._n=r+1,this}valueOf(){let e=this._partials,n=this._n,r,o,i,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,o=e[--n],a=r+o,i=o-(a-r),!i););n>0&&(i<0&&e[n-1]<0||i>0&&e[n-1]>0)&&(o=i*2,r=a+o,o==r-a&&(a=r))}return a}};function Wp(t,e){let n=new mt;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let o of t)(o=+e(o,++r,t))&&n.add(o)}return+n}function Gp(t,e){let n=new mt,r=-1;return Float64Array.from(t,e===void 0?o=>n.add(+o||0):o=>n.add(+e(o,++r,t)||0))}var Ce=class extends Map{constructor(e,n=Qp){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let[r,o]of e)this.set(r,o)}get(e){return super.get(rc(this,e))}has(e){return super.has(rc(this,e))}set(e,n){return super.set(Zp(this,e),n)}delete(e){return super.delete(jp(this,e))}},ae=class extends Set{constructor(e,n=Qp){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let r of e)this.add(r)}has(e){return super.has(rc(this,e))}add(e){return super.add(Zp(this,e))}delete(e){return super.delete(jp(this,e))}};function rc({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function Zp({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function jp({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Qp(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dn(t){return t}function gi(t,...e){return po(t,dn,dn,e)}function oc(t,...e){return po(t,Array.from,dn,e)}function Kp(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(o=>o.pop().map(([i,a])=>[...o,i,a]));return t}function Jp(t,...e){return Kp(oc(t,...e),e)}function t0(t,e,...n){return Kp(ic(t,e,...n),n)}function Wa(t,e,...n){return po(t,dn,e,n)}function ic(t,e,...n){return po(t,Array.from,e,n)}function e0(t,...e){return po(t,dn,r0,e)}function n0(t,...e){return po(t,Array.from,r0,e)}function r0(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function po(t,e,n,r){return(function o(i,a){if(a>=r.length)return n(i);let f=new Ce,s=r[a++],u=-1;for(let c of i){let h=s(c,++u,i),l=f.get(h);l?l.push(c):f.set(h,[c])}for(let[c,h]of f)f.set(c,o(h,a));return e(f)})(t,0)}function xi(t,e){return Array.from(e,n=>t[n])}function mo(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){let r=Uint32Array.from(t,(o,i)=>i);return e.length>1?(e=e.map(o=>t.map(o)),r.sort((o,i)=>{for(let a of e){let f=mn(a[o],a[i]);if(f)return f}})):(n=t.map(n),r.sort((o,i)=>mn(n[o],n[i]))),xi(t,r)}return t.sort(bi(n))}function bi(t=ot){if(t===ot)return mn;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function mn(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function ac(t,e,n){return(e.length!==2?mo(Wa(t,e,n),(([r,o],[i,a])=>ot(o,a)||ot(r,i))):mo(gi(t,n),(([r,o],[i,a])=>e(o,a)||ot(r,i)))).map(([r])=>r)}var o0=Array.prototype,i0=o0.slice,I7=o0.map;function yi(t){return()=>t}var lv=Math.sqrt(50),hv=Math.sqrt(10),pv=Math.sqrt(2);function Ga(t,e,n){let r=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=lv?10:i>=hv?5:i>=pv?2:1,f,s,u;return o<0?(u=Math.pow(10,-o)/a,f=Math.round(t*u),s=Math.round(e*u),f/u<t&&++f,s/u>e&&--s,u=-u):(u=Math.pow(10,o)*a,f=Math.round(t/u),s=Math.round(e/u),f*u<t&&++f,s*u>e&&--s),s<f&&.5<=n&&n<2?Ga(t,e,n*2):[f,s,u]}function fe(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let r=e<t,[o,i,a]=r?Ga(e,t,n):Ga(t,e,n);if(!(i>=o))return[];let f=i-o+1,s=new Array(f);if(r)if(a<0)for(let u=0;u<f;++u)s[u]=(i-u)/-a;else for(let u=0;u<f;++u)s[u]=(i-u)*a;else if(a<0)for(let u=0;u<f;++u)s[u]=(o+u)/-a;else for(let u=0;u<f;++u)s[u]=(o+u)*a;return s}function Re(t,e,n){return e=+e,t=+t,n=+n,Ga(t,e,n)[2]}function cr(t,e,n){e=+e,t=+t,n=+n;let r=e<t,o=r?Re(e,t,n):Re(t,e,n);return(r?-1:1)*(o<0?1/-o:o)}function lr(t,e,n){let r;for(;;){let o=Re(t,e,n);if(o===r||o===0||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),r=o}}function hr(t){return Math.max(1,Math.ceil(Math.log(hn(t))/Math.LN2)+1)}function Za(){var t=dn,e=pn,n=hr;function r(o){Array.isArray(o)||(o=Array.from(o));var i,a=o.length,f,s,u=new Array(a);for(i=0;i<a;++i)u[i]=t(o[i],i,o);var c=e(u),h=c[0],l=c[1],p=n(u,h,l);if(!Array.isArray(p)){let y=l,b=+p;if(e===pn&&([h,l]=lr(h,l,b)),p=fe(h,l,b),p[0]<=h&&(s=Re(h,l,b)),p[p.length-1]>=l)if(y>=l&&e===pn){let v=Re(h,l,b);isFinite(v)&&(v>0?l=(Math.floor(l/v)+1)*v:v<0&&(l=(Math.ceil(l*-v)+1)/-v))}else p.pop()}for(var m=p.length,g=0,d=m;p[g]<=h;)++g;for(;p[d-1]>l;)--d;(g||d<m)&&(p=p.slice(g,d),m=d-g);var x=new Array(m+1),_;for(i=0;i<=m;++i)_=x[i]=[],_.x0=i>0?p[i-1]:h,_.x1=i<m?p[i]:l;if(isFinite(s)){if(s>0)for(i=0;i<a;++i)(f=u[i])!=null&&h<=f&&f<=l&&x[Math.min(m,Math.floor((f-h)/s))].push(o[i]);else if(s<0){for(i=0;i<a;++i)if((f=u[i])!=null&&h<=f&&f<=l){let y=Math.floor((h-f)*s);x[Math.min(m,y+(p[y]<=f))].push(o[i])}}}else for(i=0;i<a;++i)(f=u[i])!=null&&h<=f&&f<=l&&x[ie(p,f,0,m)].push(o[i]);return x}return r.value=function(o){return arguments.length?(t=typeof o=="function"?o:yi(o),r):t},r.domain=function(o){return arguments.length?(e=typeof o=="function"?o:yi([o[0],o[1]]),r):e},r.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:yi(Array.isArray(o)?i0.call(o):o),r):n},r}function gn(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function pr(t,e){let n,r=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=o);else for(let i of t)(i=e(i,++o,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=o);return r}function qn(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function dr(t,e){let n,r=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=o);else for(let i of t)(i=e(i,++o,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=o);return r}function mr(t,e,n=0,r=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(o=o===void 0?mn:bi(o);r>n;){if(r-n>600){let s=r-n+1,u=e-n+1,c=Math.log(s),h=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*h*(s-h)/s)*(u-s/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/s+l)),m=Math.min(r,Math.floor(e+(s-u)*h/s+l));mr(t,e,p,m,o)}let i=t[e],a=n,f=r;for(_i(t,n,e),o(t[r],i)>0&&_i(t,n,r);a<f;){for(_i(t,a,f),++a,--f;o(t[a],i)<0;)++a;for(;o(t[f],i)>0;)--f}o(t[n],i)===0?_i(t,n,f):(++f,_i(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function _i(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function vi(t,e=ot){let n,r=!1;if(e.length===1){let o;for(let i of t){let a=e(i);(r?ot(a,o)>0:ot(a,a)===0)&&(n=i,o=a,r=!0)}}else for(let o of t)(r?e(o,n)>0:e(o,o)===0)&&(n=o,r=!0);return n}function He(t,e,n){if(t=Float64Array.from(Yp(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return qn(t);if(e>=1)return gn(t);var r,o=(r-1)*e,i=Math.floor(o),a=gn(mr(t,i).subarray(0,i+1)),f=qn(t.subarray(i+1));return a+(f-a)*(o-i)}}function ja(t,e,n=sr){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,i=Math.floor(o),a=+n(t[i],i,t),f=+n(t[i+1],i+1,t);return a+(f-a)*(o-i)}}function Qa(t,e,n=sr){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(f,s)=>sr(n(t[s],s,t))),e<=0)return dr(r);if(e>=1)return pr(r);var r,o=Uint32Array.from(t,(f,s)=>s),i=r.length-1,a=Math.floor(i*e);return mr(o,a,0,i,(f,s)=>mn(r[f],r[s])),a=vi(o.subarray(0,a+1),f=>r[f]),a>=0?a:-1}}function fc(t,e,n){let r=hn(t),o=He(t,.75)-He(t,.25);return r&&o?Math.ceil((n-e)/(2*o*Math.pow(r,-1/3))):1}function uc(t,e,n){let r=hn(t),o=mi(t);return r&&o?Math.ceil((n-e)*Math.cbrt(r)/(3.49*o)):1}function sc(t,e){let n=0,r=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++n,r+=o);else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function cc(t,e){return He(t,.5,e)}function a0(t,e){return Qa(t,.5,e)}function*dv(t){for(let e of t)yield*e}function gr(t){return Array.from(dv(t))}function lc(t,e){let n=new Ce;if(e===void 0)for(let i of t)i!=null&&i>=i&&n.set(i,(n.get(i)||0)+1);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,o=0;for(let[i,a]of n)a>o&&(o=a,r=i);return r}function hc(t,e=mv){let n=[],r,o=!1;for(let i of t)o&&n.push(e(r,i)),r=i,o=!0;return n}function mv(t,e){return[t,e]}function ge(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(o);++r<o;)i[r]=t+r*n;return i}function pc(t,e=ot){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t),r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=ot);let o=(f,s)=>e(n[f],n[s]),i,a;return t=Uint32Array.from(n,(f,s)=>s),t.sort(e===ot?(f,s)=>mn(n[f],n[s]):bi(o)),t.forEach((f,s)=>{let u=o(f,i===void 0?f:i);u>=0?((i===void 0||u>0)&&(i=f,a=s),r[f]=a):r[f]=NaN}),r}function dc(t,e=ot){let n,r=!1;if(e.length===1){let o;for(let i of t){let a=e(i);(r?ot(a,o)<0:ot(a,a)===0)&&(n=i,o=a,r=!0)}}else for(let o of t)(r?e(o,n)<0:e(o,o)===0)&&(n=o,r=!0);return n}function wi(t,e=ot){if(e.length===1)return dr(t,e);let n,r=-1,o=-1;for(let i of t)++o,(r<0?e(i,i)===0:e(i,n)<0)&&(n=i,r=o);return r}function mc(t,e=ot){if(e.length===1)return pr(t,e);let n,r=-1,o=-1;for(let i of t)++o,(r<0?e(i,i)===0:e(i,n)>0)&&(n=i,r=o);return r}function gc(t,e){let n=wi(t,e);return n<0?void 0:n}var f0=xc(Math.random);function xc(t){return function(n,r=0,o=n.length){let i=o-(r=+r);for(;i;){let a=t()*i--|0,f=n[i+r];n[i+r]=n[a+r],n[a+r]=f}return n}}function bc(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let o of t)(o=+e(o,++r,t))&&(n+=o)}return n}function Mi(t){if(!(i=t.length))return[];for(var e=-1,n=qn(t,gv),r=new Array(n);++e<n;)for(var o=-1,i,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function gv(t){return t.length}function yc(){return Mi(arguments)}function _c(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(let r of t)if(!e(r,++n,t))return!1;return!0}function vc(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(let r of t)if(e(r,++n,t))return!0;return!1}function wc(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=[],r=-1;for(let o of t)e(o,++r,t)&&n.push(o);return n}function Mc(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function Sc(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");let r=t[Symbol.iterator](),o,i,a=-1;if(arguments.length<3){if({done:o,value:n}=r.next(),o)return;++a}for(;{done:o,value:i}=r.next(),!o;)n=e(n,i,++a,t);return n}function Tc(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Ac(t,...e){t=new ae(t);for(let n of e)for(let r of n)t.delete(r);return t}function kc(t,e){let n=e[Symbol.iterator](),r=new ae;for(let o of t){if(r.has(o))return!1;let i,a;for(;({value:i,done:a}=n.next())&&!a;){if(Object.is(o,i))return!1;r.add(i)}}return!0}function Ec(t,...e){t=new ae(t),e=e.map(xv);t:for(let n of t)for(let r of e)if(!r.has(n)){t.delete(n);continue t}return t}function xv(t){return t instanceof ae?t:new ae(t)}function Si(t,e){let n=t[Symbol.iterator](),r=new Set;for(let o of e){let i=u0(o);if(r.has(i))continue;let a,f;for(;{value:a,done:f}=n.next();){if(f)return!1;let s=u0(a);if(r.add(s),Object.is(i,s))break}}return!0}function u0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Nc(t,e){return Si(e,t)}function Cc(...t){let e=new ae;for(let n of t)for(let r of n)e.add(r);return e}function s0(t){return t}var Ka=1,Ja=2,Rc=3,Ti=4,c0=1e-6;function bv(t){return"translate("+t+",0)"}function yv(t){return"translate(0,"+t+")"}function _v(t){return e=>+t(e)}function vv(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function wv(){return!this.__axis}function tf(t,e){var n=[],r=null,o=null,i=6,a=6,f=3,s=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,u=t===Ka||t===Ti?-1:1,c=t===Ti||t===Ja?"x":"y",h=t===Ka||t===Rc?bv:yv;function l(p){var m=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,g=o==null?e.tickFormat?e.tickFormat.apply(e,n):s0:o,d=Math.max(i,0)+f,x=e.range(),_=+x[0]+s,y=+x[x.length-1]+s,b=(e.bandwidth?vv:_v)(e.copy(),s),v=p.selection?p.selection():p,w=v.selectAll(".domain").data([null]),k=v.selectAll(".tick").data(m,e).order(),C=k.exit(),N=k.enter().append("g").attr("class","tick"),E=k.select("line"),S=k.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(N),E=E.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*i)),S=S.merge(N.append("text").attr("fill","currentColor").attr(c,u*d).attr("dy",t===Ka?"0em":t===Rc?"0.71em":"0.32em")),p!==v&&(w=w.transition(p),k=k.transition(p),E=E.transition(p),S=S.transition(p),C=C.transition(p).attr("opacity",c0).attr("transform",function(P){return isFinite(P=b(P))?h(P+s):this.getAttribute("transform")}),N.attr("opacity",c0).attr("transform",function(P){var R=this.parentNode.__axis;return h((R&&isFinite(R=R(P))?R:b(P))+s)})),C.remove(),w.attr("d",t===Ti||t===Ja?a?"M"+u*a+","+_+"H"+s+"V"+y+"H"+u*a:"M"+s+","+_+"V"+y:a?"M"+_+","+u*a+"V"+s+"H"+y+"V"+u*a:"M"+_+","+s+"H"+y),k.attr("opacity",1).attr("transform",function(P){return h(b(P)+s)}),E.attr(c+"2",u*i),S.attr(c,u*d).text(g),v.filter(wv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ja?"start":t===Ti?"end":"middle"),v.each(function(){this.__axis=b})}return l.scale=function(p){return arguments.length?(e=p,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),l):n.slice()},l.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),l):r&&r.slice()},l.tickFormat=function(p){return arguments.length?(o=p,l):o},l.tickSize=function(p){return arguments.length?(i=a=+p,l):i},l.tickSizeInner=function(p){return arguments.length?(i=+p,l):i},l.tickSizeOuter=function(p){return arguments.length?(a=+p,l):a},l.tickPadding=function(p){return arguments.length?(f=+p,l):f},l.offset=function(p){return arguments.length?(s=+p,l):s},l}function l0(t){return tf(Ka,t)}function h0(t){return tf(Ja,t)}function p0(t){return tf(Rc,t)}function d0(t){return tf(Ti,t)}var Mv={value:()=>{}};function g0(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ef(n)}function ef(t){this._=t}function Sv(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ef.prototype=g0.prototype={constructor:ef,on:function(t,e){var n=this._,r=Sv(t+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(t=r[i]).type)&&(o=Tv(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=r[i]).type)n[o]=m0(n[o],t.name,e);else if(e==null)for(o in n)n[o]=m0(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ef(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};function Tv(t,e){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===e)return o.value}function m0(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=Mv,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var xe=g0;var nf="http://www.w3.org/1999/xhtml",Ai={svg:"http://www.w3.org/2000/svg",xhtml:nf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xe(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ai.hasOwnProperty(e)?{space:Ai[e],local:t}:t}function Av(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===nf&&e.documentElement.namespaceURI===nf?e.createElement(t):e.createElementNS(n,t)}}function kv(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Dn(t){var e=Xe(t);return(e.local?kv:Av)(e)}function Ev(){}function On(t){return t==null?Ev:function(){return this.querySelector(t)}}function x0(t){typeof t!="function"&&(t=On(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=new Array(a),s,u,c=0;c<a;++c)(s=i[c])&&(u=t.call(s,s.__data__,c,i))&&("__data__"in s&&(u.__data__=s.__data__),f[c]=u);return new Mt(r,this._parents)}function ki(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Nv(){return[]}function go(t){return t==null?Nv:function(){return this.querySelectorAll(t)}}function Cv(t){return function(){return ki(t.apply(this,arguments))}}function b0(t){typeof t=="function"?t=Cv(t):t=go(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a=e[i],f=a.length,s,u=0;u<f;++u)(s=a[u])&&(r.push(t.call(s,s.__data__,u,a)),o.push(s));return new Mt(r,o)}function xo(t){return function(){return this.matches(t)}}function rf(t){return function(e){return e.matches(t)}}var Rv=Array.prototype.find;function Iv(t){return function(){return Rv.call(this.children,t)}}function Pv(){return this.firstElementChild}function y0(t){return this.select(t==null?Pv:Iv(typeof t=="function"?t:rf(t)))}var qv=Array.prototype.filter;function Dv(){return Array.from(this.children)}function Ov(t){return function(){return qv.call(this.children,t)}}function _0(t){return this.selectAll(t==null?Dv:Ov(typeof t=="function"?t:rf(t)))}function v0(t){typeof t!="function"&&(t=xo(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=[],s,u=0;u<a;++u)(s=i[u])&&t.call(s,s.__data__,u,i)&&f.push(s);return new Mt(r,this._parents)}function of(t){return new Array(t.length)}function w0(){return new Mt(this._enter||this._groups.map(of),this._parents)}function Ei(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ei.prototype={constructor:Ei,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function M0(t){return function(){return t}}function Fv(t,e,n,r,o,i){for(var a=0,f,s=e.length,u=i.length;a<u;++a)(f=e[a])?(f.__data__=i[a],r[a]=f):n[a]=new Ei(t,i[a]);for(;a<s;++a)(f=e[a])&&(o[a]=f)}function Lv(t,e,n,r,o,i,a){var f,s,u=new Map,c=e.length,h=i.length,l=new Array(c),p;for(f=0;f<c;++f)(s=e[f])&&(l[f]=p=a.call(s,s.__data__,f,e)+"",u.has(p)?o[f]=s:u.set(p,s));for(f=0;f<h;++f)p=a.call(t,i[f],f,i)+"",(s=u.get(p))?(r[f]=s,s.__data__=i[f],u.delete(p)):n[f]=new Ei(t,i[f]);for(f=0;f<c;++f)(s=e[f])&&u.get(l[f])===s&&(o[f]=s)}function $v(t){return t.__data__}function S0(t,e){if(!arguments.length)return Array.from(this,$v);var n=e?Lv:Fv,r=this._parents,o=this._groups;typeof t!="function"&&(t=M0(t));for(var i=o.length,a=new Array(i),f=new Array(i),s=new Array(i),u=0;u<i;++u){var c=r[u],h=o[u],l=h.length,p=Yv(t.call(c,c&&c.__data__,u,r)),m=p.length,g=f[u]=new Array(m),d=a[u]=new Array(m),x=s[u]=new Array(l);n(c,h,g,d,x,p,e);for(var _=0,y=0,b,v;_<m;++_)if(b=g[_]){for(_>=y&&(y=_+1);!(v=d[y])&&++y<m;);b._next=v||null}}return a=new Mt(a,r),a._enter=f,a._exit=s,a}function Yv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function T0(){return new Mt(this._exit||this._groups.map(of),this._parents)}function A0(t,e,n){var r=this.enter(),o=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function k0(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),f=new Array(o),s=0;s<a;++s)for(var u=n[s],c=r[s],h=u.length,l=f[s]=new Array(h),p,m=0;m<h;++m)(p=u[m]||c[m])&&(l[m]=p);for(;s<o;++s)f[s]=n[s];return new Mt(f,this._parents)}function E0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function N0(t){t||(t=Uv);function e(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],f=a.length,s=o[i]=new Array(f),u,c=0;c<f;++c)(u=a[c])&&(s[c]=u);s.sort(e)}return new Mt(o,this._parents).order()}function Uv(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function C0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function R0(){return Array.from(this)}function I0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function P0(){let t=0;for(let e of this)++t;return t}function q0(){return!this.node()}function D0(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,a=o.length,f;i<a;++i)(f=o[i])&&t.call(f,f.__data__,i,o);return this}function zv(t){return function(){this.removeAttribute(t)}}function Bv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hv(t,e){return function(){this.setAttribute(t,e)}}function Xv(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Vv(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Wv(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function O0(t,e){var n=Xe(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Bv:zv:typeof e=="function"?n.local?Wv:Vv:n.local?Xv:Hv)(n,e))}function bo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Gv(t){return function(){this.style.removeProperty(t)}}function Zv(t,e,n){return function(){this.style.setProperty(t,e,n)}}function jv(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function F0(t,e,n){return arguments.length>1?this.each((e==null?Gv:typeof e=="function"?jv:Zv)(t,e,n==null?"":n)):xn(this.node(),t)}function xn(t,e){return t.style.getPropertyValue(e)||bo(t).getComputedStyle(t,null).getPropertyValue(e)}function Qv(t){return function(){delete this[t]}}function Kv(t,e){return function(){this[t]=e}}function Jv(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function L0(t,e){return arguments.length>1?this.each((e==null?Qv:typeof e=="function"?Jv:Kv)(t,e)):this.node()[t]}function $0(t){return t.trim().split(/^|\s+/)}function Ic(t){return t.classList||new Y0(t)}function Y0(t){this._node=t,this._names=$0(t.getAttribute("class")||"")}Y0.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function U0(t,e){for(var n=Ic(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function z0(t,e){for(var n=Ic(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function t3(t){return function(){U0(this,t)}}function e3(t){return function(){z0(this,t)}}function n3(t,e){return function(){(e.apply(this,arguments)?U0:z0)(this,t)}}function B0(t,e){var n=$0(t+"");if(arguments.length<2){for(var r=Ic(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?n3:e?t3:e3)(n,e))}function r3(){this.textContent=""}function o3(t){return function(){this.textContent=t}}function i3(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function H0(t){return arguments.length?this.each(t==null?r3:(typeof t=="function"?i3:o3)(t)):this.node().textContent}function a3(){this.innerHTML=""}function f3(t){return function(){this.innerHTML=t}}function u3(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function X0(t){return arguments.length?this.each(t==null?a3:(typeof t=="function"?u3:f3)(t)):this.node().innerHTML}function s3(){this.nextSibling&&this.parentNode.appendChild(this)}function V0(){return this.each(s3)}function c3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function W0(){return this.each(c3)}function G0(t){var e=typeof t=="function"?t:Dn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function l3(){return null}function Z0(t,e){var n=typeof t=="function"?t:Dn(t),r=e==null?l3:typeof e=="function"?e:On(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function h3(){var t=this.parentNode;t&&t.removeChild(this)}function j0(){return this.each(h3)}function p3(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function d3(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Q0(t){return this.select(t?d3:p3)}function K0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function m3(t){return function(e){t.call(this,e,this.__data__)}}function g3(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function x3(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,o=e.length,i;n<o;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function b3(t,e,n){return function(){var r=this.__on,o,i=m3(e);if(r){for(var a=0,f=r.length;a<f;++a)if((o=r[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=e;return}}this.addEventListener(t.type,i,n),o={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(o):this.__on=[o]}}function J0(t,e,n){var r=g3(t+""),o,i=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var s=0,u=f.length,c;s<u;++s)for(o=0,c=f[s];o<i;++o)if((a=r[o]).type===c.type&&a.name===c.name)return c.value}return}for(f=e?b3:x3,o=0;o<i;++o)this.each(f(r[o],e,n));return this}function td(t,e,n){var r=bo(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function y3(t,e){return function(){return td(this,t,e)}}function _3(t,e){return function(){return td(this,t,e.apply(this,arguments))}}function ed(t,e){return this.each((typeof e=="function"?_3:y3)(t,e))}function*nd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var Ni=[null];function Mt(t,e){this._groups=t,this._parents=e}function rd(){return new Mt([[document.documentElement]],Ni)}function v3(){return this}Mt.prototype=rd.prototype={constructor:Mt,select:x0,selectAll:b0,selectChild:y0,selectChildren:_0,filter:v0,data:S0,enter:w0,exit:T0,join:A0,merge:k0,selection:v3,order:E0,sort:N0,call:C0,nodes:R0,node:I0,size:P0,empty:q0,each:D0,attr:O0,style:F0,property:L0,classed:B0,text:H0,html:X0,raise:V0,lower:W0,append:G0,insert:Z0,remove:j0,clone:Q0,datum:K0,on:J0,dispatch:ed,[Symbol.iterator]:nd};var Ve=rd;function Et(t){return typeof t=="string"?new Mt([[document.querySelector(t)]],[document.documentElement]):new Mt([[t]],Ni)}function od(t){return Et(Dn(t).call(document.documentElement))}var w3=0;function af(){return new Pc}function Pc(){this._="@"+(++w3).toString(36)}Pc.prototype=af.prototype={constructor:Pc,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function ff(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ot(t,e){if(t=ff(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function id(t,e){return t.target&&(t=ff(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>Ot(n,e))}function ad(t){return typeof t=="string"?new Mt([document.querySelectorAll(t)],[document.documentElement]):new Mt([ki(t)],Ni)}var fd={passive:!1},xr={capture:!0,passive:!1};function uf(t){t.stopImmediatePropagation()}function Fn(t){t.preventDefault(),t.stopImmediatePropagation()}function Ln(t){var e=t.document.documentElement,n=Et(t).on("dragstart.drag",Fn,xr);"onselectstart"in e?n.on("selectstart.drag",Fn,xr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function $n(t,e){var n=t.document.documentElement,r=Et(t).on("dragstart.drag",null);e&&(r.on("click.drag",Fn,xr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ci=t=>()=>t;function Ri(t,{sourceEvent:e,subject:n,target:r,identifier:o,active:i,x:a,y:f,dx:s,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Ri.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function M3(t){return!t.ctrlKey&&!t.button}function S3(){return this.parentNode}function T3(t,e){return e==null?{x:t.x,y:t.y}:e}function A3(){return navigator.maxTouchPoints||"ontouchstart"in this}function ud(){var t=M3,e=S3,n=T3,r=A3,o={},i=xe("start","drag","end"),a=0,f,s,u,c,h=0;function l(b){b.on("mousedown.drag",p).filter(r).on("touchstart.drag",d).on("touchmove.drag",x,fd).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,v){if(!(c||!t.call(this,b,v))){var w=y(this,e.call(this,b,v),b,v,"mouse");w&&(Et(b.view).on("mousemove.drag",m,xr).on("mouseup.drag",g,xr),Ln(b.view),uf(b),u=!1,f=b.clientX,s=b.clientY,w("start",b))}}function m(b){if(Fn(b),!u){var v=b.clientX-f,w=b.clientY-s;u=v*v+w*w>h}o.mouse("drag",b)}function g(b){Et(b.view).on("mousemove.drag mouseup.drag",null),$n(b.view,u),Fn(b),o.mouse("end",b)}function d(b,v){if(t.call(this,b,v)){var w=b.changedTouches,k=e.call(this,b,v),C=w.length,N,E;for(N=0;N<C;++N)(E=y(this,k,b,v,w[N].identifier,w[N]))&&(uf(b),E("start",b,w[N]))}}function x(b){var v=b.changedTouches,w=v.length,k,C;for(k=0;k<w;++k)(C=o[v[k].identifier])&&(Fn(b),C("drag",b,v[k]))}function _(b){var v=b.changedTouches,w=v.length,k,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),k=0;k<w;++k)(C=o[v[k].identifier])&&(uf(b),C("end",b,v[k]))}function y(b,v,w,k,C,N){var E=i.copy(),S=Ot(N||w,v),P,R,M;if((M=n.call(b,new Ri("beforestart",{sourceEvent:w,target:l,identifier:C,active:a,x:S[0],y:S[1],dx:0,dy:0,dispatch:E}),k))!=null)return P=M.x-S[0]||0,R=M.y-S[1]||0,function A(T,I,O){var q=S,U;switch(T){case"start":o[C]=A,U=a++;break;case"end":delete o[C],--a;case"drag":S=Ot(O||I,v),U=a;break}E.call(T,b,new Ri(T,{sourceEvent:I,subject:M,target:l,identifier:C,active:U,x:S[0]+P,y:S[1]+R,dx:S[0]-q[0],dy:S[1]-q[1],dispatch:E}),k)}}return l.filter=function(b){return arguments.length?(t=typeof b=="function"?b:Ci(!!b),l):t},l.container=function(b){return arguments.length?(e=typeof b=="function"?b:Ci(b),l):e},l.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Ci(b),l):n},l.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Ci(!!b),l):r},l.on=function(){var b=i.on.apply(i,arguments);return b===i?l:b},l.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,l):Math.sqrt(h)},l}function bn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Yn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ge(){}var Un=.7,_r=1/Un,yo="\\s*([+-]?\\d+)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",We="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k3=/^#([0-9a-f]{3,8})$/,E3=new RegExp(`^rgb\\(${yo},${yo},${yo}\\)$`),N3=new RegExp(`^rgb\\(${We},${We},${We}\\)$`),C3=new RegExp(`^rgba\\(${yo},${yo},${yo},${Ii}\\)$`),R3=new RegExp(`^rgba\\(${We},${We},${We},${Ii}\\)$`),I3=new RegExp(`^hsl\\(${Ii},${We},${We}\\)$`),P3=new RegExp(`^hsla\\(${Ii},${We},${We},${Ii}\\)$`),sd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bn(Ge,be,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cd,formatHex:cd,formatHex8:q3,formatHsl:D3,formatRgb:ld,toString:ld});function cd(){return this.rgb().formatHex()}function q3(){return this.rgb().formatHex8()}function D3(){return xd(this).formatHsl()}function ld(){return this.rgb().formatRgb()}function be(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=k3.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hd(e):n===3?new It(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?sf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?sf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=E3.exec(t))?new It(e[1],e[2],e[3],1):(e=N3.exec(t))?new It(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=C3.exec(t))?sf(e[1],e[2],e[3],e[4]):(e=R3.exec(t))?sf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=I3.exec(t))?md(e[1],e[2]/100,e[3]/100,1):(e=P3.exec(t))?md(e[1],e[2]/100,e[3]/100,e[4]):sd.hasOwnProperty(t)?hd(sd[t]):t==="transparent"?new It(NaN,NaN,NaN,0):null}function hd(t){return new It(t>>16&255,t>>8&255,t&255,1)}function sf(t,e,n,r){return r<=0&&(t=e=n=NaN),new It(t,e,n,r)}function Pi(t){return t instanceof Ge||(t=be(t)),t?(t=t.rgb(),new It(t.r,t.g,t.b,t.opacity)):new It}function yn(t,e,n,r){return arguments.length===1?Pi(t):new It(t,e,n,r==null?1:r)}function It(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}bn(It,yn,Yn(Ge,{brighter(t){return t=t==null?_r:Math.pow(_r,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Un:Math.pow(Un,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new It(yr(this.r),yr(this.g),yr(this.b),lf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pd,formatHex:pd,formatHex8:O3,formatRgb:dd,toString:dd}));function pd(){return`#${br(this.r)}${br(this.g)}${br(this.b)}`}function O3(){return`#${br(this.r)}${br(this.g)}${br(this.b)}${br((isNaN(this.opacity)?1:this.opacity)*255)}`}function dd(){let t=lf(this.opacity);return`${t===1?"rgb(":"rgba("}${yr(this.r)}, ${yr(this.g)}, ${yr(this.b)}${t===1?")":`, ${t})`}`}function lf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function br(t){return t=yr(t),(t<16?"0":"")+t.toString(16)}function md(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ie(t,e,n,r)}function xd(t){if(t instanceof Ie)return new Ie(t.h,t.s,t.l,t.opacity);if(t instanceof Ge||(t=be(t)),!t)return new Ie;if(t instanceof Ie)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,f=i-o,s=(i+o)/2;return f?(e===i?a=(n-r)/f+(n<r)*6:n===i?a=(r-e)/f+2:a=(e-n)/f+4,f/=s<.5?i+o:2-i-o,a*=60):f=s>0&&s<1?0:a,new Ie(a,f,s,t.opacity)}function _o(t,e,n,r){return arguments.length===1?xd(t):new Ie(t,e,n,r==null?1:r)}function Ie(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}bn(Ie,_o,Yn(Ge,{brighter(t){return t=t==null?_r:Math.pow(_r,t),new Ie(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Un:Math.pow(Un,t),new Ie(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new It(qc(t>=240?t-240:t+120,o,r),qc(t,o,r),qc(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new Ie(gd(this.h),cf(this.s),cf(this.l),lf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=lf(this.opacity);return`${t===1?"hsl(":"hsla("}${gd(this.h)}, ${cf(this.s)*100}%, ${cf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gd(t){return t=(t||0)%360,t<0?t+360:t}function cf(t){return Math.max(0,Math.min(1,t||0))}function qc(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var hf=Math.PI/180,pf=180/Math.PI;var df=18,bd=.96422,yd=1,_d=.82521,vd=4/29,vo=6/29,wd=3*vo*vo,F3=vo*vo*vo;function Md(t){if(t instanceof Pe)return new Pe(t.l,t.a,t.b,t.opacity);if(t instanceof Ze)return kd(t);t instanceof It||(t=Pi(t));var e=Lc(t.r),n=Lc(t.g),r=Lc(t.b),o=Dc((.2225045*e+.7168786*n+.0606169*r)/yd),i,a;return e===n&&n===r?i=a=o:(i=Dc((.4360747*e+.3850649*n+.1430804*r)/bd),a=Dc((.0139322*e+.0971045*n+.7141733*r)/_d)),new Pe(116*o-16,500*(i-o),200*(o-a),t.opacity)}function Sd(t,e){return new Pe(t,0,0,e==null?1:e)}function vr(t,e,n,r){return arguments.length===1?Md(t):new Pe(t,e,n,r==null?1:r)}function Pe(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}bn(Pe,vr,Yn(Ge,{brighter(t){return new Pe(this.l+df*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new Pe(this.l-df*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=bd*Oc(e),t=yd*Oc(t),n=_d*Oc(n),new It(Fc(3.1338561*e-1.6168667*t-.4906146*n),Fc(-.9787684*e+1.9161415*t+.033454*n),Fc(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Dc(t){return t>F3?Math.pow(t,1/3):t/wd+vd}function Oc(t){return t>vo?t*t*t:wd*(t-vd)}function Fc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Lc(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Td(t){if(t instanceof Ze)return new Ze(t.h,t.c,t.l,t.opacity);if(t instanceof Pe||(t=Md(t)),t.a===0&&t.b===0)return new Ze(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*pf;return new Ze(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ad(t,e,n,r){return arguments.length===1?Td(t):new Ze(n,e,t,r==null?1:r)}function wo(t,e,n,r){return arguments.length===1?Td(t):new Ze(t,e,n,r==null?1:r)}function Ze(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function kd(t){if(isNaN(t.h))return new Pe(t.l,0,0,t.opacity);var e=t.h*hf;return new Pe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}bn(Ze,wo,Yn(Ge,{brighter(t){return new Ze(this.h,this.c,this.l+df*(t==null?1:t),this.opacity)},darker(t){return new Ze(this.h,this.c,this.l-df*(t==null?1:t),this.opacity)},rgb(){return kd(this).rgb()}}));var Rd=-.14861,$c=1.78277,Yc=-.29227,mf=-.90649,qi=1.97294,Ed=qi*mf,Nd=qi*$c,Cd=$c*Yc-mf*Rd;function L3(t){if(t instanceof wr)return new wr(t.h,t.s,t.l,t.opacity);t instanceof It||(t=Pi(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(Cd*r+Ed*e-Nd*n)/(Cd+Ed-Nd),i=r-o,a=(qi*(n-o)-Yc*i)/mf,f=Math.sqrt(a*a+i*i)/(qi*o*(1-o)),s=f?Math.atan2(a,i)*pf-120:NaN;return new wr(s<0?s+360:s,f,o,t.opacity)}function Wt(t,e,n,r){return arguments.length===1?L3(t):new wr(t,e,n,r==null?1:r)}function wr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}bn(wr,Wt,Yn(Ge,{brighter(t){return t=t==null?_r:Math.pow(_r,t),new wr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Un:Math.pow(Un,t),new wr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*hf,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new It(255*(e+n*(Rd*r+$c*o)),255*(e+n*(Yc*r+mf*o)),255*(e+n*(qi*r)),this.opacity)}}));function Uc(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}function gf(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,f=r<e-1?t[r+2]:2*i-o;return Uc((n-r/e)*e,a,o,i,f)}}function xf(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],f=t[(r+2)%e];return Uc((n-r/e)*e,o,i,a,f)}}var Mo=t=>()=>t;function Id(t,e){return function(n){return t+n*e}}function $3(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zn(t,e){var n=e-t;return n?Id(t,n>180||n<-180?n-360*Math.round(n/360):n):Mo(isNaN(t)?e:t)}function Pd(t){return(t=+t)==1?Tt:function(e,n){return n-e?$3(e,n,t):Mo(isNaN(e)?n:e)}}function Tt(t,e){var n=e-t;return n?Id(t,n):Mo(isNaN(t)?e:t)}var Bn=(function t(e){var n=Pd(e);function r(o,i){var a=n((o=yn(o)).r,(i=yn(i)).r),f=n(o.g,i.g),s=n(o.b,i.b),u=Tt(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=f(c),o.b=s(c),o.opacity=u(c),o+""}}return r.gamma=t,r})(1);function qd(t){return function(e){var n=e.length,r=new Array(n),o=new Array(n),i=new Array(n),a,f;for(a=0;a<n;++a)f=yn(e[a]),r[a]=f.r||0,o[a]=f.g||0,i[a]=f.b||0;return r=t(r),o=t(o),i=t(i),f.opacity=1,function(s){return f.r=r(s),f.g=o(s),f.b=i(s),f+""}}}var bf=qd(gf),Dd=qd(xf);function So(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=t[o]*(1-i)+e[o]*i;return r}}function yf(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Od(t,e){return(yf(e)?So:zc)(t,e)}function zc(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=Gt(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(f){for(a=0;a<r;++a)i[a]=o[a](f);return i}}function _f(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ft(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vf(t,e){var n={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=Gt(t[o],e[o]):r[o]=e[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Hc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bc=new RegExp(Hc.source,"g");function Y3(t){return function(){return t}}function U3(t){return function(e){return t(e)+""}}function To(t,e){var n=Hc.lastIndex=Bc.lastIndex=0,r,o,i,a=-1,f=[],s=[];for(t=t+"",e=e+"";(r=Hc.exec(t))&&(o=Bc.exec(e));)(i=o.index)>n&&(i=e.slice(n,i),f[a]?f[a]+=i:f[++a]=i),(r=r[0])===(o=o[0])?f[a]?f[a]+=o:f[++a]=o:(f[++a]=null,s.push({i:a,x:Ft(r,o)})),n=Bc.lastIndex;return n<e.length&&(i=e.slice(n),f[a]?f[a]+=i:f[++a]=i),f.length<2?s[0]?U3(s[0].x):Y3(e):(e=s.length,function(u){for(var c=0,h;c<e;++c)f[(h=s[c]).i]=h.x(u);return f.join("")})}function Gt(t,e){var n=typeof e,r;return e==null||n==="boolean"?Mo(e):(n==="number"?Ft:n==="string"?(r=be(e))?(e=r,Bn):To:e instanceof be?Bn:e instanceof Date?_f:yf(e)?So:Array.isArray(e)?zc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vf:Ft)(t,e)}function Fd(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Ld(t,e){var n=zn(+t,+e);return function(r){var o=n(r);return o-360*Math.floor(o/360)}}function Hn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var $d=180/Math.PI,wf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xc(t,e,n,r,o,i){var a,f,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,s/=f),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*$d,skewX:Math.atan(s)*$d,scaleX:a,scaleY:f}}var Mf;function Yd(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?wf:Xc(e.a,e.b,e.c,e.d,e.e,e.f)}function Ud(t){return t==null?wf:(Mf||(Mf=document.createElementNS("http://www.w3.org/2000/svg","g")),Mf.setAttribute("transform",t),(t=Mf.transform.baseVal.consolidate())?(t=t.matrix,Xc(t.a,t.b,t.c,t.d,t.e,t.f)):wf)}function zd(t,e,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,h,l,p,m){if(u!==h||c!==l){var g=p.push("translate(",null,e,null,n);m.push({i:g-4,x:Ft(u,h)},{i:g-2,x:Ft(c,l)})}else(h||l)&&p.push("translate("+h+e+l+n)}function a(u,c,h,l){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),l.push({i:h.push(o(h)+"rotate(",null,r)-2,x:Ft(u,c)})):c&&h.push(o(h)+"rotate("+c+r)}function f(u,c,h,l){u!==c?l.push({i:h.push(o(h)+"skewX(",null,r)-2,x:Ft(u,c)}):c&&h.push(o(h)+"skewX("+c+r)}function s(u,c,h,l,p,m){if(u!==h||c!==l){var g=p.push(o(p)+"scale(",null,",",null,")");m.push({i:g-4,x:Ft(u,h)},{i:g-2,x:Ft(c,l)})}else(h!==1||l!==1)&&p.push(o(p)+"scale("+h+","+l+")")}return function(u,c){var h=[],l=[];return u=t(u),c=t(c),i(u.translateX,u.translateY,c.translateX,c.translateY,h,l),a(u.rotate,c.rotate,h,l),f(u.skewX,c.skewX,h,l),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,l),u=c=null,function(p){for(var m=-1,g=l.length,d;++m<g;)h[(d=l[m]).i]=d.x(p);return h.join("")}}}var Sf=zd(Yd,"px, ","px)","deg)"),Tf=zd(Ud,", ",")",")");var z3=1e-12;function Bd(t){return((t=Math.exp(t))+1/t)/2}function B3(t){return((t=Math.exp(t))-1/t)/2}function H3(t){return((t=Math.exp(2*t))-1)/(t+1)}var Af=(function t(e,n,r){function o(i,a){var f=i[0],s=i[1],u=i[2],c=a[0],h=a[1],l=a[2],p=c-f,m=h-s,g=p*p+m*m,d,x;if(g<z3)x=Math.log(l/u)/e,d=function(k){return[f+k*p,s+k*m,u*Math.exp(e*k*x)]};else{var _=Math.sqrt(g),y=(l*l-u*u+r*g)/(2*u*n*_),b=(l*l-u*u-r*g)/(2*l*n*_),v=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(b*b+1)-b);x=(w-v)/e,d=function(k){var C=k*x,N=Bd(v),E=u/(n*_)*(N*H3(e*C+v)-B3(v));return[f+E*p,s+E*m,u*N/Bd(e*C+v)]}}return d.duration=x*1e3*e/Math.SQRT2,d}return o.rho=function(i){var a=Math.max(.001,+i),f=a*a,s=f*f;return t(a,f,s)},o})(Math.SQRT2,2,4);function Hd(t){return function(e,n){var r=t((e=_o(e)).h,(n=_o(n)).h),o=Tt(e.s,n.s),i=Tt(e.l,n.l),a=Tt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Xd=Hd(zn),Vd=Hd(Tt);function Vc(t,e){var n=Tt((t=vr(t)).l,(e=vr(e)).l),r=Tt(t.a,e.a),o=Tt(t.b,e.b),i=Tt(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=o(a),t.opacity=i(a),t+""}}function Wd(t){return function(e,n){var r=t((e=wo(e)).h,(n=wo(n)).h),o=Tt(e.c,n.c),i=Tt(e.l,n.l),a=Tt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Gd=Wd(zn),Zd=Wd(Tt);function jd(t){return(function e(n){n=+n;function r(o,i){var a=t((o=Wt(o)).h,(i=Wt(i)).h),f=Tt(o.s,i.s),s=Tt(o.l,i.l),u=Tt(o.opacity,i.opacity);return function(c){return o.h=a(c),o.s=f(c),o.l=s(Math.pow(c,n)),o.opacity=u(c),o+""}}return r.gamma=e,r})(1)}var Qd=jd(zn),Mr=jd(Tt);function Di(t,e){e===void 0&&(e=t,t=Gt);for(var n=0,r=e.length-1,o=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(o,o=e[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return i[f](a-f)}}function Kd(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Ao=0,Fi=0,Oi=0,tm=1e3,kf,Li,Ef=0,Sr=0,Nf=0,$i=typeof performance=="object"&&performance.now?performance:Date,em=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Xn(){return Sr||(em(X3),Sr=$i.now()+Nf)}function X3(){Sr=0}function Tr(){this._call=this._time=this._next=null}Tr.prototype=Ar.prototype={constructor:Tr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Xn():+n)+(e==null?0:+e),!this._next&&Li!==this&&(Li?Li._next=this:kf=this,Li=this),this._call=t,this._time=n,Wc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wc())}};function Ar(t,e,n){var r=new Tr;return r.restart(t,e,n),r}function Gc(){Xn(),++Ao;for(var t=kf,e;t;)(e=Sr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ao}function Jd(){Sr=(Ef=$i.now())+Nf,Ao=Fi=0;try{Gc()}finally{Ao=0,W3(),Sr=0}}function V3(){var t=$i.now(),e=t-Ef;e>tm&&(Nf-=e,Ef=t)}function W3(){for(var t,e=kf,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:kf=n);Li=t,Wc(r)}function Wc(t){if(!Ao){Fi&&(Fi=clearTimeout(Fi));var e=t-Sr;e>24?(t<1/0&&(Fi=setTimeout(Jd,t-$i.now()-Nf)),Oi&&(Oi=clearInterval(Oi))):(Oi||(Ef=$i.now(),Oi=setInterval(V3,tm)),Ao=1,em(Jd))}}function Yi(t,e,n){var r=new Tr;return e=e==null?0:+e,r.restart(o=>{r.stop(),t(o+e)},e,n),r}function nm(t,e,n){var r=new Tr,o=e;return e==null?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(i,a,f){a=+a,f=f==null?Xn():+f,r._restart(function s(u){u+=o,r._restart(s,o+=a,f),i(u)},a,f)},r.restart(t,e,n),r)}var G3=xe("start","end","cancel","interrupt"),Z3=[],om=0,Rf=1,If=2,Cf=3,rm=4,Pf=5,Ui=6;function Vn(t,e,n,r,o,i){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;j3(t,n,{name:e,index:r,group:o,on:G3,tween:Z3,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:om})}function zi(t,e){var n=qt(t,e);if(n.state>om)throw new Error("too late; already scheduled");return n}function Ht(t,e){var n=qt(t,e);if(n.state>Cf)throw new Error("too late; already running");return n}function qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function j3(t,e,n){var r=t.__transition,o;r[e]=n,n.timer=Ar(i,0,n.time);function i(u){n.state=Rf,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,l,p;if(n.state!==Rf)return s();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Cf)return Yi(a);p.state===rm?(p.state=Ui,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=Ui,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(Yi(function(){n.state===Cf&&(n.state=rm,n.timer.restart(f,n.delay,n.time),f(u))}),n.state=If,n.on.call("start",t,t.__data__,n.index,n.group),n.state===If){for(n.state=Cf,o=new Array(l=n.tween.length),c=0,h=-1;c<l;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(o[++h]=p);o.length=h+1}}function f(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Pf,1),h=-1,l=o.length;++h<l;)o[h].call(t,c);n.state===Pf&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Ui,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function qe(t,e){var n=t.__transition,r,o,i=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){i=!1;continue}o=r.state>If&&r.state<Pf,r.state=Ui,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}i&&delete t.__transition}}function im(t){return this.each(function(){qe(this,t)})}function Q3(t,e){var n,r;return function(){var o=Ht(this,t),i=o.tween;if(i!==n){r=n=i;for(var a=0,f=r.length;a<f;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function K3(t,e,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Ht(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var f={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=f;break}s===u&&o.push(f)}i.tween=o}}function am(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=qt(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===t)return a.value;return null}return this.each((e==null?Q3:K3)(n,t,e))}function ko(t,e,n){var r=t._id;return t.each(function(){var o=Ht(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return qt(o,r).value[e]}}function qf(t,e){var n;return(typeof e=="number"?Ft:e instanceof be?Bn:(n=be(e))?(e=n,Bn):To)(t,e)}function J3(t){return function(){this.removeAttribute(t)}}function tw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ew(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function nw(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function rw(t,e,n){var r,o,i;return function(){var a,f=n(this),s;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=f+"",a===s?null:a===r&&s===o?i:(o=s,i=e(r=a,f)))}}function ow(t,e,n){var r,o,i;return function(){var a,f=n(this),s;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=f+"",a===s?null:a===r&&s===o?i:(o=s,i=e(r=a,f)))}}function fm(t,e){var n=Xe(t),r=n==="transform"?Tf:qf;return this.attrTween(t,typeof e=="function"?(n.local?ow:rw)(n,r,ko(this,"attr."+t,e)):e==null?(n.local?tw:J3)(n):(n.local?nw:ew)(n,r,e))}function iw(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function aw(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fw(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&aw(t,i)),n}return o._value=e,o}function uw(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&iw(t,i)),n}return o._value=e,o}function um(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Xe(t);return this.tween(n,(r.local?fw:uw)(r,e))}function sw(t,e){return function(){zi(this,t).delay=+e.apply(this,arguments)}}function cw(t,e){return e=+e,function(){zi(this,t).delay=e}}function sm(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sw:cw)(e,t)):qt(this.node(),e).delay}function lw(t,e){return function(){Ht(this,t).duration=+e.apply(this,arguments)}}function hw(t,e){return e=+e,function(){Ht(this,t).duration=e}}function cm(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lw:hw)(e,t)):qt(this.node(),e).duration}function pw(t,e){if(typeof e!="function")throw new Error;return function(){Ht(this,t).ease=e}}function lm(t){var e=this._id;return arguments.length?this.each(pw(e,t)):qt(this.node(),e).ease}function dw(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ht(this,t).ease=n}}function hm(t){if(typeof t!="function")throw new Error;return this.each(dw(this._id,t))}function pm(t){typeof t!="function"&&(t=xo(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=[],s,u=0;u<a;++u)(s=i[u])&&t.call(s,s.__data__,u,i)&&f.push(s);return new Xt(r,this._parents,this._name,this._id)}function dm(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),f=0;f<i;++f)for(var s=e[f],u=n[f],c=s.length,h=a[f]=new Array(c),l,p=0;p<c;++p)(l=s[p]||u[p])&&(h[p]=l);for(;f<r;++f)a[f]=e[f];return new Xt(a,this._parents,this._name,this._id)}function mw(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function gw(t,e,n){var r,o,i=mw(e)?zi:Ht;return function(){var a=i(this,t),f=a.on;f!==r&&(o=(r=f).copy()).on(e,n),a.on=o}}function mm(t,e){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(t):this.each(gw(n,t,e))}function xw(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function gm(){return this.on("end.remove",xw(this._id))}function xm(t){var e=this._name,n=this._id;typeof t!="function"&&(t=On(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var f=r[a],s=f.length,u=i[a]=new Array(s),c,h,l=0;l<s;++l)(c=f[l])&&(h=t.call(c,c.__data__,l,f))&&("__data__"in c&&(h.__data__=c.__data__),u[l]=h,Vn(u[l],e,n,l,u,qt(c,n)));return new Xt(i,this._parents,e,n)}function bm(t){var e=this._name,n=this._id;typeof t!="function"&&(t=go(t));for(var r=this._groups,o=r.length,i=[],a=[],f=0;f<o;++f)for(var s=r[f],u=s.length,c,h=0;h<u;++h)if(c=s[h]){for(var l=t.call(c,c.__data__,h,s),p,m=qt(c,n),g=0,d=l.length;g<d;++g)(p=l[g])&&Vn(p,e,n,g,l,m);i.push(l),a.push(c)}return new Xt(i,a,e,n)}var bw=Ve.prototype.constructor;function ym(){return new bw(this._groups,this._parents)}function yw(t,e){var n,r,o;return function(){var i=xn(this,t),a=(this.style.removeProperty(t),xn(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}function _m(t){return function(){this.style.removeProperty(t)}}function _w(t,e,n){var r,o=n+"",i;return function(){var a=xn(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}function vw(t,e,n){var r,o,i;return function(){var a=xn(this,t),f=n(this),s=f+"";return f==null&&(s=f=(this.style.removeProperty(t),xn(this,t))),a===s?null:a===r&&s===o?i:(o=s,i=e(r=a,f))}}function ww(t,e){var n,r,o,i="style."+e,a="end."+i,f;return function(){var s=Ht(this,t),u=s.on,c=s.value[i]==null?f||(f=_m(e)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(a,o=c),s.on=r}}function vm(t,e,n){var r=(t+="")=="transform"?Sf:qf;return e==null?this.styleTween(t,yw(t,r)).on("end.style."+t,_m(t)):typeof e=="function"?this.styleTween(t,vw(t,r,ko(this,"style."+t,e))).each(ww(this._id,t)):this.styleTween(t,_w(t,r,e),n).on("end.style."+t,null)}function Mw(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Sw(t,e,n){var r,o;function i(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&Mw(t,a,n)),r}return i._value=e,i}function wm(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Sw(t,e,n==null?"":n))}function Tw(t){return function(){this.textContent=t}}function Aw(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Mm(t){return this.tween("text",typeof t=="function"?Aw(ko(this,"text",t)):Tw(t==null?"":t+""))}function kw(t){return function(e){this.textContent=t.call(this,e)}}function Ew(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&kw(o)),e}return r._value=t,r}function Sm(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ew(t))}function Tm(){for(var t=this._name,e=this._id,n=Df(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],f=a.length,s,u=0;u<f;++u)if(s=a[u]){var c=qt(s,e);Vn(s,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Xt(r,this._parents,t,n)}function Am(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var f={value:a},s={value:function(){--o===0&&i()}};n.each(function(){var u=Ht(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(s)),u.on=e}),o===0&&i()})}var Nw=0;function Xt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Of(t){return Ve().transition(t)}function Df(){return++Nw}var _n=Ve.prototype;Xt.prototype=Of.prototype={constructor:Xt,select:xm,selectAll:bm,selectChild:_n.selectChild,selectChildren:_n.selectChildren,filter:pm,merge:dm,selection:ym,transition:Tm,call:_n.call,nodes:_n.nodes,node:_n.node,size:_n.size,empty:_n.empty,each:_n.each,on:mm,attr:fm,attrTween:um,style:vm,styleTween:wm,text:Mm,textTween:Sm,remove:gm,tween:am,delay:sm,duration:cm,ease:lm,easeVarying:hm,end:Am,[Symbol.iterator]:_n[Symbol.iterator]};var km=t=>+t;function Em(t){return t*t}function Nm(t){return t*(2-t)}function Zc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Cm(t){return t*t*t}function Rm(t){return--t*t*t+1}function Bi(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var jc=3,Im=(function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n})(jc),Pm=(function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n})(jc),Qc=(function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n})(jc);var qm=Math.PI,Dm=qm/2;function Om(t){return+t==1?1:1-Math.cos(t*Dm)}function Fm(t){return Math.sin(t*Dm)}function Kc(t){return(1-Math.cos(qm*t))/2}function je(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function Lm(t){return je(1-+t)}function $m(t){return 1-je(t)}function Jc(t){return((t*=2)<=1?je(1-t):2-je(t-1))/2}function Ym(t){return 1-Math.sqrt(1-t*t)}function Um(t){return Math.sqrt(1- --t*t)}function tl(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var el=.36363636363636365,Cw=6/11,Rw=8/11,Iw=3/4,Pw=9/11,qw=10/11,Dw=15/16,Ow=21/22,Fw=63/64,Ff=1/el/el;function zm(t){return 1-Eo(1-t)}function Eo(t){return(t=+t)<el?Ff*t*t:t<Rw?Ff*(t-=Cw)*t+Iw:t<qw?Ff*(t-=Pw)*t+Dw:Ff*(t-=Ow)*t+Fw}function Bm(t){return((t*=2)<=1?1-Eo(1-t):Eo(t-1)+1)/2}var nl=1.70158,Hm=(function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n})(nl),Xm=(function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n})(nl),rl=(function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n})(nl);var No=2*Math.PI,ol=1,il=.3,Vm=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=No);function o(i){return e*je(- --i)*Math.sin((r-i)/n)}return o.amplitude=function(i){return t(i,n*No)},o.period=function(i){return t(e,i)},o})(ol,il),al=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=No);function o(i){return 1-e*je(i=+i)*Math.sin((i+r)/n)}return o.amplitude=function(i){return t(i,n*No)},o.period=function(i){return t(e,i)},o})(ol,il),Wm=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=No);function o(i){return((i=i*2-1)<0?e*je(-i)*Math.sin((r-i)/n):2-e*je(i)*Math.sin((r+i)/n))/2}return o.amplitude=function(i){return t(i,n*No)},o.period=function(i){return t(e,i)},o})(ol,il);var Lw={time:null,delay:0,duration:250,ease:Bi};function $w(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Gm(t){var e,n;t instanceof Xt?(e=t._id,t=t._name):(e=Df(),(n=Lw).time=Xn(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],f=a.length,s,u=0;u<f;++u)(s=a[u])&&Vn(s,t,e,u,a,n||$w(s,e));return new Xt(r,this._parents,t,e)}Ve.prototype.interrupt=im;Ve.prototype.transition=Gm;var Yw=[null];function Zm(t,e){var n=t.__transition,r,o;if(n){e=e==null?null:e+"";for(o in n)if((r=n[o]).state>Rf&&r.name===e)return new Xt([[t]],Yw,e,+o)}return null}var Lf=t=>()=>t;function fl(t,{sourceEvent:e,target:n,selection:r,mode:o,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function jm(t){t.stopImmediatePropagation()}function $f(t){t.preventDefault(),t.stopImmediatePropagation()}var Qm={name:"drag"},ul={name:"space"},Co={name:"handle"},Ro={name:"center"},{abs:Km,max:Zt,min:jt}=Math;function Jm(t){return[+t[0],+t[1]]}function cl(t){return[Jm(t[0]),Jm(t[1])]}var Yf={name:"x",handles:["w","e"].map(Hi),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Uf={name:"y",handles:["n","s"].map(Hi),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Uw={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Hi),input:function(t){return t==null?null:cl(t)},output:function(t){return t}},vn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},t1={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},e1={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},zw={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Bw={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Hi(t){return{type:t}}function Hw(t){return!t.ctrlKey&&!t.button}function Xw(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Vw(){return navigator.maxTouchPoints||"ontouchstart"in this}function sl(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ww(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function n1(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function r1(){return ll(Yf)}function o1(){return ll(Uf)}function i1(){return ll(Uw)}function ll(t){var e=Xw,n=Hw,r=Vw,o=!0,i=xe("start","brush","end"),a=6,f;function s(d){var x=d.property("__brush",g).selectAll(".overlay").data([Hi("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",vn.overlay).merge(x).each(function(){var y=sl(this).extent;Et(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),d.selectAll(".selection").data([Hi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",vn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=d.selectAll(".handle").data(t.handles,function(y){return y.type});_.exit().remove(),_.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return vn[y.type]}),d.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",l).filter(r).on("touchstart.brush",l).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(d,x,_){d.tween?d.on("start.brush",function(y){c(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){c(this,arguments).end(y)}).tween("brush",function(){var y=this,b=y.__brush,v=c(y,arguments),w=b.selection,k=t.input(typeof x=="function"?x.apply(this,arguments):x,b.extent),C=Gt(w,k);function N(E){b.selection=E===1&&k===null?null:C(E),u.call(y),v.brush()}return w!==null&&k!==null?N:N(1)}):d.each(function(){var y=this,b=arguments,v=y.__brush,w=t.input(typeof x=="function"?x.apply(y,b):x,v.extent),k=c(y,b).beforestart();qe(y),v.selection=w===null?null:w,u.call(y),k.start(_).brush(_).end(_)})},s.clear=function(d,x){s.move(d,null,x)};function u(){var d=Et(this),x=sl(this).selection;x?(d.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),d.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?x[1][0]-a/2:x[0][0]-a/2}).attr("y",function(_){return _.type[0]==="s"?x[1][1]-a/2:x[0][1]-a/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?x[1][0]-x[0][0]+a:a}).attr("height",function(_){return _.type==="e"||_.type==="w"?x[1][1]-x[0][1]+a:a})):d.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(d,x,_){var y=d.__brush.emitter;return y&&(!_||!y.clean)?y:new h(d,x,_)}function h(d,x,_){this.that=d,this.args=x,this.state=d.__brush,this.active=0,this.clean=_}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(d,x){return this.starting?(this.starting=!1,this.emit("start",d,x)):this.emit("brush",d),this},brush:function(d,x){return this.emit("brush",d,x),this},end:function(d,x){return--this.active===0&&(delete this.state.emitter,this.emit("end",d,x)),this},emit:function(d,x,_){var y=Et(this.that).datum();i.call(d,this.that,new fl(d,{sourceEvent:x,target:s,selection:t.output(this.state.selection),mode:_,dispatch:i}),y)}};function l(d){if(f&&!d.touches||!n.apply(this,arguments))return;var x=this,_=d.target.__data__.type,y=(o&&d.metaKey?_="overlay":_)==="selection"?Qm:o&&d.altKey?Ro:Co,b=t===Uf?null:zw[_],v=t===Yf?null:Bw[_],w=sl(x),k=w.extent,C=w.selection,N=k[0][0],E,S,P=k[0][1],R,M,A=k[1][0],T,I,O=k[1][1],q,U,H=0,W=0,lt,rt=b&&v&&o&&d.shiftKey,nt,ht,at=Array.from(d.touches||[d],j=>{let wt=j.identifier;return j=Ot(j,x),j.point0=j.slice(),j.identifier=wt,j});qe(x);var vt=c(x,arguments,!0).beforestart();if(_==="overlay"){C&&(lt=!0);let j=[at[0],at[1]||at[0]];w.selection=C=[[E=t===Uf?N:jt(j[0][0],j[1][0]),R=t===Yf?P:jt(j[0][1],j[1][1])],[T=t===Uf?A:Zt(j[0][0],j[1][0]),q=t===Yf?O:Zt(j[0][1],j[1][1])]],at.length>1&&_t(d)}else E=C[0][0],R=C[0][1],T=C[1][0],q=C[1][1];S=E,M=R,I=T,U=q;var z=Et(x).attr("pointer-events","none"),X=z.selectAll(".overlay").attr("cursor",vn[_]);if(d.touches)vt.moved=F,vt.ended=st;else{var K=Et(d.view).on("mousemove.brush",F,!0).on("mouseup.brush",st,!0);o&&K.on("keydown.brush",zt,!0).on("keyup.brush",Bt,!0),Ln(d.view)}u.call(x),vt.start(d,y.name);function F(j){for(let wt of j.changedTouches||[j])for(let ur of at)ur.identifier===wt.identifier&&(ur.cur=Ot(wt,x));if(rt&&!nt&&!ht&&at.length===1){let wt=at[0];Km(wt.cur[0]-wt[0])>Km(wt.cur[1]-wt[1])?ht=!0:nt=!0}for(let wt of at)wt.cur&&(wt[0]=wt.cur[0],wt[1]=wt.cur[1]);lt=!0,$f(j),_t(j)}function _t(j){let wt=at[0],ur=wt.point0;var me;switch(H=wt[0]-ur[0],W=wt[1]-ur[1],y){case ul:case Qm:{b&&(H=Zt(N-E,jt(A-T,H)),S=E+H,I=T+H),v&&(W=Zt(P-R,jt(O-q,W)),M=R+W,U=q+W);break}case Co:{at[1]?(b&&(S=Zt(N,jt(A,at[0][0])),I=Zt(N,jt(A,at[1][0])),b=1),v&&(M=Zt(P,jt(O,at[0][1])),U=Zt(P,jt(O,at[1][1])),v=1)):(b<0?(H=Zt(N-E,jt(A-E,H)),S=E+H,I=T):b>0&&(H=Zt(N-T,jt(A-T,H)),S=E,I=T+H),v<0?(W=Zt(P-R,jt(O-R,W)),M=R+W,U=q):v>0&&(W=Zt(P-q,jt(O-q,W)),M=R,U=q+W));break}case Ro:{b&&(S=Zt(N,jt(A,E-H*b)),I=Zt(N,jt(A,T+H*b))),v&&(M=Zt(P,jt(O,R-W*v)),U=Zt(P,jt(O,q+W*v)));break}}I<S&&(b*=-1,me=E,E=T,T=me,me=S,S=I,I=me,_ in t1&&X.attr("cursor",vn[_=t1[_]])),U<M&&(v*=-1,me=R,R=q,q=me,me=M,M=U,U=me,_ in e1&&X.attr("cursor",vn[_=e1[_]])),w.selection&&(C=w.selection),nt&&(S=C[0][0],I=C[1][0]),ht&&(M=C[0][1],U=C[1][1]),(C[0][0]!==S||C[0][1]!==M||C[1][0]!==I||C[1][1]!==U)&&(w.selection=[[S,M],[I,U]],u.call(x),vt.brush(j,y.name))}function st(j){if(jm(j),j.touches){if(j.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else $n(j.view,lt),K.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),X.attr("cursor",vn.overlay),w.selection&&(C=w.selection),Ww(C)&&(w.selection=null,u.call(x)),vt.end(j,y.name)}function zt(j){switch(j.keyCode){case 16:{rt=b&&v;break}case 18:{y===Co&&(b&&(T=I-H*b,E=S+H*b),v&&(q=U-W*v,R=M+W*v),y=Ro,_t(j));break}case 32:{(y===Co||y===Ro)&&(b<0?T=I-H:b>0&&(E=S-H),v<0?q=U-W:v>0&&(R=M-W),y=ul,X.attr("cursor",vn.selection),_t(j));break}default:return}$f(j)}function Bt(j){switch(j.keyCode){case 16:{rt&&(nt=ht=rt=!1,_t(j));break}case 18:{y===Ro&&(b<0?T=I:b>0&&(E=S),v<0?q=U:v>0&&(R=M),y=Co,_t(j));break}case 32:{y===ul&&(j.altKey?(b&&(T=I-H*b,E=S+H*b),v&&(q=U-W*v,R=M+W*v),y=Ro):(b<0?T=I:b>0&&(E=S),v<0?q=U:v>0&&(R=M),y=Co),X.attr("cursor",vn[_]),_t(j));break}default:return}$f(j)}}function p(d){c(this,arguments).moved(d)}function m(d){c(this,arguments).ended(d)}function g(){var d=this.__brush||{selection:null};return d.extent=cl(e.apply(this,arguments)),d.dim=t,d}return s.extent=function(d){return arguments.length?(e=typeof d=="function"?d:Lf(cl(d)),s):e},s.filter=function(d){return arguments.length?(n=typeof d=="function"?d:Lf(!!d),s):n},s.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:Lf(!!d),s):r},s.handleSize=function(d){return arguments.length?(a=+d,s):a},s.keyModifiers=function(d){return arguments.length?(o=!!d,s):o},s.on=function(){var d=i.on.apply(i,arguments);return d===i?s:d},s}var hl=Math.abs,kr=Math.cos,Er=Math.sin,a1=Math.PI,Xi=a1/2,pl=a1*2,dl=Math.max,zf=1e-12;function ml(t,e){return Array.from({length:e-t},(n,r)=>t+r)}function Gw(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function f1(){return gl(!1,!1)}function u1(){return gl(!1,!0)}function s1(){return gl(!0,!1)}function gl(t,e){var n=0,r=null,o=null,i=null;function a(f){var s=f.length,u=new Array(s),c=ml(0,s),h=new Array(s*s),l=new Array(s),p=0,m;f=Float64Array.from({length:s*s},e?(g,d)=>f[d%s][d/s|0]:(g,d)=>f[d/s|0][d%s]);for(let g=0;g<s;++g){let d=0;for(let x=0;x<s;++x)d+=f[g*s+x]+t*f[x*s+g];p+=u[g]=d}p=dl(0,pl-n*s)/p,m=p?n:pl/s;{let g=0;r&&c.sort((d,x)=>r(u[d],u[x]));for(let d of c){let x=g;if(t){let _=ml(~s+1,s).filter(y=>y<0?f[~y*s+d]:f[d*s+y]);o&&_.sort((y,b)=>o(y<0?-f[~y*s+d]:f[d*s+y],b<0?-f[~b*s+d]:f[d*s+b]));for(let y of _)if(y<0){let b=h[~y*s+d]||(h[~y*s+d]={source:null,target:null});b.target={index:d,startAngle:g,endAngle:g+=f[~y*s+d]*p,value:f[~y*s+d]}}else{let b=h[d*s+y]||(h[d*s+y]={source:null,target:null});b.source={index:d,startAngle:g,endAngle:g+=f[d*s+y]*p,value:f[d*s+y]}}l[d]={index:d,startAngle:x,endAngle:g,value:u[d]}}else{let _=ml(0,s).filter(y=>f[d*s+y]||f[y*s+d]);o&&_.sort((y,b)=>o(f[d*s+y],f[d*s+b]));for(let y of _){let b;if(d<y?(b=h[d*s+y]||(h[d*s+y]={source:null,target:null}),b.source={index:d,startAngle:g,endAngle:g+=f[d*s+y]*p,value:f[d*s+y]}):(b=h[y*s+d]||(h[y*s+d]={source:null,target:null}),b.target={index:d,startAngle:g,endAngle:g+=f[d*s+y]*p,value:f[d*s+y]},d===y&&(b.source=b.target)),b.source&&b.target&&b.source.value<b.target.value){let v=b.source;b.source=b.target,b.target=v}}l[d]={index:d,startAngle:x,endAngle:g,value:u[d]}}g+=m}}return h=Object.values(h),h.groups=l,i?h.sort(i):h}return a.padAngle=function(f){return arguments.length?(n=dl(0,f),a):n},a.sortGroups=function(f){return arguments.length?(r=f,a):r},a.sortSubgroups=function(f){return arguments.length?(o=f,a):o},a.sortChords=function(f){return arguments.length?(f==null?i=null:(i=Gw(f))._=f,a):i&&i._},a}var xl=Math.PI,bl=2*xl,Nr=1e-6,Zw=bl-Nr;function c1(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function jw(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return c1;let n=10**e;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}var wn=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?c1:jw(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,o){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(e,n,r,o,i,a){this._append`C${+e},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(e,n,r,o,i){if(e=+e,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,f=this._y1,s=r-e,u=o-n,c=a-e,h=f-n,l=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>Nr)if(!(Math.abs(h*s-u*c)>Nr)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=o-f,g=s*s+u*u,d=p*p+m*m,x=Math.sqrt(g),_=Math.sqrt(l),y=i*Math.tan((xl-Math.acos((g+l-d)/(2*x*_)))/2),b=y/_,v=y/x;Math.abs(b-1)>Nr&&this._append`L${e+b*c},${n+b*h}`,this._append`A${i},${i},0,0,${+(h*p>c*m)},${this._x1=e+v*s},${this._y1=n+v*u}`}}arc(e,n,r,o,i,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(o),s=r*Math.sin(o),u=e+f,c=n+s,h=1^a,l=a?o-i:i-o;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Nr||Math.abs(this._y1-c)>Nr)&&this._append`L${u},${c}`,r&&(l<0&&(l=l%bl+bl),l>Zw?this._append`A${r},${r},0,1,${h},${e-f},${n-s}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:l>Nr&&this._append`A${r},${r},0,${+(l>=xl)},${h},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}};function Vi(){return new wn}Vi.prototype=wn.prototype;function l1(t=3){return new wn(+t)}var h1=Array.prototype.slice;function Wn(t){return function(){return t}}function Qw(t){return t.source}function Kw(t){return t.target}function p1(t){return t.radius}function Jw(t){return t.startAngle}function t6(t){return t.endAngle}function e6(){return 0}function n6(){return 10}function d1(t){var e=Qw,n=Kw,r=p1,o=p1,i=Jw,a=t6,f=e6,s=null;function u(){var c,h=e.apply(this,arguments),l=n.apply(this,arguments),p=f.apply(this,arguments)/2,m=h1.call(arguments),g=+r.apply(this,(m[0]=h,m)),d=i.apply(this,m)-Xi,x=a.apply(this,m)-Xi,_=+o.apply(this,(m[0]=l,m)),y=i.apply(this,m)-Xi,b=a.apply(this,m)-Xi;if(s||(s=c=Vi()),p>zf&&(hl(x-d)>p*2+zf?x>d?(d+=p,x-=p):(d-=p,x+=p):d=x=(d+x)/2,hl(b-y)>p*2+zf?b>y?(y+=p,b-=p):(y-=p,b+=p):y=b=(y+b)/2),s.moveTo(g*kr(d),g*Er(d)),s.arc(0,0,g,d,x),d!==y||x!==b)if(t){var v=+t.apply(this,arguments),w=_-v,k=(y+b)/2;s.quadraticCurveTo(0,0,w*kr(y),w*Er(y)),s.lineTo(_*kr(k),_*Er(k)),s.lineTo(w*kr(b),w*Er(b))}else s.quadraticCurveTo(0,0,_*kr(y),_*Er(y)),s.arc(0,0,_,y,b);if(s.quadraticCurveTo(0,0,g*kr(d),g*Er(d)),s.closePath(),c)return s=null,c+""||null}return t&&(u.headRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Wn(+c),u):t}),u.radius=function(c){return arguments.length?(r=o=typeof c=="function"?c:Wn(+c),u):r},u.sourceRadius=function(c){return arguments.length?(r=typeof c=="function"?c:Wn(+c),u):r},u.targetRadius=function(c){return arguments.length?(o=typeof c=="function"?c:Wn(+c),u):o},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Wn(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Wn(+c),u):a},u.padAngle=function(c){return arguments.length?(f=typeof c=="function"?c:Wn(+c),u):f},u.source=function(c){return arguments.length?(e=c,u):e},u.target=function(c){return arguments.length?(n=c,u):n},u.context=function(c){return arguments.length?(s=c==null?null:c,u):s},u}function m1(){return d1()}function g1(){return d1(n6)}var r6=Array.prototype,Bf=r6.slice;function x1(t,e){return t-e}function b1(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}var Qe=t=>()=>t;function y1(t,e){for(var n=-1,r=e.length,o;++n<r;)if(o=o6(t,e[n]))return o;return 0}function o6(t,e){for(var n=e[0],r=e[1],o=-1,i=0,a=t.length,f=a-1;i<a;f=i++){var s=t[i],u=s[0],c=s[1],h=t[f],l=h[0],p=h[1];if(i6(s,h,e))return 0;c>r!=p>r&&n<(l-u)*(r-c)/(p-c)+u&&(o=-o)}return o}function i6(t,e,n){var r;return a6(t,e,n)&&f6(t[r=+(t[0]===e[0])],n[r],e[r])}function a6(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function f6(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function _1(){}var Mn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Wi(){var t=1,e=1,n=hr,r=s;function o(u){var c=n(u);if(Array.isArray(c))c=c.slice().sort(x1);else{let h=pn(u,u6);for(c=fe(...lr(h[0],h[1],c),c);c[c.length-1]>=h[1];)c.pop();for(;c[1]<h[0];)c.shift()}return c.map(h=>i(u,h))}function i(u,c){let h=c==null?NaN:+c;if(isNaN(h))throw new Error(`invalid value: ${c}`);var l=[],p=[];return a(u,h,function(m){r(m,u,h),b1(m)>0?l.push([m]):p.push(m)}),p.forEach(function(m){for(var g=0,d=l.length,x;g<d;++g)if(y1((x=l[g])[0],m)!==-1){x.push(m);return}}),{type:"MultiPolygon",value:c,coordinates:l}}function a(u,c,h){var l=new Array,p=new Array,m,g,d,x,_,y;for(m=g=-1,x=Cr(u[0],c),Mn[x<<1].forEach(b);++m<t-1;)d=x,x=Cr(u[m+1],c),Mn[d|x<<1].forEach(b);for(Mn[x<<0].forEach(b);++g<e-1;){for(m=-1,x=Cr(u[g*t+t],c),_=Cr(u[g*t],c),Mn[x<<1|_<<2].forEach(b);++m<t-1;)d=x,x=Cr(u[g*t+t+m+1],c),y=_,_=Cr(u[g*t+m+1],c),Mn[d|x<<1|_<<2|y<<3].forEach(b);Mn[x|_<<3].forEach(b)}for(m=-1,_=u[g*t]>=c,Mn[_<<2].forEach(b);++m<t-1;)y=_,_=Cr(u[g*t+m+1],c),Mn[_<<2|y<<3].forEach(b);Mn[_<<3].forEach(b);function b(v){var w=[v[0][0]+m,v[0][1]+g],k=[v[1][0]+m,v[1][1]+g],C=f(w),N=f(k),E,S;(E=p[C])?(S=l[N])?(delete p[E.end],delete l[S.start],E===S?(E.ring.push(k),h(E.ring)):l[E.start]=p[S.end]={start:E.start,end:S.end,ring:E.ring.concat(S.ring)}):(delete p[E.end],E.ring.push(k),p[E.end=N]=E):(E=l[N])?(S=p[C])?(delete l[E.start],delete p[S.end],E===S?(E.ring.push(k),h(E.ring)):l[S.start]=p[E.end]={start:S.start,end:E.end,ring:S.ring.concat(E.ring)}):(delete l[E.start],E.ring.unshift(w),l[E.start=C]=E):l[C]=p[N]={start:C,end:N,ring:[w,k]}}}function f(u){return u[0]*2+u[1]*(t+1)*4}function s(u,c,h){u.forEach(function(l){var p=l[0],m=l[1],g=p|0,d=m|0,x=yl(c[d*t+g]);p>0&&p<t&&g===p&&(l[0]=v1(p,yl(c[d*t+g-1]),x,h)),m>0&&m<e&&d===m&&(l[1]=v1(m,yl(c[(d-1)*t+g]),x,h))})}return o.contour=i,o.size=function(u){if(!arguments.length)return[t,e];var c=Math.floor(u[0]),h=Math.floor(u[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return t=c,e=h,o},o.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?Qe(Bf.call(u)):Qe(u),o):n},o.smooth=function(u){return arguments.length?(r=u?s:_1,o):r===s},o}function u6(t){return isFinite(t)?t:NaN}function Cr(t,e){return t==null?!1:+t>=e}function yl(t){return t==null||isNaN(t=+t)?-1/0:t}function v1(t,e,n,r){let o=r-e,i=n-e,a=isFinite(o)||isFinite(i)?o/i:Math.sign(o)/Math.sign(i);return isNaN(a)?t:t+a-.5}function s6(t){return t[0]}function c6(t){return t[1]}function l6(){return 1}function w1(){var t=s6,e=c6,n=l6,r=960,o=500,i=20,a=2,f=i*3,s=r+f*2>>a,u=o+f*2>>a,c=Qe(20);function h(_){var y=new Float32Array(s*u),b=Math.pow(2,-a),v=-1;for(let R of _){var w=(t(R,++v,_)+f)*b,k=(e(R,v,_)+f)*b,C=+n(R,v,_);if(C&&w>=0&&w<s&&k>=0&&k<u){var N=Math.floor(w),E=Math.floor(k),S=w-N-.5,P=k-E-.5;y[N+E*s]+=(1-S)*(1-P)*C,y[N+1+E*s]+=S*(1-P)*C,y[N+1+(E+1)*s]+=S*P*C,y[N+(E+1)*s]+=(1-S)*P*C}}return Va({data:y,width:s,height:u},i*b),y}function l(_){var y=h(_),b=c(y),v=Math.pow(2,2*a);return Array.isArray(b)||(b=fe(Number.MIN_VALUE,gn(y)/v,b)),Wi().size([s,u]).thresholds(b.map(w=>w*v))(y).map((w,k)=>(w.value=+b[k],p(w)))}l.contours=function(_){var y=h(_),b=Wi().size([s,u]),v=Math.pow(2,2*a),w=k=>{k=+k;var C=p(b.contour(y,k*v));return C.value=k,C};return Object.defineProperty(w,"max",{get:()=>gn(y)/v}),w};function p(_){return _.coordinates.forEach(m),_}function m(_){_.forEach(g)}function g(_){_.forEach(d)}function d(_){_[0]=_[0]*Math.pow(2,a)-f,_[1]=_[1]*Math.pow(2,a)-f}function x(){return f=i*3,s=r+f*2>>a,u=o+f*2>>a,l}return l.x=function(_){return arguments.length?(t=typeof _=="function"?_:Qe(+_),l):t},l.y=function(_){return arguments.length?(e=typeof _=="function"?_:Qe(+_),l):e},l.weight=function(_){return arguments.length?(n=typeof _=="function"?_:Qe(+_),l):n},l.size=function(_){if(!arguments.length)return[r,o];var y=+_[0],b=+_[1];if(!(y>=0&&b>=0))throw new Error("invalid size");return r=y,o=b,x()},l.cellSize=function(_){if(!arguments.length)return 1<<a;if(!((_=+_)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(_)/Math.LN2),x()},l.thresholds=function(_){return arguments.length?(c=typeof _=="function"?_:Array.isArray(_)?Qe(Bf.call(_)):Qe(_),l):c},l.bandwidth=function(_){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*_*_+1)-1)/2,x()},l}var ft=11102230246251565e-32,Pt=134217729,Gi=(3+8*ft)*ft;function Rr(t,e,n,r,o){let i,a,f,s,u=e[0],c=r[0],h=0,l=0;c>u==c>-u?(i=u,u=e[++h]):(i=c,c=r[++l]);let p=0;if(h<t&&l<n)for(c>u==c>-u?(a=u+i,f=i-(a-u),u=e[++h]):(a=c+i,f=i-(a-c),c=r[++l]),i=a,f!==0&&(o[p++]=f);h<t&&l<n;)c>u==c>-u?(a=i+u,s=a-i,f=i-(a-s)+(u-s),u=e[++h]):(a=i+c,s=a-i,f=i-(a-s)+(c-s),c=r[++l]),i=a,f!==0&&(o[p++]=f);for(;h<t;)a=i+u,s=a-i,f=i-(a-s)+(u-s),u=e[++h],i=a,f!==0&&(o[p++]=f);for(;l<n;)a=i+c,s=a-i,f=i-(a-s)+(c-s),c=r[++l],i=a,f!==0&&(o[p++]=f);return(i!==0||p===0)&&(o[p++]=i),p}function Zi(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function D(t){return new Float64Array(t)}var h6=(3+16*ft)*ft,p6=(2+12*ft)*ft,d6=(9+64*ft)*ft*ft,Io=D(4),M1=D(8),S1=D(12),T1=D(16),Jt=D(4);function m6(t,e,n,r,o,i,a){let f,s,u,c,h,l,p,m,g,d,x,_,y,b,v,w,k,C,N=t-o,E=n-o,S=e-i,P=r-i;b=N*P,l=Pt*N,p=l-(l-N),m=N-p,l=Pt*P,g=l-(l-P),d=P-g,v=m*d-(b-p*g-m*g-p*d),w=S*E,l=Pt*S,p=l-(l-S),m=S-p,l=Pt*E,g=l-(l-E),d=E-g,k=m*d-(w-p*g-m*g-p*d),x=v-k,h=v-x,Io[0]=v-(x+h)+(h-k),_=b+x,h=_-b,y=b-(_-h)+(x-h),x=y-w,h=y-x,Io[1]=y-(x+h)+(h-w),C=_+x,h=C-_,Io[2]=_-(C-h)+(x-h),Io[3]=C;let R=Zi(4,Io),M=p6*a;if(R>=M||-R>=M||(h=t-N,f=t-(N+h)+(h-o),h=n-E,u=n-(E+h)+(h-o),h=e-S,s=e-(S+h)+(h-i),h=r-P,c=r-(P+h)+(h-i),f===0&&s===0&&u===0&&c===0)||(M=d6*a+Gi*Math.abs(R),R+=N*c+P*f-(S*u+E*s),R>=M||-R>=M))return R;b=f*P,l=Pt*f,p=l-(l-f),m=f-p,l=Pt*P,g=l-(l-P),d=P-g,v=m*d-(b-p*g-m*g-p*d),w=s*E,l=Pt*s,p=l-(l-s),m=s-p,l=Pt*E,g=l-(l-E),d=E-g,k=m*d-(w-p*g-m*g-p*d),x=v-k,h=v-x,Jt[0]=v-(x+h)+(h-k),_=b+x,h=_-b,y=b-(_-h)+(x-h),x=y-w,h=y-x,Jt[1]=y-(x+h)+(h-w),C=_+x,h=C-_,Jt[2]=_-(C-h)+(x-h),Jt[3]=C;let A=Rr(4,Io,4,Jt,M1);b=N*c,l=Pt*N,p=l-(l-N),m=N-p,l=Pt*c,g=l-(l-c),d=c-g,v=m*d-(b-p*g-m*g-p*d),w=S*u,l=Pt*S,p=l-(l-S),m=S-p,l=Pt*u,g=l-(l-u),d=u-g,k=m*d-(w-p*g-m*g-p*d),x=v-k,h=v-x,Jt[0]=v-(x+h)+(h-k),_=b+x,h=_-b,y=b-(_-h)+(x-h),x=y-w,h=y-x,Jt[1]=y-(x+h)+(h-w),C=_+x,h=C-_,Jt[2]=_-(C-h)+(x-h),Jt[3]=C;let T=Rr(A,M1,4,Jt,S1);b=f*c,l=Pt*f,p=l-(l-f),m=f-p,l=Pt*c,g=l-(l-c),d=c-g,v=m*d-(b-p*g-m*g-p*d),w=s*u,l=Pt*s,p=l-(l-s),m=s-p,l=Pt*u,g=l-(l-u),d=u-g,k=m*d-(w-p*g-m*g-p*d),x=v-k,h=v-x,Jt[0]=v-(x+h)+(h-k),_=b+x,h=_-b,y=b-(_-h)+(x-h),x=y-w,h=y-x,Jt[1]=y-(x+h)+(h-w),C=_+x,h=C-_,Jt[2]=_-(C-h)+(x-h),Jt[3]=C;let I=Rr(T,S1,4,Jt,T1);return T1[I-1]}function Po(t,e,n,r,o,i){let a=(e-i)*(n-o),f=(t-o)*(r-i),s=a-f,u=Math.abs(a+f);return Math.abs(s)>=h6*u?s:-m6(t,e,n,r,o,i,u)}var MI=(7+56*ft)*ft,SI=(3+28*ft)*ft,TI=(26+288*ft)*ft*ft,AI=D(4),kI=D(4),EI=D(4),NI=D(4),CI=D(4),RI=D(4),II=D(4),PI=D(4),qI=D(4),DI=D(8),OI=D(8),FI=D(8),LI=D(4),$I=D(8),YI=D(8),UI=D(8),zI=D(12),BI=D(192),HI=D(192);var WI=(10+96*ft)*ft,GI=(4+48*ft)*ft,ZI=(44+576*ft)*ft*ft,jI=D(4),QI=D(4),KI=D(4),JI=D(4),tP=D(4),eP=D(4),nP=D(4),rP=D(4),oP=D(8),iP=D(8),aP=D(8),fP=D(8),uP=D(8),sP=D(8),cP=D(8),lP=D(8),hP=D(8),pP=D(4),dP=D(4),mP=D(4),gP=D(8),xP=D(16),bP=D(16),yP=D(16),_P=D(32),vP=D(32),wP=D(48),MP=D(64),SP=D(1152),TP=D(1152);var NP=(16+224*ft)*ft,CP=(5+72*ft)*ft,RP=(71+1408*ft)*ft*ft,IP=D(4),PP=D(4),qP=D(4),DP=D(4),OP=D(4),FP=D(4),LP=D(4),$P=D(4),YP=D(4),UP=D(4),zP=D(24),BP=D(24),HP=D(24),XP=D(24),VP=D(24),WP=D(24),GP=D(24),ZP=D(24),jP=D(24),QP=D(24),KP=D(1152),JP=D(1152),tq=D(1152),eq=D(1152),nq=D(1152),rq=D(2304),oq=D(2304),iq=D(3456),aq=D(5760),fq=D(8),uq=D(8),sq=D(8),cq=D(16),lq=D(24),hq=D(48),pq=D(48),dq=D(96),mq=D(192),gq=D(384),xq=D(384),bq=D(384),yq=D(768);var _q=D(96),vq=D(96),wq=D(96),Mq=D(1152);var k1=Math.pow(2,-52),Hf=new Uint32Array(512),Do=class t{static from(e,n=v6,r=w6){let o=e.length,i=new Float64Array(o*2);for(let a=0;a<o;a++){let f=e[a];i[2*a]=n(f),i[2*a+1]=r(f)}return new t(i)}constructor(e){let n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;let r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){let{coords:e,_hullPrev:n,_hullNext:r,_hullTri:o,_hullHash:i}=this,a=e.length>>1,f=1/0,s=1/0,u=-1/0,c=-1/0;for(let N=0;N<a;N++){let E=e[2*N],S=e[2*N+1];E<f&&(f=E),S<s&&(s=S),E>u&&(u=E),S>c&&(c=S),this._ids[N]=N}let h=(f+u)/2,l=(s+c)/2,p,m,g;for(let N=0,E=1/0;N<a;N++){let S=_l(h,l,e[2*N],e[2*N+1]);S<E&&(p=N,E=S)}let d=e[2*p],x=e[2*p+1];for(let N=0,E=1/0;N<a;N++){if(N===p)continue;let S=_l(d,x,e[2*N],e[2*N+1]);S<E&&S>0&&(m=N,E=S)}let _=e[2*m],y=e[2*m+1],b=1/0;for(let N=0;N<a;N++){if(N===p||N===m)continue;let E=y6(d,x,_,y,e[2*N],e[2*N+1]);E<b&&(g=N,b=E)}let v=e[2*g],w=e[2*g+1];if(b===1/0){for(let S=0;S<a;S++)this._dists[S]=e[2*S]-e[0]||e[2*S+1]-e[1];qo(this._ids,this._dists,0,a-1);let N=new Uint32Array(a),E=0;for(let S=0,P=-1/0;S<a;S++){let R=this._ids[S],M=this._dists[R];M>P&&(N[E++]=R,P=M)}this.hull=N.subarray(0,E),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Po(d,x,_,y,v,w)<0){let N=m,E=_,S=y;m=g,_=v,y=w,g=N,v=E,w=S}let k=_6(d,x,_,y,v,w);this._cx=k.x,this._cy=k.y;for(let N=0;N<a;N++)this._dists[N]=_l(e[2*N],e[2*N+1],k.x,k.y);qo(this._ids,this._dists,0,a-1),this._hullStart=p;let C=3;r[p]=n[g]=m,r[m]=n[p]=g,r[g]=n[m]=p,o[p]=0,o[m]=1,o[g]=2,i.fill(-1),i[this._hashKey(d,x)]=p,i[this._hashKey(_,y)]=m,i[this._hashKey(v,w)]=g,this.trianglesLen=0,this._addTriangle(p,m,g,-1,-1,-1);for(let N=0,E,S;N<this._ids.length;N++){let P=this._ids[N],R=e[2*P],M=e[2*P+1];if(N>0&&Math.abs(R-E)<=k1&&Math.abs(M-S)<=k1||(E=R,S=M,P===p||P===m||P===g))continue;let A=0;for(let U=0,H=this._hashKey(R,M);U<this._hashSize&&(A=i[(H+U)%this._hashSize],!(A!==-1&&A!==r[A]));U++);A=n[A];let T=A,I;for(;I=r[T],Po(R,M,e[2*T],e[2*T+1],e[2*I],e[2*I+1])>=0;)if(T=I,T===A){T=-1;break}if(T===-1)continue;let O=this._addTriangle(T,P,r[T],-1,-1,o[T]);o[P]=this._legalize(O+2),o[T]=O,C++;let q=r[T];for(;I=r[q],Po(R,M,e[2*q],e[2*q+1],e[2*I],e[2*I+1])<0;)O=this._addTriangle(q,P,I,o[P],-1,o[q]),o[P]=this._legalize(O+2),r[q]=q,C--,q=I;if(T===A)for(;I=n[T],Po(R,M,e[2*I],e[2*I+1],e[2*T],e[2*T+1])<0;)O=this._addTriangle(I,P,T,-1,o[T],o[I]),this._legalize(O+2),o[I]=O,r[T]=T,C--,T=I;this._hullStart=n[P]=T,r[T]=n[q]=P,r[P]=q,i[this._hashKey(R,M)]=P,i[this._hashKey(e[2*T],e[2*T+1])]=T}this.hull=new Uint32Array(C);for(let N=0,E=this._hullStart;N<C;N++)this.hull[N]=E,E=r[E];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(x6(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:n,_halfedges:r,coords:o}=this,i=0,a=0;for(;;){let f=r[e],s=e-e%3;if(a=s+(e+2)%3,f===-1){if(i===0)break;e=Hf[--i];continue}let u=f-f%3,c=s+(e+1)%3,h=u+(f+2)%3,l=n[a],p=n[e],m=n[c],g=n[h];if(b6(o[2*l],o[2*l+1],o[2*p],o[2*p+1],o[2*m],o[2*m+1],o[2*g],o[2*g+1])){n[e]=g,n[f]=l;let x=r[h];if(x===-1){let y=this._hullStart;do{if(this._hullTri[y]===h){this._hullTri[y]=e;break}y=this._hullPrev[y]}while(y!==this._hullStart)}this._link(e,x),this._link(f,r[a]),this._link(a,h);let _=u+(f+1)%3;i<Hf.length&&(Hf[i++]=_)}else{if(i===0)break;e=Hf[--i]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,o,i,a){let f=this.trianglesLen;return this._triangles[f]=e,this._triangles[f+1]=n,this._triangles[f+2]=r,this._link(f,o),this._link(f+1,i),this._link(f+2,a),this.trianglesLen+=3,f}};function x6(t,e){let n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function _l(t,e,n,r){let o=t-n,i=e-r;return o*o+i*i}function b6(t,e,n,r,o,i,a,f){let s=t-a,u=e-f,c=n-a,h=r-f,l=o-a,p=i-f,m=s*s+u*u,g=c*c+h*h,d=l*l+p*p;return s*(h*d-g*p)-u*(c*d-g*l)+m*(c*p-h*l)<0}function y6(t,e,n,r,o,i){let a=n-t,f=r-e,s=o-t,u=i-e,c=a*a+f*f,h=s*s+u*u,l=.5/(a*u-f*s),p=(u*c-f*h)*l,m=(a*h-s*c)*l;return p*p+m*m}function _6(t,e,n,r,o,i){let a=n-t,f=r-e,s=o-t,u=i-e,c=a*a+f*f,h=s*s+u*u,l=.5/(a*u-f*s),p=t+(u*c-f*h)*l,m=e+(a*h-s*c)*l;return{x:p,y:m}}function qo(t,e,n,r){if(r-n<=20)for(let o=n+1;o<=r;o++){let i=t[o],a=e[i],f=o-1;for(;f>=n&&e[t[f]]>a;)t[f+1]=t[f--];t[f+1]=i}else{let o=n+r>>1,i=n+1,a=r;ji(t,o,i),e[t[n]]>e[t[r]]&&ji(t,n,r),e[t[i]]>e[t[r]]&&ji(t,i,r),e[t[n]]>e[t[i]]&&ji(t,n,i);let f=t[i],s=e[f];for(;;){do i++;while(e[t[i]]<s);do a--;while(e[t[a]]>s);if(a<i)break;ji(t,i,a)}t[n+1]=t[a],t[a]=f,r-i+1>=a-n?(qo(t,e,i,r),qo(t,e,n,a-1)):(qo(t,e,n,a-1),qo(t,e,i,r))}}function ji(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function v6(t){return t[0]}function w6(t){return t[1]}var ye=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;let o=e+r,i=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${o},${i}`:(Math.abs(this._x1-o)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+o+","+i),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=o},${this._y1=i}`)}rect(e,n,r,o){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+o}h${-r}Z`}value(){return this._||null}};var Gn=class{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}};var Ir=class{constructor(e,[n,r,o,i]=[0,0,960,500]){if(!((o=+o)>=(n=+n))||!((i=+i)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=o,this.xmin=n,this.ymax=i,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:e,hull:n,triangles:r},vectors:o}=this,i,a,f=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,d=0,x=r.length,_,y;g<x;g+=3,d+=2){let b=r[g]*2,v=r[g+1]*2,w=r[g+2]*2,k=e[b],C=e[b+1],N=e[v],E=e[v+1],S=e[w],P=e[w+1],R=N-k,M=E-C,A=S-k,T=P-C,I=(R*T-M*A)*2;if(Math.abs(I)<1e-9){if(i===void 0){i=a=0;for(let q of n)i+=e[q*2],a+=e[q*2+1];i/=n.length,a/=n.length}let O=1e9*Math.sign((i-k)*T-(a-C)*A);_=(k+S)/2-O*T,y=(C+P)/2+O*A}else{let O=1/I,q=R*R+M*M,U=A*A+T*T;_=k+(T*q-M*U)*O,y=C+(R*U-A*q)*O}f[d]=_,f[d+1]=y}let s=n[n.length-1],u,c=s*4,h,l=e[2*s],p,m=e[2*s+1];o.fill(0);for(let g=0;g<n.length;++g)s=n[g],u=c,h=l,p=m,c=s*4,l=e[2*s],m=e[2*s+1],o[u+2]=o[c]=p-m,o[u+3]=o[c+1]=l-h}render(e){let n=e==null?e=new ye:void 0,{delaunay:{halfedges:r,inedges:o,hull:i},circumcenters:a,vectors:f}=this;if(i.length<=1)return null;for(let c=0,h=r.length;c<h;++c){let l=r[c];if(l<c)continue;let p=Math.floor(c/3)*2,m=Math.floor(l/3)*2,g=a[p],d=a[p+1],x=a[m],_=a[m+1];this._renderSegment(g,d,x,_,e)}let s,u=i[i.length-1];for(let c=0;c<i.length;++c){s=u,u=i[c];let h=Math.floor(o[u]/3)*2,l=a[h],p=a[h+1],m=s*4,g=this._project(l,p,f[m+2],f[m+3]);g&&this._renderSegment(l,p,g[0],g[1],e)}return n&&n.value()}renderBounds(e){let n=e==null?e=new ye:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){let r=n==null?n=new ye:void 0,o=this._clip(e);if(o===null||!o.length)return;n.moveTo(o[0],o[1]);let i=o.length;for(;o[0]===o[i-2]&&o[1]===o[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)(o[a]!==o[a-2]||o[a+1]!==o[a-1])&&n.lineTo(o[a],o[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){let o=this.cellPolygon(n);o&&(o.index=n,yield o)}}cellPolygon(e){let n=new Gn;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,o,i){let a,f=this._regioncode(e,n),s=this._regioncode(r,o);f===0&&s===0?(i.moveTo(e,n),i.lineTo(r,o)):(a=this._clipSegment(e,n,r,o,f,s))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){let n=this._clip(e);if(n)for(let r of this.delaunay.neighbors(e)){let o=this._clip(r);if(o){t:for(let i=0,a=n.length;i<a;i+=2)for(let f=0,s=o.length;f<s;f+=2)if(n[i]===o[f]&&n[i+1]===o[f+1]&&n[(i+2)%a]===o[(f+s-2)%s]&&n[(i+3)%a]===o[(f+s-1)%s]){yield r;break t}}}}_cell(e){let{circumcenters:n,delaunay:{inedges:r,halfedges:o,triangles:i}}=this,a=r[e];if(a===-1)return null;let f=[],s=a;do{let u=Math.floor(s/3);if(f.push(n[u*2],n[u*2+1]),s=s%3===2?s-2:s+1,i[s]!==e)break;s=o[s]}while(s!==a&&s!==-1);return f}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let n=this._cell(e);if(n===null)return null;let{vectors:r}=this,o=e*4;return this._simplify(r[o]||r[o+1]?this._clipInfinite(e,n,r[o],r[o+1],r[o+2],r[o+3]):this._clipFinite(e,n))}_clipFinite(e,n){let r=n.length,o=null,i,a,f=n[r-2],s=n[r-1],u,c=this._regioncode(f,s),h,l=0;for(let p=0;p<r;p+=2)if(i=f,a=s,f=n[p],s=n[p+1],u=c,c=this._regioncode(f,s),u===0&&c===0)h=l,l=0,o?o.push(f,s):o=[f,s];else{let m,g,d,x,_;if(u===0){if((m=this._clipSegment(i,a,f,s,u,c))===null)continue;[g,d,x,_]=m}else{if((m=this._clipSegment(f,s,i,a,c,u))===null)continue;[x,_,g,d]=m,h=l,l=this._edgecode(g,d),h&&l&&this._edge(e,h,l,o,o.length),o?o.push(g,d):o=[g,d]}h=l,l=this._edgecode(x,_),h&&l&&this._edge(e,h,l,o,o.length),o?o.push(x,_):o=[x,_]}if(o)h=l,l=this._edgecode(o[0],o[1]),h&&l&&this._edge(e,h,l,o,o.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(e,n,r,o,i,a){let f=i<a;for(f&&([e,n,r,o,i,a]=[r,o,e,n,a,i]);;){if(i===0&&a===0)return f?[r,o,e,n]:[e,n,r,o];if(i&a)return null;let s,u,c=i||a;c&8?(s=e+(r-e)*(this.ymax-n)/(o-n),u=this.ymax):c&4?(s=e+(r-e)*(this.ymin-n)/(o-n),u=this.ymin):c&2?(u=n+(o-n)*(this.xmax-e)/(r-e),s=this.xmax):(u=n+(o-n)*(this.xmin-e)/(r-e),s=this.xmin),i?(e=s,n=u,i=this._regioncode(e,n)):(r=s,o=u,a=this._regioncode(r,o))}}_clipInfinite(e,n,r,o,i,a){let f=Array.from(n),s;if((s=this._project(f[0],f[1],r,o))&&f.unshift(s[0],s[1]),(s=this._project(f[f.length-2],f[f.length-1],i,a))&&f.push(s[0],s[1]),f=this._clipFinite(e,f))for(let u=0,c=f.length,h,l=this._edgecode(f[c-2],f[c-1]);u<c;u+=2)h=l,l=this._edgecode(f[u],f[u+1]),h&&l&&(u=this._edge(e,h,l,f,u),c=f.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(f=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return f}_edge(e,n,r,o,i){for(;n!==r;){let a,f;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,f=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,f=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,f=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,f=this.ymin;break}(o[i]!==a||o[i+1]!==f)&&this.contains(e,a,f)&&(o.splice(i,0,a,f),i+=2)}return i}_project(e,n,r,o){let i=1/0,a,f,s;if(o<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/o)<i&&(s=this.ymin,f=e+(i=a)*r)}else if(o>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/o)<i&&(s=this.ymax,f=e+(i=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<i&&(f=this.xmax,s=n+(i=a)*o)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<i&&(f=this.xmin,s=n+(i=a)*o)}return[f,s]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){let r=(n+2)%e.length,o=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[o]||e[n+1]===e[r+1]&&e[r+1]===e[o+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}};var M6=2*Math.PI,Oo=Math.pow;function S6(t){return t[0]}function T6(t){return t[1]}function A6(t){let{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){let o=2*e[r],i=2*e[r+1],a=2*e[r+2];if((n[a]-n[o])*(n[i+1]-n[o+1])-(n[i]-n[o])*(n[a+1]-n[o+1])>1e-10)return!1}return!0}function k6(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var Qi=class t{static from(e,n=S6,r=T6,o){return new t("length"in e?E6(e,n,r,o):Float64Array.from(N6(e,n,r,o)))}constructor(e){this._delaunator=new Do(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&A6(e)){this.collinear=Int32Array.from({length:n.length/2},(l,p)=>p).sort((l,p)=>n[2*l]-n[2*p]||n[2*l+1]-n[2*p+1]);let s=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*s],n[2*s+1],n[2*u],n[2*u+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let l=0,p=n.length/2;l<p;++l){let m=k6(n[2*l],n[2*l+1],h);n[2*l]=m[0],n[2*l+1]=m[1]}this._delaunator=new Do(n)}else delete this.collinear;let r=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),f=this._hullIndex.fill(-1);for(let s=0,u=r.length;s<u;++s){let c=i[s%3===2?s-2:s+1];(r[s]===-1||a[c]===-1)&&(a[c]=s)}for(let s=0,u=o.length;s<u;++s)f[o[s]]=s;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],a[o[0]]=1,o.length===2&&(a[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(e){return new Ir(this,e)}*neighbors(e){let{inedges:n,hull:r,_hullIndex:o,halfedges:i,triangles:a,collinear:f}=this;if(f){let h=f.indexOf(e);h>0&&(yield f[h-1]),h<f.length-1&&(yield f[h+1]);return}let s=n[e];if(s===-1)return;let u=s,c=-1;do{if(yield c=a[u],u=u%3===2?u-2:u+1,a[u]!==e)return;if(u=i[u],u===-1){let h=r[(o[e]+1)%r.length];h!==c&&(yield h);return}}while(u!==s)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;let o=r,i;for(;(i=this._step(r,e,n))>=0&&i!==r&&i!==o;)r=i;return i}_step(e,n,r){let{inedges:o,hull:i,_hullIndex:a,halfedges:f,triangles:s,points:u}=this;if(o[e]===-1||!u.length)return(e+1)%(u.length>>1);let c=e,h=Oo(n-u[e*2],2)+Oo(r-u[e*2+1],2),l=o[e],p=l;do{let m=s[p],g=Oo(n-u[m*2],2)+Oo(r-u[m*2+1],2);if(g<h&&(h=g,c=m),p=p%3===2?p-2:p+1,s[p]!==e)break;if(p=f[p],p===-1){if(p=i[(a[e]+1)%i.length],p!==m&&Oo(n-u[p*2],2)+Oo(r-u[p*2+1],2)<h)return p;break}}while(p!==l);return c}render(e){let n=e==null?e=new ye:void 0,{points:r,halfedges:o,triangles:i}=this;for(let a=0,f=o.length;a<f;++a){let s=o[a];if(s<a)continue;let u=i[a]*2,c=i[s]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;let r=e==null?e=new ye:void 0,{points:o}=this;for(let i=0,a=o.length;i<a;i+=2){let f=o[i],s=o[i+1];e.moveTo(f+n,s),e.arc(f,s,n,0,M6)}return r&&r.value()}renderHull(e){let n=e==null?e=new ye:void 0,{hull:r,points:o}=this,i=r[0]*2,a=r.length;e.moveTo(o[i],o[i+1]);for(let f=1;f<a;++f){let s=2*r[f];e.lineTo(o[s],o[s+1])}return e.closePath(),n&&n.value()}hullPolygon(){let e=new Gn;return this.renderHull(e),e.value()}renderTriangle(e,n){let r=n==null?n=new ye:void 0,{points:o,triangles:i}=this,a=i[e*=3]*2,f=i[e+1]*2,s=i[e+2]*2;return n.moveTo(o[a],o[a+1]),n.lineTo(o[f],o[f+1]),n.lineTo(o[s],o[s+1]),n.closePath(),r&&r.value()}*trianglePolygons(){let{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){let n=new Gn;return this.renderTriangle(e,n),n.value()}};function E6(t,e,n,r){let o=t.length,i=new Float64Array(o*2);for(let a=0;a<o;++a){let f=t[a];i[a*2]=e.call(r,f,a,t),i[a*2+1]=n.call(r,f,a,t)}return i}function*N6(t,e,n,r){let o=0;for(let i of t)yield e.call(r,i,o,t),yield n.call(r,i,o,t),++o}var E1={},vl={},wl=34,Ki=10,Ml=13;function C1(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function C6(t,e){var n=C1(t);return function(r,o){return e(n(r),o,t)}}function N1(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var o in r)o in e||n.push(e[o]=o)}),n}function ue(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function R6(t){return t<0?"-"+ue(-t,6):t>9999?"+"+ue(t,6):ue(t,4)}function I6(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":R6(t.getUTCFullYear(),4)+"-"+ue(t.getUTCMonth()+1,2)+"-"+ue(t.getUTCDate(),2)+(o?"T"+ue(e,2)+":"+ue(n,2)+":"+ue(r,2)+"."+ue(o,3)+"Z":r?"T"+ue(e,2)+":"+ue(n,2)+":"+ue(r,2)+"Z":n||e?"T"+ue(e,2)+":"+ue(n,2)+"Z":"")}function Zn(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(h,l){var p,m,g=o(h,function(d,x){if(p)return p(d,x-1);m=d,p=l?C6(d,l):C1(d)});return g.columns=m||[],g}function o(h,l){var p=[],m=h.length,g=0,d=0,x,_=m<=0,y=!1;h.charCodeAt(m-1)===Ki&&--m,h.charCodeAt(m-1)===Ml&&--m;function b(){if(_)return vl;if(y)return y=!1,E1;var w,k=g,C;if(h.charCodeAt(k)===wl){for(;g++<m&&h.charCodeAt(g)!==wl||h.charCodeAt(++g)===wl;);return(w=g)>=m?_=!0:(C=h.charCodeAt(g++))===Ki?y=!0:C===Ml&&(y=!0,h.charCodeAt(g)===Ki&&++g),h.slice(k+1,w-1).replace(/""/g,'"')}for(;g<m;){if((C=h.charCodeAt(w=g++))===Ki)y=!0;else if(C===Ml)y=!0,h.charCodeAt(g)===Ki&&++g;else if(C!==n)continue;return h.slice(k,w)}return _=!0,h.slice(k,m)}for(;(x=b())!==vl;){for(var v=[];x!==E1&&x!==vl;)v.push(x),x=b();l&&(v=l(v,d++))==null||p.push(v)}return p}function i(h,l){return h.map(function(p){return l.map(function(m){return c(p[m])}).join(t)})}function a(h,l){return l==null&&(l=N1(h)),[l.map(c).join(t)].concat(i(h,l)).join(`
`)}function f(h,l){return l==null&&(l=N1(h)),i(h,l).join(`
`)}function s(h){return h.map(u).join(`
`)}function u(h){return h.map(c).join(t)}function c(h){return h==null?"":h instanceof Date?I6(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:o,format:a,formatBody:f,formatRows:s,formatRow:u,formatValue:c}}var Pr=Zn(","),Xf=Pr.parse,R1=Pr.parseRows,I1=Pr.format,P1=Pr.formatBody,q1=Pr.formatRows,D1=Pr.formatRow,O1=Pr.formatValue;var qr=Zn("	"),Vf=qr.parse,F1=qr.parseRows,L1=qr.format,$1=qr.formatBody,Y1=qr.formatRows,U1=qr.formatRow,z1=qr.formatValue;function Sl(t){for(var e in t){var n=t[e].trim(),r,o;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(o=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))P6&&o[4]&&!o[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}var P6=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function q6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function B1(t,e){return fetch(t,e).then(q6)}function D6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function H1(t,e){return fetch(t,e).then(D6)}function O6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Dr(t,e){return fetch(t,e).then(O6)}function X1(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Dr(e,n).then(function(o){return t(o,r)})}}function Tl(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var o=Zn(t);return Dr(e,n).then(function(i){return o.parse(i,r)})}var V1=X1(Xf),W1=X1(Vf);function G1(t,e){return new Promise(function(n,r){var o=new Image;for(var i in e)o[i]=e[i];o.onerror=r,o.onload=function(){n(o)},o.src=t})}function F6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Z1(t,e){return fetch(t,e).then(F6)}function Al(t){return(e,n)=>Dr(e,n).then(r=>new DOMParser().parseFromString(r,t))}var j1=Al("application/xml"),Q1=Al("text/html"),K1=Al("image/svg+xml");function J1(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function o(){var i,a=n.length,f,s=0,u=0;for(i=0;i<a;++i)f=n[i],s+=f.x,u+=f.y;for(s=(s/a-t)*r,u=(u/a-e)*r,i=0;i<a;++i)f=n[i],f.x-=s,f.y-=u}return o.initialize=function(i){n=i},o.x=function(i){return arguments.length?(t=+i,o):t},o.y=function(i){return arguments.length?(e=+i,o):e},o.strength=function(i){return arguments.length?(r=+i,o):r},o}function tg(t){let e=+this._x.call(null,t),n=+this._y.call(null,t);return eg(this.cover(e,n),e,n,t)}function eg(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i=t._root,a={data:r},f=t._x0,s=t._y0,u=t._x1,c=t._y1,h,l,p,m,g,d,x,_;if(!i)return t._root=a,t;for(;i.length;)if((g=e>=(h=(f+u)/2))?f=h:u=h,(d=n>=(l=(s+c)/2))?s=l:c=l,o=i,!(i=i[x=d<<1|g]))return o[x]=a,t;if(p=+t._x.call(null,i.data),m=+t._y.call(null,i.data),e===p&&n===m)return a.next=i,o?o[x]=a:t._root=a,t;do o=o?o[x]=new Array(4):t._root=new Array(4),(g=e>=(h=(f+u)/2))?f=h:u=h,(d=n>=(l=(s+c)/2))?s=l:c=l;while((x=d<<1|g)===(_=(m>=l)<<1|p>=h));return o[_]=i,o[x]=a,t}function ng(t){var e,n,r=t.length,o,i,a=new Array(r),f=new Array(r),s=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=o,f[n]=i,o<s&&(s=o),o>c&&(c=o),i<u&&(u=i),i>h&&(h=i));if(s>c||u>h)return this;for(this.cover(s,u).cover(c,h),n=0;n<r;++n)eg(this,a[n],f[n],t[n]);return this}function rg(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var a=o-n||1,f=this._root,s,u;n>t||t>=o||r>e||e>=i;)switch(u=(e<r)<<1|t<n,s=new Array(4),s[u]=f,f=s,a*=2,u){case 0:o=n+a,i=r+a;break;case 1:n=o-a,i=r+a;break;case 2:o=n+a,r=i-a;break;case 3:n=o-a,r=i-a;break}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this}function og(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function ig(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Lt(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function ag(t,e,n){var r,o=this._x0,i=this._y0,a,f,s,u,c=this._x1,h=this._y1,l=[],p=this._root,m,g;for(p&&l.push(new Lt(p,o,i,c,h)),n==null?n=1/0:(o=t-n,i=e-n,c=t+n,h=e+n,n*=n);m=l.pop();)if(!(!(p=m.node)||(a=m.x0)>c||(f=m.y0)>h||(s=m.x1)<o||(u=m.y1)<i))if(p.length){var d=(a+s)/2,x=(f+u)/2;l.push(new Lt(p[3],d,x,s,u),new Lt(p[2],a,x,d,u),new Lt(p[1],d,f,s,x),new Lt(p[0],a,f,d,x)),(g=(e>=x)<<1|t>=d)&&(m=l[l.length-1],l[l.length-1]=l[l.length-1-g],l[l.length-1-g]=m)}else{var _=t-+this._x.call(null,p.data),y=e-+this._y.call(null,p.data),b=_*_+y*y;if(b<n){var v=Math.sqrt(n=b);o=t-v,i=e-v,c=t+v,h=e+v,r=p.data}}return r}function fg(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,o,i,a=this._x0,f=this._y0,s=this._x1,u=this._y1,c,h,l,p,m,g,d,x;if(!n)return this;if(n.length)for(;;){if((m=c>=(l=(a+s)/2))?a=l:s=l,(g=h>=(p=(f+u)/2))?f=p:u=p,e=n,!(n=n[d=g<<1|m]))return this;if(!n.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(r=e,x=d)}for(;n.data!==t;)if(o=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,o?(i?o.next=i:delete o.next,this):e?(i?e[d]=i:delete e[d],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=i,this)}function ug(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function sg(){return this._root}function cg(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function lg(t){var e=[],n,r=this._root,o,i,a,f,s;for(r&&e.push(new Lt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,i=n.x0,a=n.y0,f=n.x1,s=n.y1)&&r.length){var u=(i+f)/2,c=(a+s)/2;(o=r[3])&&e.push(new Lt(o,u,c,f,s)),(o=r[2])&&e.push(new Lt(o,i,c,u,s)),(o=r[1])&&e.push(new Lt(o,u,a,f,c)),(o=r[0])&&e.push(new Lt(o,i,a,u,c))}return this}function hg(t){var e=[],n=[],r;for(this._root&&e.push(new Lt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var o=r.node;if(o.length){var i,a=r.x0,f=r.y0,s=r.x1,u=r.y1,c=(a+s)/2,h=(f+u)/2;(i=o[0])&&e.push(new Lt(i,a,f,c,h)),(i=o[1])&&e.push(new Lt(i,c,f,s,h)),(i=o[2])&&e.push(new Lt(i,a,h,c,u)),(i=o[3])&&e.push(new Lt(i,c,h,s,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function pg(t){return t[0]}function dg(t){return arguments.length?(this._x=t,this):this._x}function mg(t){return t[1]}function gg(t){return arguments.length?(this._y=t,this):this._y}function jn(t,e,n){var r=new kl(e==null?pg:e,n==null?mg:n,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function kl(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function xg(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var te=jn.prototype=kl.prototype;te.copy=function(){var t=new kl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=xg(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var o=0;o<4;++o)(r=e.source[o])&&(r.length?n.push({source:r,target:e.target[o]=new Array(4)}):e.target[o]=xg(r));return t};te.add=tg;te.addAll=ng;te.cover=rg;te.data=og;te.extent=ig;te.find=ag;te.remove=fg;te.removeAll=ug;te.root=sg;te.size=cg;te.visit=lg;te.visitAfter=hg;te.x=dg;te.y=gg;function St(t){return function(){return t}}function De(t){return(t()-.5)*1e-6}function L6(t){return t.x+t.vx}function $6(t){return t.y+t.vy}function bg(t){var e,n,r,o=1,i=1;typeof t!="function"&&(t=St(t==null?1:+t));function a(){for(var u,c=e.length,h,l,p,m,g,d,x=0;x<i;++x)for(h=jn(e,L6,$6).visitAfter(f),u=0;u<c;++u)l=e[u],g=n[l.index],d=g*g,p=l.x+l.vx,m=l.y+l.vy,h.visit(_);function _(y,b,v,w,k){var C=y.data,N=y.r,E=g+N;if(C){if(C.index>l.index){var S=p-C.x-C.vx,P=m-C.y-C.vy,R=S*S+P*P;R<E*E&&(S===0&&(S=De(r),R+=S*S),P===0&&(P=De(r),R+=P*P),R=(E-(R=Math.sqrt(R)))/R*o,l.vx+=(S*=R)*(E=(N*=N)/(d+N)),l.vy+=(P*=R)*E,C.vx-=S*(E=1-E),C.vy-=P*E)}return}return b>p+E||w<p-E||v>m+E||k<m-E}}function f(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function s(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return a.initialize=function(u,c){e=u,r=c,s()},a.iterations=function(u){return arguments.length?(i=+u,a):i},a.strength=function(u){return arguments.length?(o=+u,a):o},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:St(+u),s(),a):t},a}function Y6(t){return t.index}function yg(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function _g(t){var e=Y6,n=h,r,o=St(30),i,a,f,s,u,c=1;t==null&&(t=[]);function h(d){return 1/Math.min(f[d.source.index],f[d.target.index])}function l(d){for(var x=0,_=t.length;x<c;++x)for(var y=0,b,v,w,k,C,N,E;y<_;++y)b=t[y],v=b.source,w=b.target,k=w.x+w.vx-v.x-v.vx||De(u),C=w.y+w.vy-v.y-v.vy||De(u),N=Math.sqrt(k*k+C*C),N=(N-i[y])/N*d*r[y],k*=N,C*=N,w.vx-=k*(E=s[y]),w.vy-=C*E,v.vx+=k*(E=1-E),v.vy+=C*E}function p(){if(a){var d,x=a.length,_=t.length,y=new Map(a.map((v,w)=>[e(v,w,a),v])),b;for(d=0,f=new Array(x);d<_;++d)b=t[d],b.index=d,typeof b.source!="object"&&(b.source=yg(y,b.source)),typeof b.target!="object"&&(b.target=yg(y,b.target)),f[b.source.index]=(f[b.source.index]||0)+1,f[b.target.index]=(f[b.target.index]||0)+1;for(d=0,s=new Array(_);d<_;++d)b=t[d],s[d]=f[b.source.index]/(f[b.source.index]+f[b.target.index]);r=new Array(_),m(),i=new Array(_),g()}}function m(){if(a)for(var d=0,x=t.length;d<x;++d)r[d]=+n(t[d],d,t)}function g(){if(a)for(var d=0,x=t.length;d<x;++d)i[d]=+o(t[d],d,t)}return l.initialize=function(d,x){a=d,u=x,p()},l.links=function(d){return arguments.length?(t=d,p(),l):t},l.id=function(d){return arguments.length?(e=d,l):e},l.iterations=function(d){return arguments.length?(c=+d,l):c},l.strength=function(d){return arguments.length?(n=typeof d=="function"?d:St(+d),m(),l):n},l.distance=function(d){return arguments.length?(o=typeof d=="function"?d:St(+d),g(),l):o},l}function vg(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}function wg(t){return t.x}function Mg(t){return t.y}var U6=10,z6=Math.PI*(3-Math.sqrt(5));function Sg(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,f=new Map,s=Ar(h),u=xe("tick","end"),c=vg();t==null&&(t=[]);function h(){l(),u.call("tick",e),n<r&&(s.stop(),u.call("end",e))}function l(g){var d,x=t.length,_;g===void 0&&(g=1);for(var y=0;y<g;++y)for(n+=(i-n)*o,f.forEach(function(b){b(n)}),d=0;d<x;++d)_=t[d],_.fx==null?_.x+=_.vx*=a:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=a:(_.y=_.fy,_.vy=0);return e}function p(){for(var g=0,d=t.length,x;g<d;++g){if(x=t[g],x.index=g,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var _=U6*Math.sqrt(.5+g),y=g*z6;x.x=_*Math.cos(y),x.y=_*Math.sin(y)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function m(g){return g.initialize&&g.initialize(t,c),g}return p(),e={tick:l,restart:function(){return s.restart(h),e},stop:function(){return s.stop(),e},nodes:function(g){return arguments.length?(t=g,p(),f.forEach(m),e):t},alpha:function(g){return arguments.length?(n=+g,e):n},alphaMin:function(g){return arguments.length?(r=+g,e):r},alphaDecay:function(g){return arguments.length?(o=+g,e):+o},alphaTarget:function(g){return arguments.length?(i=+g,e):i},velocityDecay:function(g){return arguments.length?(a=1-g,e):1-a},randomSource:function(g){return arguments.length?(c=g,f.forEach(m),e):c},force:function(g,d){return arguments.length>1?(d==null?f.delete(g):f.set(g,m(d)),e):f.get(g)},find:function(g,d,x){var _=0,y=t.length,b,v,w,k,C;for(x==null?x=1/0:x*=x,_=0;_<y;++_)k=t[_],b=g-k.x,v=d-k.y,w=b*b+v*v,w<x&&(C=k,x=w);return C},on:function(g,d){return arguments.length>1?(u.on(g,d),e):u.on(g)}}}function Tg(){var t,e,n,r,o=St(-30),i,a=1,f=1/0,s=.81;function u(p){var m,g=t.length,d=jn(t,wg,Mg).visitAfter(h);for(r=p,m=0;m<g;++m)e=t[m],d.visit(l)}function c(){if(t){var p,m=t.length,g;for(i=new Array(m),p=0;p<m;++p)g=t[p],i[g.index]=+o(g,p,t)}}function h(p){var m=0,g,d,x=0,_,y,b;if(p.length){for(_=y=b=0;b<4;++b)(g=p[b])&&(d=Math.abs(g.value))&&(m+=g.value,x+=d,_+=d*g.x,y+=d*g.y);p.x=_/x,p.y=y/x}else{g=p,g.x=g.data.x,g.y=g.data.y;do m+=i[g.data.index];while(g=g.next)}p.value=m}function l(p,m,g,d){if(!p.value)return!0;var x=p.x-e.x,_=p.y-e.y,y=d-m,b=x*x+_*_;if(y*y/s<b)return b<f&&(x===0&&(x=De(n),b+=x*x),_===0&&(_=De(n),b+=_*_),b<a&&(b=Math.sqrt(a*b)),e.vx+=x*p.value*r/b,e.vy+=_*p.value*r/b),!0;if(p.length||b>=f)return;(p.data!==e||p.next)&&(x===0&&(x=De(n),b+=x*x),_===0&&(_=De(n),b+=_*_),b<a&&(b=Math.sqrt(a*b)));do p.data!==e&&(y=i[p.data.index]*r/b,e.vx+=x*y,e.vy+=_*y);while(p=p.next)}return u.initialize=function(p,m){t=p,n=m,c()},u.strength=function(p){return arguments.length?(o=typeof p=="function"?p:St(+p),c(),u):o},u.distanceMin=function(p){return arguments.length?(a=p*p,u):Math.sqrt(a)},u.distanceMax=function(p){return arguments.length?(f=p*p,u):Math.sqrt(f)},u.theta=function(p){return arguments.length?(s=p*p,u):Math.sqrt(s)},u}function Ag(t,e,n){var r,o=St(.1),i,a;typeof t!="function"&&(t=St(+t)),e==null&&(e=0),n==null&&(n=0);function f(u){for(var c=0,h=r.length;c<h;++c){var l=r[c],p=l.x-e||1e-6,m=l.y-n||1e-6,g=Math.sqrt(p*p+m*m),d=(a[c]-g)*i[c]*u/g;l.vx+=p*d,l.vy+=m*d}}function s(){if(r){var u,c=r.length;for(i=new Array(c),a=new Array(c),u=0;u<c;++u)a[u]=+t(r[u],u,r),i[u]=isNaN(a[u])?0:+o(r[u],u,r)}}return f.initialize=function(u){r=u,s()},f.strength=function(u){return arguments.length?(o=typeof u=="function"?u:St(+u),s(),f):o},f.radius=function(u){return arguments.length?(t=typeof u=="function"?u:St(+u),s(),f):t},f.x=function(u){return arguments.length?(e=+u,f):e},f.y=function(u){return arguments.length?(n=+u,f):n},f}function kg(t){var e=St(.1),n,r,o;typeof t!="function"&&(t=St(t==null?0:+t));function i(f){for(var s=0,u=n.length,c;s<u;++s)c=n[s],c.vx+=(o[s]-c.x)*r[s]*f}function a(){if(n){var f,s=n.length;for(r=new Array(s),o=new Array(s),f=0;f<s;++f)r[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return i.initialize=function(f){n=f,a()},i.strength=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),a(),i):e},i.x=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),a(),i):t},i}function Eg(t){var e=St(.1),n,r,o;typeof t!="function"&&(t=St(t==null?0:+t));function i(f){for(var s=0,u=n.length,c;s<u;++s)c=n[s],c.vy+=(o[s]-c.y)*r[s]*f}function a(){if(n){var f,s=n.length;for(r=new Array(s),o=new Array(s),f=0;f<s;++f)r[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return i.initialize=function(f){n=f,a()},i.strength=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),a(),i):e},i.y=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),a(),i):t},i}function Ng(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Or(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ke(t){return t=Or(Math.abs(t)),t?t[1]:NaN}function Cg(t,e){return function(n,r){for(var o=n.length,i=[],a=0,f=t[0],s=0;o>0&&f>0&&(s+f+1>r&&(f=Math.max(1,r-s)),i.push(n.substring(o-=f,o+f)),!((s+=f+1)>r));)f=t[a=(a+1)%t.length];return i.reverse().join(e)}}function Rg(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var B6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oe(t){if(!(e=B6.exec(t)))throw new Error("invalid format: "+t);var e;return new Ji({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oe.prototype=Ji.prototype;function Ji(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ji.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ig(t){t:for(var e=t.length,n=1,r=-1,o;n<e;++n)switch(t[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var El;function Pg(t,e){var n=Or(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(El=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Or(t,Math.max(0,e+i-1))[0]}function Nl(t,e){var n=Or(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}var Cl={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ng,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Nl(t*100,e),r:Nl,s:Pg,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Rl(t){return t}var qg=Array.prototype.map,Dg=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Wf(t){var e=t.grouping===void 0||t.thousands===void 0?Rl:Cg(qg.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Rl:Rg(qg.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"\u2212":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Oe(h);var l=h.fill,p=h.align,m=h.sign,g=h.symbol,d=h.zero,x=h.width,_=h.comma,y=h.precision,b=h.trim,v=h.type;v==="n"?(_=!0,v="g"):Cl[v]||(y===void 0&&(y=12),b=!0,v="g"),(d||l==="0"&&p==="=")&&(d=!0,l="0",p="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",k=g==="$"?r:/[%p]/.test(v)?a:"",C=Cl[v],N=/[defgprs%]/.test(v);y=y===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function E(S){var P=w,R=k,M,A,T;if(v==="c")R=C(S)+R,S="";else{S=+S;var I=S<0||1/S<0;if(S=isNaN(S)?s:C(Math.abs(S),y),b&&(S=Ig(S)),I&&+S==0&&m!=="+"&&(I=!1),P=(I?m==="("?m:f:m==="-"||m==="("?"":m)+P,R=(v==="s"?Dg[8+El/3]:"")+R+(I&&m==="("?")":""),N){for(M=-1,A=S.length;++M<A;)if(T=S.charCodeAt(M),48>T||T>57){R=(T===46?o+S.slice(M+1):S.slice(M))+R,S=S.slice(0,M);break}}}_&&!d&&(S=e(S,1/0));var O=P.length+S.length+R.length,q=O<x?new Array(x-O+1).join(l):"";switch(_&&d&&(S=e(q+S,q.length?x-R.length:1/0),q=""),p){case"<":S=P+S+R+q;break;case"=":S=P+q+S+R;break;case"^":S=q.slice(0,O=q.length>>1)+P+S+R+q.slice(O);break;default:S=q+P+S+R;break}return i(S)}return E.toString=function(){return h+""},E}function c(h,l){var p=u((h=Oe(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Ke(l)/3)))*3,g=Math.pow(10,-m),d=Dg[8+m/3];return function(x){return p(g*x)+d}}return{format:u,formatPrefix:c}}var Gf,Fr,ta;Zf({thousands:",",grouping:[3],currency:["$",""]});function Zf(t){return Gf=Wf(t),Fr=Gf.format,ta=Gf.formatPrefix,Gf}function jf(t){return Math.max(0,-Ke(Math.abs(t)))}function Qf(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ke(e)/3)))*3-Ke(Math.abs(t)))}function Kf(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ke(e)-Ke(t))+1}var B=1e-6,Sn=1e-12,tt=Math.PI,xt=tt/2,Fo=tt/4,Ct=tt*2,it=180/tt,V=tt/180,Z=Math.abs,_e=Math.atan,bt=Math.atan2,$=Math.cos,ea=Math.ceil,Jf=Math.exp;var tu=Math.hypot,Lr=Math.log,eu=Math.pow,L=Math.sin,Qt=Math.sign||function(t){return t>0?1:t<0?-1:0},ct=Math.sqrt,Lo=Math.tan;function nu(t){return t>1?0:t<-1?tt:Math.acos(t)}function yt(t){return t>1?xt:t<-1?-xt:Math.asin(t)}function Il(t){return(t=L(t/2))*t}function pt(){}function ru(t,e){t&&Fg.hasOwnProperty(t.type)&&Fg[t.type](t,e)}var Og={Feature:function(t,e){ru(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)ru(n[r].geometry,e)}},Fg={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Pl(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Pl(n[r],e,0)},Polygon:function(t,e){Lg(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Lg(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)ru(n[r],e)}};function Pl(t,e,n){var r=-1,o=t.length-n,i;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Lg(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Pl(t[n],e,1);e.polygonEnd()}function $t(t,e){t&&Og.hasOwnProperty(t.type)?Og[t.type](t,e):ru(t,e)}var na=new mt,ou=new mt,$g,Yg,ql,Dl,Ol,Fe={point:pt,lineStart:pt,lineEnd:pt,polygonStart:function(){na=new mt,Fe.lineStart=H6,Fe.lineEnd=X6},polygonEnd:function(){var t=+na;ou.add(t<0?Ct+t:t),this.lineStart=this.lineEnd=this.point=pt},sphere:function(){ou.add(Ct)}};function H6(){Fe.point=V6}function X6(){Ug($g,Yg)}function V6(t,e){Fe.point=Ug,$g=t,Yg=e,t*=V,e*=V,ql=t,Dl=$(e=e/2+Fo),Ol=L(e)}function Ug(t,e){t*=V,e*=V,e=e/2+Fo;var n=t-ql,r=n>=0?1:-1,o=r*n,i=$(e),a=L(e),f=Ol*a,s=Dl*i+f*$(o),u=f*r*L(o);na.add(bt(u,s)),ql=t,Dl=i,Ol=a}function zg(t){return ou=new mt,$t(t,Fe),ou*2}function $r(t){return[bt(t[1],t[0]),yt(t[2])]}function ve(t){var e=t[0],n=t[1],r=$(n);return[r*$(e),r*L(e),L(n)]}function ra(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Tn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function iu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function oa(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Yr(t){var e=ct(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var kt,se,Nt,pe,Ur,Vg,Wg,$o,ia,Qn,kn,An={point:Fl,lineStart:Bg,lineEnd:Hg,polygonStart:function(){An.point=Zg,An.lineStart=W6,An.lineEnd=G6,ia=new mt,Fe.polygonStart()},polygonEnd:function(){Fe.polygonEnd(),An.point=Fl,An.lineStart=Bg,An.lineEnd=Hg,na<0?(kt=-(Nt=180),se=-(pe=90)):ia>B?pe=90:ia<-B&&(se=-90),kn[0]=kt,kn[1]=Nt},sphere:function(){kt=-(Nt=180),se=-(pe=90)}};function Fl(t,e){Qn.push(kn=[kt=t,Nt=t]),e<se&&(se=e),e>pe&&(pe=e)}function Gg(t,e){var n=ve([t*V,e*V]);if($o){var r=Tn($o,n),o=[r[1],-r[0],0],i=Tn(o,r);Yr(i),i=$r(i);var a=t-Ur,f=a>0?1:-1,s=i[0]*it*f,u,c=Z(a)>180;c^(f*Ur<s&&s<f*t)?(u=i[1]*it,u>pe&&(pe=u)):(s=(s+360)%360-180,c^(f*Ur<s&&s<f*t)?(u=-i[1]*it,u<se&&(se=u)):(e<se&&(se=e),e>pe&&(pe=e))),c?t<Ur?he(kt,t)>he(kt,Nt)&&(Nt=t):he(t,Nt)>he(kt,Nt)&&(kt=t):Nt>=kt?(t<kt&&(kt=t),t>Nt&&(Nt=t)):t>Ur?he(kt,t)>he(kt,Nt)&&(Nt=t):he(t,Nt)>he(kt,Nt)&&(kt=t)}else Qn.push(kn=[kt=t,Nt=t]);e<se&&(se=e),e>pe&&(pe=e),$o=n,Ur=t}function Bg(){An.point=Gg}function Hg(){kn[0]=kt,kn[1]=Nt,An.point=Fl,$o=null}function Zg(t,e){if($o){var n=t-Ur;ia.add(Z(n)>180?n+(n>0?360:-360):n)}else Vg=t,Wg=e;Fe.point(t,e),Gg(t,e)}function W6(){Fe.lineStart()}function G6(){Zg(Vg,Wg),Fe.lineEnd(),Z(ia)>B&&(kt=-(Nt=180)),kn[0]=kt,kn[1]=Nt,$o=null}function he(t,e){return(e-=t)<0?e+360:e}function Z6(t,e){return t[0]-e[0]}function Xg(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function jg(t){var e,n,r,o,i,a,f;if(pe=Nt=-(kt=se=1/0),Qn=[],$t(t,An),n=Qn.length){for(Qn.sort(Z6),e=1,r=Qn[0],i=[r];e<n;++e)o=Qn[e],Xg(r,o[0])||Xg(r,o[1])?(he(r[0],o[1])>he(r[0],r[1])&&(r[1]=o[1]),he(o[0],r[1])>he(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,n=i.length-1,e=0,r=i[n];e<=n;r=o,++e)o=i[e],(f=he(r[1],o[0]))>a&&(a=f,kt=o[0],Nt=r[1])}return Qn=kn=null,kt===1/0||se===1/0?[[NaN,NaN],[NaN,NaN]]:[[kt,se],[Nt,pe]]}var aa,au,fu,uu,su,cu,lu,hu,Ll,$l,Yl,Jg,tx,ee,ne,re,Le={sphere:pt,point:Ul,lineStart:Qg,lineEnd:Kg,polygonStart:function(){Le.lineStart=K6,Le.lineEnd=J6},polygonEnd:function(){Le.lineStart=Qg,Le.lineEnd=Kg}};function Ul(t,e){t*=V,e*=V;var n=$(e);fa(n*$(t),n*L(t),L(e))}function fa(t,e,n){++aa,fu+=(t-fu)/aa,uu+=(e-uu)/aa,su+=(n-su)/aa}function Qg(){Le.point=j6}function j6(t,e){t*=V,e*=V;var n=$(e);ee=n*$(t),ne=n*L(t),re=L(e),Le.point=Q6,fa(ee,ne,re)}function Q6(t,e){t*=V,e*=V;var n=$(e),r=n*$(t),o=n*L(t),i=L(e),a=bt(ct((a=ne*i-re*o)*a+(a=re*r-ee*i)*a+(a=ee*o-ne*r)*a),ee*r+ne*o+re*i);au+=a,cu+=a*(ee+(ee=r)),lu+=a*(ne+(ne=o)),hu+=a*(re+(re=i)),fa(ee,ne,re)}function Kg(){Le.point=Ul}function K6(){Le.point=t4}function J6(){ex(Jg,tx),Le.point=Ul}function t4(t,e){Jg=t,tx=e,t*=V,e*=V,Le.point=ex;var n=$(e);ee=n*$(t),ne=n*L(t),re=L(e),fa(ee,ne,re)}function ex(t,e){t*=V,e*=V;var n=$(e),r=n*$(t),o=n*L(t),i=L(e),a=ne*i-re*o,f=re*r-ee*i,s=ee*o-ne*r,u=tu(a,f,s),c=yt(u),h=u&&-c/u;Ll.add(h*a),$l.add(h*f),Yl.add(h*s),au+=c,cu+=c*(ee+(ee=r)),lu+=c*(ne+(ne=o)),hu+=c*(re+(re=i)),fa(ee,ne,re)}function nx(t){aa=au=fu=uu=su=cu=lu=hu=0,Ll=new mt,$l=new mt,Yl=new mt,$t(t,Le);var e=+Ll,n=+$l,r=+Yl,o=tu(e,n,r);return o<Sn&&(e=cu,n=lu,r=hu,au<B&&(e=fu,n=uu,r=su),o=tu(e,n,r),o<Sn)?[NaN,NaN]:[bt(n,e)*it,yt(r/o)*it]}function zr(t){return function(){return t}}function ua(t,e){function n(r,o){return r=t(r,o),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,o){return r=e.invert(r,o),r&&t.invert(r[0],r[1])}),n}function zl(t,e){return Z(t)>tt&&(t-=Math.round(t/Ct)*Ct),[t,e]}zl.invert=zl;function sa(t,e,n){return(t%=Ct)?e||n?ua(ox(t),ix(e,n)):ox(t):e||n?ix(e,n):zl}function rx(t){return function(e,n){return e+=t,Z(e)>tt&&(e-=Math.round(e/Ct)*Ct),[e,n]}}function ox(t){var e=rx(t);return e.invert=rx(-t),e}function ix(t,e){var n=$(t),r=L(t),o=$(e),i=L(e);function a(f,s){var u=$(s),c=$(f)*u,h=L(f)*u,l=L(s),p=l*n+c*r;return[bt(h*o-p*i,c*n-l*r),yt(p*o+h*i)]}return a.invert=function(f,s){var u=$(s),c=$(f)*u,h=L(f)*u,l=L(s),p=l*o-h*i;return[bt(h*o+l*i,c*n+p*r),yt(p*n-c*r)]},a}function pu(t){t=sa(t[0]*V,t[1]*V,t.length>2?t[2]*V:0);function e(n){return n=t(n[0]*V,n[1]*V),n[0]*=it,n[1]*=it,n}return e.invert=function(n){return n=t.invert(n[0]*V,n[1]*V),n[0]*=it,n[1]*=it,n},e}function Bl(t,e,n,r,o,i){if(n){var a=$(e),f=L(e),s=r*n;o==null?(o=e+r*Ct,i=e-s/2):(o=ax(a,o),i=ax(a,i),(r>0?o<i:o>i)&&(o+=r*Ct));for(var u,c=o;r>0?c>i:c<i;c-=s)u=$r([a,-f*$(c),-f*L(c)]),t.point(u[0],u[1])}}function ax(t,e){e=ve(e),e[0]-=t,Yr(e);var n=nu(-e[1]);return((-e[2]<0?-n:n)+Ct-B)%Ct}function fx(){var t=zr([0,0]),e=zr(90),n=zr(2),r,o,i={point:a};function a(s,u){r.push(s=o(s,u)),s[0]*=it,s[1]*=it}function f(){var s=t.apply(this,arguments),u=e.apply(this,arguments)*V,c=n.apply(this,arguments)*V;return r=[],o=sa(-s[0]*V,-s[1]*V,0).invert,Bl(i,u,c,1),s={type:"Polygon",coordinates:[r]},r=o=null,s}return f.center=function(s){return arguments.length?(t=typeof s=="function"?s:zr([+s[0],+s[1]]),f):t},f.radius=function(s){return arguments.length?(e=typeof s=="function"?s:zr(+s),f):e},f.precision=function(s){return arguments.length?(n=typeof s=="function"?s:zr(+s),f):n},f}function du(){var t=[],e;return{point:function(n,r,o){e.push([n,r,o])},lineStart:function(){t.push(e=[])},lineEnd:pt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Yo(t,e){return Z(t[0]-e[0])<B&&Z(t[1]-e[1])<B}function mu(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function gu(t,e,n,r,o){var i=[],a=[],f,s;if(t.forEach(function(m){if(!((g=m.length-1)<=0)){var g,d=m[0],x=m[g],_;if(Yo(d,x)){if(!d[2]&&!x[2]){for(o.lineStart(),f=0;f<g;++f)o.point((d=m[f])[0],d[1]);o.lineEnd();return}x[0]+=2*B}i.push(_=new mu(d,m,null,!0)),a.push(_.o=new mu(d,null,_,!1)),i.push(_=new mu(x,m,null,!1)),a.push(_.o=new mu(x,null,_,!0))}}),!!i.length){for(a.sort(e),ux(i),ux(a),f=0,s=a.length;f<s;++f)a[f].e=n=!n;for(var u=i[0],c,h;;){for(var l=u,p=!0;l.v;)if((l=l.n)===u)return;c=l.z,o.lineStart();do{if(l.v=l.o.v=!0,l.e){if(p)for(f=0,s=c.length;f<s;++f)o.point((h=c[f])[0],h[1]);else r(l.x,l.n.x,1,o);l=l.n}else{if(p)for(c=l.p.z,f=c.length-1;f>=0;--f)o.point((h=c[f])[0],h[1]);else r(l.x,l.p.x,-1,o);l=l.p}l=l.o,c=l.z,p=!p}while(!l.v);o.lineEnd()}}}function ux(t){if(e=t.length){for(var e,n=0,r=t[0],o;++n<e;)r.n=o=t[n],o.p=r,r=o;r.n=o=t[0],o.p=r}}function Hl(t){return Z(t[0])<=tt?t[0]:Qt(t[0])*((Z(t[0])+tt)%Ct-tt)}function xu(t,e){var n=Hl(e),r=e[1],o=L(r),i=[L(n),-$(n),0],a=0,f=0,s=new mt;o===1?r=xt+B:o===-1&&(r=-xt-B);for(var u=0,c=t.length;u<c;++u)if(l=(h=t[u]).length)for(var h,l,p=h[l-1],m=Hl(p),g=p[1]/2+Fo,d=L(g),x=$(g),_=0;_<l;++_,m=b,d=w,x=k,p=y){var y=h[_],b=Hl(y),v=y[1]/2+Fo,w=L(v),k=$(v),C=b-m,N=C>=0?1:-1,E=N*C,S=E>tt,P=d*w;if(s.add(bt(P*N*L(E),x*k+P*$(E))),a+=S?C+N*Ct:C,S^m>=n^b>=n){var R=Tn(ve(p),ve(y));Yr(R);var M=Tn(i,R);Yr(M);var A=(S^C>=0?-1:1)*yt(M[2]);(r>A||r===A&&(R[0]||R[1]))&&(f+=S^C>=0?1:-1)}}return(a<-B||a<B&&s<-Sn)^f&1}function bu(t,e,n,r){return function(o){var i=e(o),a=du(),f=e(a),s=!1,u,c,h,l={point:p,lineStart:g,lineEnd:d,polygonStart:function(){l.point=x,l.lineStart=_,l.lineEnd=y,c=[],u=[]},polygonEnd:function(){l.point=p,l.lineStart=g,l.lineEnd=d,c=gr(c);var b=xu(u,r);c.length?(s||(o.polygonStart(),s=!0),gu(c,n4,b,n,o)):b&&(s||(o.polygonStart(),s=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),s&&(o.polygonEnd(),s=!1),c=u=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(b,v){t(b,v)&&o.point(b,v)}function m(b,v){i.point(b,v)}function g(){l.point=m,i.lineStart()}function d(){l.point=p,i.lineEnd()}function x(b,v){h.push([b,v]),f.point(b,v)}function _(){f.lineStart(),h=[]}function y(){x(h[0][0],h[0][1]),f.lineEnd();var b=f.clean(),v=a.result(),w,k=v.length,C,N,E;if(h.pop(),u.push(h),h=null,!!k){if(b&1){if(N=v[0],(C=N.length-1)>0){for(s||(o.polygonStart(),s=!0),o.lineStart(),w=0;w<C;++w)o.point((E=N[w])[0],E[1]);o.lineEnd()}return}k>1&&b&2&&v.push(v.pop().concat(v.shift())),c.push(v.filter(e4))}}return l}}function e4(t){return t.length>1}function n4(t,e){return((t=t.x)[0]<0?t[1]-xt-B:xt-t[1])-((e=e.x)[0]<0?e[1]-xt-B:xt-e[1])}var ca=bu(function(){return!0},r4,i4,[-tt,-xt]);function r4(t){var e=NaN,n=NaN,r=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(i,a){var f=i>0?tt:-tt,s=Z(i-e);Z(s-tt)<B?(t.point(e,n=(n+a)/2>0?xt:-xt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(i,n),o=0):r!==f&&s>=tt&&(Z(e-r)<B&&(e-=r*B),Z(i-f)<B&&(i-=f*B),n=o4(e,n,i,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=i,n=a),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function o4(t,e,n,r){var o,i,a=L(t-n);return Z(a)>B?_e((L(e)*(i=$(r))*L(n)-L(r)*(o=$(e))*L(t))/(o*i*a)):(e+r)/2}function i4(t,e,n,r){var o;if(t==null)o=n*xt,r.point(-tt,o),r.point(0,o),r.point(tt,o),r.point(tt,0),r.point(tt,-o),r.point(0,-o),r.point(-tt,-o),r.point(-tt,0),r.point(-tt,o);else if(Z(t[0]-e[0])>B){var i=t[0]<e[0]?tt:-tt;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}function yu(t){var e=$(t),n=2*V,r=e>0,o=Z(e)>B;function i(c,h,l,p){Bl(p,t,n,l,c,h)}function a(c,h){return $(c)*$(h)>e}function f(c){var h,l,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(d,x){var _=[d,x],y,b=a(d,x),v=r?b?0:u(d,x):b?u(d+(d<0?tt:-tt),x):0;if(!h&&(m=p=b)&&c.lineStart(),b!==p&&(y=s(h,_),(!y||Yo(h,y)||Yo(_,y))&&(_[2]=1)),b!==p)g=0,b?(c.lineStart(),y=s(_,h),c.point(y[0],y[1])):(y=s(h,_),c.point(y[0],y[1],2),c.lineEnd()),h=y;else if(o&&h&&r^b){var w;!(v&l)&&(w=s(_,h,!0))&&(g=0,r?(c.lineStart(),c.point(w[0][0],w[0][1]),c.point(w[1][0],w[1][1]),c.lineEnd()):(c.point(w[1][0],w[1][1]),c.lineEnd(),c.lineStart(),c.point(w[0][0],w[0][1],3)))}b&&(!h||!Yo(h,_))&&c.point(_[0],_[1]),h=_,p=b,l=v},lineEnd:function(){p&&c.lineEnd(),h=null},clean:function(){return g|(m&&p)<<1}}}function s(c,h,l){var p=ve(c),m=ve(h),g=[1,0,0],d=Tn(p,m),x=ra(d,d),_=d[0],y=x-_*_;if(!y)return!l&&c;var b=e*x/y,v=-e*_/y,w=Tn(g,d),k=oa(g,b),C=oa(d,v);iu(k,C);var N=w,E=ra(k,N),S=ra(N,N),P=E*E-S*(ra(k,k)-1);if(!(P<0)){var R=ct(P),M=oa(N,(-E-R)/S);if(iu(M,k),M=$r(M),!l)return M;var A=c[0],T=h[0],I=c[1],O=h[1],q;T<A&&(q=A,A=T,T=q);var U=T-A,H=Z(U-tt)<B,W=H||U<B;if(!H&&O<I&&(q=I,I=O,O=q),W?H?I+O>0^M[1]<(Z(M[0]-A)<B?I:O):I<=M[1]&&M[1]<=O:U>tt^(A<=M[0]&&M[0]<=T)){var lt=oa(N,(-E+R)/S);return iu(lt,k),[M,$r(lt)]}}}function u(c,h){var l=r?t:tt-t,p=0;return c<-l?p|=1:c>l&&(p|=2),h<-l?p|=4:h>l&&(p|=8),p}return bu(a,f,i,r?[0,-t]:[-tt,t-tt])}function sx(t,e,n,r,o,i){var a=t[0],f=t[1],s=e[0],u=e[1],c=0,h=1,l=s-a,p=u-f,m;if(m=n-a,!(!l&&m>0)){if(m/=l,l<0){if(m<c)return;m<h&&(h=m)}else if(l>0){if(m>h)return;m>c&&(c=m)}if(m=o-a,!(!l&&m<0)){if(m/=l,l<0){if(m>h)return;m>c&&(c=m)}else if(l>0){if(m<c)return;m<h&&(h=m)}if(m=r-f,!(!p&&m>0)){if(m/=p,p<0){if(m<c)return;m<h&&(h=m)}else if(p>0){if(m>h)return;m>c&&(c=m)}if(m=i-f,!(!p&&m<0)){if(m/=p,p<0){if(m>h)return;m>c&&(c=m)}else if(p>0){if(m<c)return;m<h&&(h=m)}return c>0&&(t[0]=a+c*l,t[1]=f+c*p),h<1&&(e[0]=a+h*l,e[1]=f+h*p),!0}}}}}var la=1e9,_u=-la;function En(t,e,n,r){function o(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function i(u,c,h,l){var p=0,m=0;if(u==null||(p=a(u,h))!==(m=a(c,h))||s(u,c)<0^h>0)do l.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+h+4)%4)!==m);else l.point(c[0],c[1])}function a(u,c){return Z(u[0]-t)<B?c>0?0:3:Z(u[0]-n)<B?c>0?2:1:Z(u[1]-e)<B?c>0?1:0:c>0?3:2}function f(u,c){return s(u.x,c.x)}function s(u,c){var h=a(u,1),l=a(c,1);return h!==l?h-l:h===0?c[1]-u[1]:h===1?u[0]-c[0]:h===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,h=du(),l,p,m,g,d,x,_,y,b,v,w,k={point:C,lineStart:P,lineEnd:R,polygonStart:E,polygonEnd:S};function C(A,T){o(A,T)&&c.point(A,T)}function N(){for(var A=0,T=0,I=p.length;T<I;++T)for(var O=p[T],q=1,U=O.length,H=O[0],W,lt,rt=H[0],nt=H[1];q<U;++q)W=rt,lt=nt,H=O[q],rt=H[0],nt=H[1],lt<=r?nt>r&&(rt-W)*(r-lt)>(nt-lt)*(t-W)&&++A:nt<=r&&(rt-W)*(r-lt)<(nt-lt)*(t-W)&&--A;return A}function E(){c=h,l=[],p=[],w=!0}function S(){var A=N(),T=w&&A,I=(l=gr(l)).length;(T||I)&&(u.polygonStart(),T&&(u.lineStart(),i(null,null,1,u),u.lineEnd()),I&&gu(l,f,A,i,u),u.polygonEnd()),c=u,l=p=m=null}function P(){k.point=M,p&&p.push(m=[]),v=!0,b=!1,_=y=NaN}function R(){l&&(M(g,d),x&&b&&h.rejoin(),l.push(h.result())),k.point=C,b&&c.lineEnd()}function M(A,T){var I=o(A,T);if(p&&m.push([A,T]),v)g=A,d=T,x=I,v=!1,I&&(c.lineStart(),c.point(A,T));else if(I&&b)c.point(A,T);else{var O=[_=Math.max(_u,Math.min(la,_)),y=Math.max(_u,Math.min(la,y))],q=[A=Math.max(_u,Math.min(la,A)),T=Math.max(_u,Math.min(la,T))];sx(O,q,t,e,n,r)?(b||(c.lineStart(),c.point(O[0],O[1])),c.point(q[0],q[1]),I||c.lineEnd(),w=!1):I&&(c.lineStart(),c.point(A,T),w=!1)}_=A,y=T,b=I}return k}}function cx(){var t=0,e=0,n=960,r=500,o,i,a;return a={stream:function(f){return o&&i===f?o:o=En(t,e,n,r)(i=f)},extent:function(f){return arguments.length?(t=+f[0][0],e=+f[0][1],n=+f[1][0],r=+f[1][1],o=i=null,a):[[t,e],[n,r]]}}}var Xl,Vl,vu,wu,Uo={sphere:pt,point:pt,lineStart:a4,lineEnd:pt,polygonStart:pt,polygonEnd:pt};function a4(){Uo.point=u4,Uo.lineEnd=f4}function f4(){Uo.point=Uo.lineEnd=pt}function u4(t,e){t*=V,e*=V,Vl=t,vu=L(e),wu=$(e),Uo.point=s4}function s4(t,e){t*=V,e*=V;var n=L(e),r=$(e),o=Z(t-Vl),i=$(o),a=L(o),f=r*a,s=wu*n-vu*r*i,u=vu*n+wu*r*i;Xl.add(bt(ct(f*f+s*s),u)),Vl=t,vu=n,wu=r}function Mu(t){return Xl=new mt,$t(t,Uo),+Xl}var Wl=[null,null],c4={type:"LineString",coordinates:Wl};function zo(t,e){return Wl[0]=t,Wl[1]=e,Mu(c4)}var lx={Feature:function(t,e){return Su(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)if(Su(n[r].geometry,e))return!0;return!1}},hx={Sphere:function(){return!0},Point:function(t,e){return px(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(px(n[r],e))return!0;return!1},LineString:function(t,e){return dx(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(dx(n[r],e))return!0;return!1},Polygon:function(t,e){return mx(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(mx(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)if(Su(n[r],e))return!0;return!1}};function Su(t,e){return t&&hx.hasOwnProperty(t.type)?hx[t.type](t,e):!1}function px(t,e){return zo(t,e)===0}function dx(t,e){for(var n,r,o,i=0,a=t.length;i<a;i++){if(r=zo(t[i],e),r===0||i>0&&(o=zo(t[i],t[i-1]),o>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<Sn*o))return!0;n=r}return!1}function mx(t,e){return!!xu(t.map(l4),gx(e))}function l4(t){return t=t.map(gx),t.pop(),t}function gx(t){return[t[0]*V,t[1]*V]}function xx(t,e){return(t&&lx.hasOwnProperty(t.type)?lx[t.type]:Su)(t,e)}function bx(t,e,n){var r=ge(t,e-B,n).concat(e);return function(o){return r.map(function(i){return[o,i]})}}function yx(t,e,n){var r=ge(t,e-B,n).concat(e);return function(o){return r.map(function(i){return[i,o]})}}function Tu(){var t,e,n,r,o,i,a,f,s=10,u=s,c=90,h=360,l,p,m,g,d=2.5;function x(){return{type:"MultiLineString",coordinates:_()}}function _(){return ge(ea(r/c)*c,n,c).map(m).concat(ge(ea(f/h)*h,a,h).map(g)).concat(ge(ea(e/s)*s,t,s).filter(function(y){return Z(y%c)>B}).map(l)).concat(ge(ea(i/u)*u,o,u).filter(function(y){return Z(y%h)>B}).map(p))}return x.lines=function(){return _().map(function(y){return{type:"LineString",coordinates:y}})},x.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(a).slice(1),m(n).reverse().slice(1),g(f).reverse().slice(1))]}},x.extent=function(y){return arguments.length?x.extentMajor(y).extentMinor(y):x.extentMinor()},x.extentMajor=function(y){return arguments.length?(r=+y[0][0],n=+y[1][0],f=+y[0][1],a=+y[1][1],r>n&&(y=r,r=n,n=y),f>a&&(y=f,f=a,a=y),x.precision(d)):[[r,f],[n,a]]},x.extentMinor=function(y){return arguments.length?(e=+y[0][0],t=+y[1][0],i=+y[0][1],o=+y[1][1],e>t&&(y=e,e=t,t=y),i>o&&(y=i,i=o,o=y),x.precision(d)):[[e,i],[t,o]]},x.step=function(y){return arguments.length?x.stepMajor(y).stepMinor(y):x.stepMinor()},x.stepMajor=function(y){return arguments.length?(c=+y[0],h=+y[1],x):[c,h]},x.stepMinor=function(y){return arguments.length?(s=+y[0],u=+y[1],x):[s,u]},x.precision=function(y){return arguments.length?(d=+y,l=bx(i,o,90),p=yx(e,t,d),m=bx(f,a,90),g=yx(r,n,d),x):d},x.extentMajor([[-180,-90+B],[180,90-B]]).extentMinor([[-180,-80-B],[180,80+B]])}function _x(){return Tu()()}function vx(t,e){var n=t[0]*V,r=t[1]*V,o=e[0]*V,i=e[1]*V,a=$(r),f=L(r),s=$(i),u=L(i),c=a*$(n),h=a*L(n),l=s*$(o),p=s*L(o),m=2*yt(ct(Il(i-r)+a*s*Il(o-n))),g=L(m),d=m?function(x){var _=L(x*=m)/g,y=L(m-x)/g,b=y*c+_*l,v=y*h+_*p,w=y*f+_*u;return[bt(v,b)*it,bt(w,ct(b*b+v*v))*it]}:function(){return[n*it,r*it]};return d.distance=m,d}var Kn=t=>t;var Gl=new mt,Zl=new mt,wx,Mx,jl,Ql,Jn={point:pt,lineStart:pt,lineEnd:pt,polygonStart:function(){Jn.lineStart=h4,Jn.lineEnd=d4},polygonEnd:function(){Jn.lineStart=Jn.lineEnd=Jn.point=pt,Gl.add(Z(Zl)),Zl=new mt},result:function(){var t=Gl/2;return Gl=new mt,t}};function h4(){Jn.point=p4}function p4(t,e){Jn.point=Sx,wx=jl=t,Mx=Ql=e}function Sx(t,e){Zl.add(Ql*t-jl*e),jl=t,Ql=e}function d4(){Sx(wx,Mx)}var Kl=Jn;var Bo=1/0,Au=Bo,ha=-Bo,ku=ha,m4={point:g4,lineStart:pt,lineEnd:pt,polygonStart:pt,polygonEnd:pt,result:function(){var t=[[Bo,Au],[ha,ku]];return ha=ku=-(Au=Bo=1/0),t}};function g4(t,e){t<Bo&&(Bo=t),t>ha&&(ha=t),e<Au&&(Au=e),e>ku&&(ku=e)}var Ho=m4;var Jl=0,th=0,pa=0,Eu=0,Nu=0,Xo=0,eh=0,nh=0,da=0,kx,Ex,Je,tn,$e={point:Br,lineStart:Tx,lineEnd:Ax,polygonStart:function(){$e.lineStart=y4,$e.lineEnd=_4},polygonEnd:function(){$e.point=Br,$e.lineStart=Tx,$e.lineEnd=Ax},result:function(){var t=da?[eh/da,nh/da]:Xo?[Eu/Xo,Nu/Xo]:pa?[Jl/pa,th/pa]:[NaN,NaN];return Jl=th=pa=Eu=Nu=Xo=eh=nh=da=0,t}};function Br(t,e){Jl+=t,th+=e,++pa}function Tx(){$e.point=x4}function x4(t,e){$e.point=b4,Br(Je=t,tn=e)}function b4(t,e){var n=t-Je,r=e-tn,o=ct(n*n+r*r);Eu+=o*(Je+t)/2,Nu+=o*(tn+e)/2,Xo+=o,Br(Je=t,tn=e)}function Ax(){$e.point=Br}function y4(){$e.point=v4}function _4(){Nx(kx,Ex)}function v4(t,e){$e.point=Nx,Br(kx=Je=t,Ex=tn=e)}function Nx(t,e){var n=t-Je,r=e-tn,o=ct(n*n+r*r);Eu+=o*(Je+t)/2,Nu+=o*(tn+e)/2,Xo+=o,o=tn*t-Je*e,eh+=o*(Je+t),nh+=o*(tn+e),da+=o*3,Br(Je=t,tn=e)}var rh=$e;function Cu(t){this._context=t}Cu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ct);break}}},result:pt};var ih=new mt,oh,Cx,Rx,ma,ga,Ru={point:pt,lineStart:function(){Ru.point=w4},lineEnd:function(){oh&&Ix(Cx,Rx),Ru.point=pt},polygonStart:function(){oh=!0},polygonEnd:function(){oh=null},result:function(){var t=+ih;return ih=new mt,t}};function w4(t,e){Ru.point=Ix,Cx=ma=t,Rx=ga=e}function Ix(t,e){ma-=t,ga-=e,ih.add(ct(ma*ma+ga*ga)),ma=t,ga=e}var ah=Ru;var Px,Iu,qx,Dx,Vo=class{constructor(e){this._append=e==null?Ox:M4(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==qx||this._append!==Iu){let r=this._radius,o=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,qx=r,Iu=this._append,Dx=this._,this._=o}this._+=Dx;break}}}result(){let e=this._;return this._="",e.length?e:null}};function Ox(t){let e=1;this._+=t[0];for(let n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function M4(t){let e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Ox;if(e!==Px){let n=10**e;Px=e,Iu=function(o){let i=1;this._+=o[0];for(let a=o.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}return Iu}function Fx(t,e){let n=3,r=4.5,o,i;function a(f){return f&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),$t(f,o(i))),i.result()}return a.area=function(f){return $t(f,o(Kl)),Kl.result()},a.measure=function(f){return $t(f,o(ah)),ah.result()},a.bounds=function(f){return $t(f,o(Ho)),Ho.result()},a.centroid=function(f){return $t(f,o(rh)),rh.result()},a.projection=function(f){return arguments.length?(o=f==null?(t=null,Kn):(t=f).stream,a):t},a.context=function(f){return arguments.length?(i=f==null?(e=null,new Vo(n)):new Cu(e=f),typeof r!="function"&&i.pointRadius(r),a):e},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(i.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{let s=Math.floor(f);if(!(s>=0))throw new RangeError(`invalid digits: ${f}`);n=s}return e===null&&(i=new Vo(n)),a},a.projection(t).digits(n).context(e)}function Lx(t){return{stream:tr(t)}}function tr(t){return function(e){var n=new fh;for(var r in t)n[r]=t[r];return n.stream=e,n}}function fh(){}fh.prototype={constructor:fh,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function uh(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),$t(n,t.stream(Ho)),e(Ho.result()),r!=null&&t.clipExtent(r),t}function Hr(t,e,n){return uh(t,function(r){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(o/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),f=+e[0][0]+(o-a*(r[1][0]+r[0][0]))/2,s=+e[0][1]+(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,s])},n)}function Wo(t,e,n){return Hr(t,[[0,0],e],n)}function Go(t,e,n){return uh(t,function(r){var o=+e,i=o/(r[1][0]-r[0][0]),a=(o-i*(r[1][0]+r[0][0]))/2,f=-i*r[0][1];t.scale(150*i).translate([a,f])},n)}function Zo(t,e,n){return uh(t,function(r){var o=+e,i=o/(r[1][1]-r[0][1]),a=-i*r[0][0],f=(o-i*(r[1][1]+r[0][1]))/2;t.scale(150*i).translate([a,f])},n)}var $x=16,S4=$(30*V);function sh(t,e){return+e?A4(t,e):T4(t)}function T4(t){return tr({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function A4(t,e){function n(r,o,i,a,f,s,u,c,h,l,p,m,g,d){var x=u-r,_=c-o,y=x*x+_*_;if(y>4*e&&g--){var b=a+l,v=f+p,w=s+m,k=ct(b*b+v*v+w*w),C=yt(w/=k),N=Z(Z(w)-1)<B||Z(i-h)<B?(i+h)/2:bt(v,b),E=t(N,C),S=E[0],P=E[1],R=S-r,M=P-o,A=_*R-x*M;(A*A/y>e||Z((x*R+_*M)/y-.5)>.3||a*l+f*p+s*m<S4)&&(n(r,o,i,a,f,s,S,P,N,b/=k,v/=k,w,g,d),d.point(S,P),n(S,P,N,b,v,w,u,c,h,l,p,m,g,d))}}return function(r){var o,i,a,f,s,u,c,h,l,p,m,g,d={point:x,lineStart:_,lineEnd:b,polygonStart:function(){r.polygonStart(),d.lineStart=v},polygonEnd:function(){r.polygonEnd(),d.lineStart=_}};function x(C,N){C=t(C,N),r.point(C[0],C[1])}function _(){h=NaN,d.point=y,r.lineStart()}function y(C,N){var E=ve([C,N]),S=t(C,N);n(h,l,c,p,m,g,h=S[0],l=S[1],c=C,p=E[0],m=E[1],g=E[2],$x,r),r.point(h,l)}function b(){d.point=x,r.lineEnd()}function v(){_(),d.point=w,d.lineEnd=k}function w(C,N){y(o=C,N),i=h,a=l,f=p,s=m,u=g,d.point=y}function k(){n(h,l,c,p,m,g,i,a,o,f,s,u,$x,r),d.lineEnd=b,b()}return d}}var k4=tr({point:function(t,e){this.stream.point(t*V,e*V)}});function E4(t){return tr({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function N4(t,e,n,r,o){function i(a,f){return a*=r,f*=o,[e+t*a,n-t*f]}return i.invert=function(a,f){return[(a-e)/t*r,(n-f)/t*o]},i}function Yx(t,e,n,r,o,i){if(!i)return N4(t,e,n,r,o);var a=$(i),f=L(i),s=a*t,u=f*t,c=a/t,h=f/t,l=(f*n-a*e)/t,p=(f*e+a*n)/t;function m(g,d){return g*=r,d*=o,[s*g-u*d+e,n-u*g-s*d]}return m.invert=function(g,d){return[r*(c*g-h*d+l),o*(p-h*g-c*d)]},m}function Rt(t){return xa(function(){return t})()}function xa(t){var e,n=150,r=480,o=250,i=0,a=0,f=0,s=0,u=0,c,h=0,l=1,p=1,m=null,g=ca,d=null,x,_,y,b=Kn,v=.5,w,k,C,N,E;function S(A){return C(A[0]*V,A[1]*V)}function P(A){return A=C.invert(A[0],A[1]),A&&[A[0]*it,A[1]*it]}S.stream=function(A){return N&&E===A?N:N=k4(E4(c)(g(w(b(E=A)))))},S.preclip=function(A){return arguments.length?(g=A,m=void 0,M()):g},S.postclip=function(A){return arguments.length?(b=A,d=x=_=y=null,M()):b},S.clipAngle=function(A){return arguments.length?(g=+A?yu(m=A*V):(m=null,ca),M()):m*it},S.clipExtent=function(A){return arguments.length?(b=A==null?(d=x=_=y=null,Kn):En(d=+A[0][0],x=+A[0][1],_=+A[1][0],y=+A[1][1]),M()):d==null?null:[[d,x],[_,y]]},S.scale=function(A){return arguments.length?(n=+A,R()):n},S.translate=function(A){return arguments.length?(r=+A[0],o=+A[1],R()):[r,o]},S.center=function(A){return arguments.length?(i=A[0]%360*V,a=A[1]%360*V,R()):[i*it,a*it]},S.rotate=function(A){return arguments.length?(f=A[0]%360*V,s=A[1]%360*V,u=A.length>2?A[2]%360*V:0,R()):[f*it,s*it,u*it]},S.angle=function(A){return arguments.length?(h=A%360*V,R()):h*it},S.reflectX=function(A){return arguments.length?(l=A?-1:1,R()):l<0},S.reflectY=function(A){return arguments.length?(p=A?-1:1,R()):p<0},S.precision=function(A){return arguments.length?(w=sh(k,v=A*A),M()):ct(v)},S.fitExtent=function(A,T){return Hr(S,A,T)},S.fitSize=function(A,T){return Wo(S,A,T)},S.fitWidth=function(A,T){return Go(S,A,T)},S.fitHeight=function(A,T){return Zo(S,A,T)};function R(){var A=Yx(n,0,0,l,p,h).apply(null,e(i,a)),T=Yx(n,r-A[0],o-A[1],l,p,h);return c=sa(f,s,u),k=ua(e,T),C=ua(c,k),w=sh(k,v),M()}function M(){return N=E=null,S}return function(){return e=t.apply(this,arguments),S.invert=e.invert&&P,R()}}function jo(t){var e=0,n=tt/3,r=xa(t),o=r(e,n);return o.parallels=function(i){return arguments.length?r(e=i[0]*V,n=i[1]*V):[e*it,n*it]},o}function Ux(t){var e=$(t);function n(r,o){return[r*e,L(o)/e]}return n.invert=function(r,o){return[r/e,yt(o*e)]},n}function ch(t,e){var n=L(t),r=(n+L(e))/2;if(Z(r)<B)return Ux(t);var o=1+n*(2*r-n),i=ct(o)/r;function a(f,s){var u=ct(o-2*r*L(s))/r;return[u*L(f*=r),i-u*$(f)]}return a.invert=function(f,s){var u=i-s,c=bt(f,Z(u))*Qt(u);return u*r<0&&(c-=tt*Qt(f)*Qt(u)),[c/r,yt((o-(f*f+u*u)*r*r)/(2*r))]},a}function Xr(){return jo(ch).scale(155.424).center([0,33.6442])}function Pu(){return Xr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function C4(t){var e=t.length;return{point:function(n,r){for(var o=-1;++o<e;)t[o].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function zx(){var t,e,n=Pu(),r,o=Xr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,a=Xr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s,u={point:function(l,p){s=[l,p]}};function c(l){var p=l[0],m=l[1];return s=null,r.point(p,m),s||(i.point(p,m),s)||(f.point(p,m),s)}c.invert=function(l){var p=n.scale(),m=n.translate(),g=(l[0]-m[0])/p,d=(l[1]-m[1])/p;return(d>=.12&&d<.234&&g>=-.425&&g<-.214?o:d>=.166&&d<.234&&g>=-.214&&g<-.115?a:n).invert(l)},c.stream=function(l){return t&&e===l?t:t=C4([n.stream(e=l),o.stream(l),a.stream(l)])},c.precision=function(l){return arguments.length?(n.precision(l),o.precision(l),a.precision(l),h()):n.precision()},c.scale=function(l){return arguments.length?(n.scale(l),o.scale(l*.35),a.scale(l),c.translate(n.translate())):n.scale()},c.translate=function(l){if(!arguments.length)return n.translate();var p=n.scale(),m=+l[0],g=+l[1];return r=n.translate(l).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(u),i=o.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+B,g+.12*p+B],[m-.214*p-B,g+.234*p-B]]).stream(u),f=a.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+B,g+.166*p+B],[m-.115*p-B,g+.234*p-B]]).stream(u),h()},c.fitExtent=function(l,p){return Hr(c,l,p)},c.fitSize=function(l,p){return Wo(c,l,p)},c.fitWidth=function(l,p){return Go(c,l,p)},c.fitHeight=function(l,p){return Zo(c,l,p)};function h(){return t=e=null,c}return c.scale(1070)}function qu(t){return function(e,n){var r=$(e),o=$(n),i=t(r*o);return i===1/0?[2,0]:[i*o*L(e),i*L(n)]}}function en(t){return function(e,n){var r=ct(e*e+n*n),o=t(r),i=L(o),a=$(o);return[bt(e*i,r*a),yt(r&&n*i/r)]}}var Du=qu(function(t){return ct(2/(1+t))});Du.invert=en(function(t){return 2*yt(t/2)});function Bx(){return Rt(Du).scale(124.75).clipAngle(180-.001)}var Ou=qu(function(t){return(t=nu(t))&&t/L(t)});Ou.invert=en(function(t){return t});function Hx(){return Rt(Ou).scale(79.4188).clipAngle(180-.001)}function Vr(t,e){return[t,Lr(Lo((xt+e)/2))]}Vr.invert=function(t,e){return[t,2*_e(Jf(e))-xt]};function Xx(){return lh(Vr).scale(961/Ct)}function lh(t){var e=Rt(t),n=e.center,r=e.scale,o=e.translate,i=e.clipExtent,a=null,f,s,u;e.scale=function(h){return arguments.length?(r(h),c()):r()},e.translate=function(h){return arguments.length?(o(h),c()):o()},e.center=function(h){return arguments.length?(n(h),c()):n()},e.clipExtent=function(h){return arguments.length?(h==null?a=f=s=u=null:(a=+h[0][0],f=+h[0][1],s=+h[1][0],u=+h[1][1]),c()):a==null?null:[[a,f],[s,u]]};function c(){var h=tt*r(),l=e(pu(e.rotate()).invert([0,0]));return i(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===Vr?[[Math.max(l[0]-h,a),f],[Math.min(l[0]+h,s),u]]:[[a,Math.max(l[1]-h,f)],[s,Math.min(l[1]+h,u)]])}return c()}function Fu(t){return Lo((xt+t)/2)}function hh(t,e){var n=$(t),r=t===e?L(t):Lr(n/$(e))/Lr(Fu(e)/Fu(t)),o=n*eu(Fu(t),r)/r;if(!r)return Vr;function i(a,f){o>0?f<-xt+B&&(f=-xt+B):f>xt-B&&(f=xt-B);var s=o/eu(Fu(f),r);return[s*L(r*a),o-s*$(r*a)]}return i.invert=function(a,f){var s=o-f,u=Qt(r)*ct(a*a+s*s),c=bt(a,Z(s))*Qt(s);return s*r<0&&(c-=tt*Qt(a)*Qt(s)),[c/r,2*_e(eu(o/u,1/r))-xt]},i}function Vx(){return jo(hh).scale(109.5).parallels([30,30])}function Wr(t,e){return[t,e]}Wr.invert=Wr;function Wx(){return Rt(Wr).scale(152.63)}function ph(t,e){var n=$(t),r=t===e?L(t):(n-$(e))/(e-t),o=n/r+t;if(Z(r)<B)return Wr;function i(a,f){var s=o-f,u=r*a;return[s*L(u),o-s*$(u)]}return i.invert=function(a,f){var s=o-f,u=bt(a,Z(s))*Qt(s);return s*r<0&&(u-=tt*Qt(a)*Qt(s)),[u/r,o-Qt(r)*ct(a*a+s*s)]},i}function Gx(){return jo(ph).scale(131.154).center([0,13.9389])}var ba=1.340264,ya=-.081106,_a=893e-6,va=.003796,Lu=ct(3)/2,R4=12;function $u(t,e){var n=yt(Lu*L(e)),r=n*n,o=r*r*r;return[t*$(n)/(Lu*(ba+3*ya*r+o*(7*_a+9*va*r))),n*(ba+ya*r+o*(_a+va*r))]}$u.invert=function(t,e){for(var n=e,r=n*n,o=r*r*r,i=0,a,f,s;i<R4&&(f=n*(ba+ya*r+o*(_a+va*r))-e,s=ba+3*ya*r+o*(7*_a+9*va*r),n-=a=f/s,r=n*n,o=r*r*r,!(Z(a)<Sn));++i);return[Lu*t*(ba+3*ya*r+o*(7*_a+9*va*r))/$(n),yt(L(n)/Lu)]};function Zx(){return Rt($u).scale(177.158)}function Yu(t,e){var n=$(e),r=$(t)*n;return[n*L(t)/r,L(e)/r]}Yu.invert=en(_e);function jx(){return Rt(Yu).scale(144.049).clipAngle(60)}function Qx(){var t=1,e=0,n=0,r=1,o=1,i=0,a,f,s=null,u,c,h,l=1,p=1,m=tr({point:function(b,v){var w=y([b,v]);this.stream.point(w[0],w[1])}}),g=Kn,d,x;function _(){return l=t*r,p=t*o,d=x=null,y}function y(b){var v=b[0]*l,w=b[1]*p;if(i){var k=w*a-v*f;v=v*a+w*f,w=k}return[v+e,w+n]}return y.invert=function(b){var v=b[0]-e,w=b[1]-n;if(i){var k=w*a+v*f;v=v*a-w*f,w=k}return[v/l,w/p]},y.stream=function(b){return d&&x===b?d:d=m(g(x=b))},y.postclip=function(b){return arguments.length?(g=b,s=u=c=h=null,_()):g},y.clipExtent=function(b){return arguments.length?(g=b==null?(s=u=c=h=null,Kn):En(s=+b[0][0],u=+b[0][1],c=+b[1][0],h=+b[1][1]),_()):s==null?null:[[s,u],[c,h]]},y.scale=function(b){return arguments.length?(t=+b,_()):t},y.translate=function(b){return arguments.length?(e=+b[0],n=+b[1],_()):[e,n]},y.angle=function(b){return arguments.length?(i=b%360*V,f=L(i),a=$(i),_()):i*it},y.reflectX=function(b){return arguments.length?(r=b?-1:1,_()):r<0},y.reflectY=function(b){return arguments.length?(o=b?-1:1,_()):o<0},y.fitExtent=function(b,v){return Hr(y,b,v)},y.fitSize=function(b,v){return Wo(y,b,v)},y.fitWidth=function(b,v){return Go(y,b,v)},y.fitHeight=function(b,v){return Zo(y,b,v)},y}function Uu(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Uu.invert=function(t,e){var n=e,r=25,o;do{var i=n*n,a=i*i;n-=o=(n*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-e)/(1.007226+i*(.015085*3+a*(-.044475*7+.028874*9*i-.005916*11*a)))}while(Z(o)>B&&--r>0);return[t/(.8707+(i=n*n)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),n]};function Kx(){return Rt(Uu).scale(175.295)}function zu(t,e){return[$(e)*L(t),L(e)]}zu.invert=en(yt);function Jx(){return Rt(zu).scale(249.5).clipAngle(90+B)}function Bu(t,e){var n=$(e),r=1+$(t)*n;return[n*L(t)/r,L(e)/r]}Bu.invert=en(function(t){return 2*_e(t)});function t2(){return Rt(Bu).scale(250).clipAngle(142)}function Hu(t,e){return[Lr(Lo((xt+e)/2)),-t]}Hu.invert=function(t,e){return[-e,2*_e(Jf(t))-xt]};function e2(){var t=lh(Hu),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function I4(t,e){return t.parent===e.parent?1:2}function P4(t){return t.reduce(q4,0)/t.length}function q4(t,e){return t+e.x}function D4(t){return 1+t.reduce(O4,0)}function O4(t,e){return Math.max(t,e.y)}function F4(t){for(var e;e=t.children;)t=e[0];return t}function L4(t){for(var e;e=t.children;)t=e[e.length-1];return t}function n2(){var t=I4,e=1,n=1,r=!1;function o(i){var a,f=0;i.eachAfter(function(l){var p=l.children;p?(l.x=P4(p),l.y=D4(p)):(l.x=a?f+=t(l,a):0,l.y=0,a=l)});var s=F4(i),u=L4(i),c=s.x-t(s,u)/2,h=u.x+t(u,s)/2;return i.eachAfter(r?function(l){l.x=(l.x-i.x)*e,l.y=(i.y-l.y)*n}:function(l){l.x=(l.x-c)/(h-c)*e,l.y=(1-(i.y?l.y/i.y:1))*n})}return o.separation=function(i){return arguments.length?(t=i,o):t},o.size=function(i){return arguments.length?(r=!1,e=+i[0],n=+i[1],o):r?null:[e,n]},o.nodeSize=function(i){return arguments.length?(r=!0,e=+i[0],n=+i[1],o):r?[e,n]:null},o}function $4(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function r2(){return this.eachAfter($4)}function o2(t,e){let n=-1;for(let r of this)t.call(e,r,++n,this);return this}function i2(t,e){for(var n=this,r=[n],o,i,a=-1;n=r.pop();)if(t.call(e,n,++a,this),o=n.children)for(i=o.length-1;i>=0;--i)r.push(o[i]);return this}function a2(t,e){for(var n=this,r=[n],o=[],i,a,f,s=-1;n=r.pop();)if(o.push(n),i=n.children)for(a=0,f=i.length;a<f;++a)r.push(i[a]);for(;n=o.pop();)t.call(e,n,++s,this);return this}function f2(t,e){let n=-1;for(let r of this)if(t.call(e,r,++n,this))return r}function u2(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,o=r&&r.length;--o>=0;)n+=r[o].value;e.value=n})}function s2(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function c2(t){for(var e=this,n=Y4(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var o=r.length;t!==n;)r.splice(o,0,t),t=t.parent;return r}function Y4(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),o=null;for(t=n.pop(),e=r.pop();t===e;)o=t,t=n.pop(),e=r.pop();return o}function l2(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function h2(){return Array.from(this)}function p2(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function d2(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*m2(){var t=this,e,n=[t],r,o,i;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(o=0,i=r.length;o<i;++o)n.push(r[o]);while(n.length)}function wa(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=B4)):e===void 0&&(e=z4);for(var n=new nn(t),r,o=[n],i,a,f,s;r=o.pop();)if((a=e(r.data))&&(s=(a=Array.from(a)).length))for(r.children=a,f=s-1;f>=0;--f)o.push(i=a[f]=new nn(a[f])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(dh)}function U4(){return wa(this).eachBefore(H4)}function z4(t){return t.children}function B4(t){return Array.isArray(t)?t[1]:null}function H4(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function dh(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function nn(t){this.data=t,this.depth=this.height=0,this.parent=null}nn.prototype=wa.prototype={constructor:nn,count:r2,each:o2,eachAfter:a2,eachBefore:i2,find:f2,sum:u2,sort:s2,path:c2,ancestors:l2,descendants:h2,leaves:p2,links:d2,copy:U4,[Symbol.iterator]:m2};function Qo(t){return t==null?null:mh(t)}function mh(t){if(typeof t!="function")throw new Error;return t}function Nn(){return 0}function er(t){return function(){return t}}function Ko(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}function g2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x2(t,e){let n=t.length,r,o;for(;n;)o=e()*n--|0,r=t[n],t[n]=t[o],t[o]=r;return t}function b2(t){return xh(t,Ko())}function xh(t,e){for(var n=0,r=(t=x2(Array.from(t),e)).length,o=[],i,a;n<r;)i=t[n],a&&y2(a,i)?++n:(a=V4(o=X4(o,i)),n=0);return a}function X4(t,e){var n,r;if(gh(e,t))return[e];for(n=0;n<t.length;++n)if(Xu(e,t[n])&&gh(Ma(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Xu(Ma(t[n],t[r]),e)&&Xu(Ma(t[n],e),t[r])&&Xu(Ma(t[r],e),t[n])&&gh(_2(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Xu(t,e){var n=t.r-e.r,r=e.x-t.x,o=e.y-t.y;return n<0||n*n<r*r+o*o}function y2(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function gh(t,e){for(var n=0;n<e.length;++n)if(!y2(t,e[n]))return!1;return!0}function V4(t){switch(t.length){case 1:return W4(t[0]);case 2:return Ma(t[0],t[1]);case 3:return _2(t[0],t[1],t[2])}}function W4(t){return{x:t.x,y:t.y,r:t.r}}function Ma(t,e){var n=t.x,r=t.y,o=t.r,i=e.x,a=e.y,f=e.r,s=i-n,u=a-r,c=f-o,h=Math.sqrt(s*s+u*u);return{x:(n+i+s/h*c)/2,y:(r+a+u/h*c)/2,r:(h+o+f)/2}}function _2(t,e,n){var r=t.x,o=t.y,i=t.r,a=e.x,f=e.y,s=e.r,u=n.x,c=n.y,h=n.r,l=r-a,p=r-u,m=o-f,g=o-c,d=s-i,x=h-i,_=r*r+o*o-i*i,y=_-a*a-f*f+s*s,b=_-u*u-c*c+h*h,v=p*m-l*g,w=(m*b-g*y)/(v*2)-r,k=(g*d-m*x)/v,C=(p*y-l*b)/(v*2)-o,N=(l*x-p*d)/v,E=k*k+N*N-1,S=2*(i+w*k+C*N),P=w*w+C*C-i*i,R=-(Math.abs(E)>1e-6?(S+Math.sqrt(S*S-4*E*P))/(2*E):P/S);return{x:r+w+k*R,y:o+C+N*R,r:R}}function v2(t,e,n){var r=t.x-e.x,o,i,a=t.y-e.y,f,s,u=r*r+a*a;u?(i=e.r+n.r,i*=i,s=t.r+n.r,s*=s,i>s?(o=(u+s-i)/(2*u),f=Math.sqrt(Math.max(0,s/u-o*o)),n.x=t.x-o*r-f*a,n.y=t.y-o*a+f*r):(o=(u+i-s)/(2*u),f=Math.sqrt(Math.max(0,i/u-o*o)),n.x=e.x+o*r-f*a,n.y=e.y+o*a+f*r)):(n.x=e.x+n.r,n.y=e.y)}function w2(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function M2(t){var e=t._,n=t.next._,r=e.r+n.r,o=(e.x*n.r+n.x*e.r)/r,i=(e.y*n.r+n.y*e.r)/r;return o*o+i*i}function Vu(t){this._=t,this.next=null,this.previous=null}function bh(t,e){if(!(i=(t=g2(t)).length))return 0;var n,r,o,i,a,f,s,u,c,h,l;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(i>2))return n.r+r.r;v2(r,n,o=t[2]),n=new Vu(n),r=new Vu(r),o=new Vu(o),n.next=o.previous=r,r.next=n.previous=o,o.next=r.previous=n;t:for(s=3;s<i;++s){v2(n._,r._,o=t[s]),o=new Vu(o),u=r.next,c=n.previous,h=r._.r,l=n._.r;do if(h<=l){if(w2(u._,o._)){r=u,n.next=r,r.previous=n,--s;continue t}h+=u._.r,u=u.next}else{if(w2(c._,o._)){n=c,n.next=r,r.previous=n,--s;continue t}l+=c._.r,c=c.previous}while(u!==c.next);for(o.previous=n,o.next=r,n.next=r.previous=r=o,a=M2(n);(o=o.next)!==r;)(f=M2(o))<a&&(n=o,a=f);r=n.next}for(n=[r._],o=r;(o=o.next)!==r;)n.push(o._);for(o=xh(n,e),s=0;s<i;++s)n=t[s],n.x-=o.x,n.y-=o.y;return o.r}function S2(t){return bh(t,Ko()),t}function G4(t){return Math.sqrt(t.value)}function k2(){var t=null,e=1,n=1,r=Nn;function o(i){let a=Ko();return i.x=e/2,i.y=n/2,t?i.eachBefore(T2(t)).eachAfter(yh(r,.5,a)).eachBefore(A2(1)):i.eachBefore(T2(G4)).eachAfter(yh(Nn,1,a)).eachAfter(yh(r,i.r/Math.min(e,n),a)).eachBefore(A2(Math.min(e,n)/(2*i.r))),i}return o.radius=function(i){return arguments.length?(t=Qo(i),o):t},o.size=function(i){return arguments.length?(e=+i[0],n=+i[1],o):[e,n]},o.padding=function(i){return arguments.length?(r=typeof i=="function"?i:er(+i),o):r},o}function T2(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function yh(t,e,n){return function(r){if(o=r.children){var o,i,a=o.length,f=t(r)*e||0,s;if(f)for(i=0;i<a;++i)o[i].r+=f;if(s=bh(o,n),f)for(i=0;i<a;++i)o[i].r-=f;r.r=s+f}}}function A2(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Wu(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function rn(t,e,n,r,o){for(var i=t.children,a,f=-1,s=i.length,u=t.value&&(r-e)/t.value;++f<s;)a=i[f],a.y0=n,a.y1=o,a.x0=e,a.x1=e+=a.value*u}function E2(){var t=1,e=1,n=0,r=!1;function o(a){var f=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/f,a.eachBefore(i(e,f)),r&&a.eachBefore(Wu),a}function i(a,f){return function(s){s.children&&rn(s,s.x0,a*(s.depth+1)/f,s.x1,a*(s.depth+2)/f);var u=s.x0,c=s.y0,h=s.x1-n,l=s.y1-n;h<u&&(u=h=(u+h)/2),l<c&&(c=l=(c+l)/2),s.x0=u,s.y0=c,s.x1=h,s.y1=l}}return o.round=function(a){return arguments.length?(r=!!a,o):r},o.size=function(a){return arguments.length?(t=+a[0],e=+a[1],o):[t,e]},o.padding=function(a){return arguments.length?(n=+a,o):n},o}var Z4={depth:-1},N2={},_h={};function j4(t){return t.id}function Q4(t){return t.parentId}function R2(){var t=j4,e=Q4,n;function r(o){var i=Array.from(o),a=t,f=e,s,u,c,h,l,p,m,g,d=new Map;if(n!=null){let x=i.map((b,v)=>K4(n(b,v,o))),_=x.map(C2),y=new Set(x).add("");for(let b of _)y.has(b)||(y.add(b),x.push(b),_.push(C2(b)),i.push(_h));a=(b,v)=>x[v],f=(b,v)=>_[v]}for(c=0,s=i.length;c<s;++c)u=i[c],p=i[c]=new nn(u),(m=a(u,c,o))!=null&&(m+="")&&(g=p.id=m,d.set(g,d.has(g)?N2:p)),(m=f(u,c,o))!=null&&(m+="")&&(p.parent=m);for(c=0;c<s;++c)if(p=i[c],m=p.parent){if(l=d.get(m),!l)throw new Error("missing: "+m);if(l===N2)throw new Error("ambiguous: "+m);l.children?l.children.push(p):l.children=[p],p.parent=l}else{if(h)throw new Error("multiple roots");h=p}if(!h)throw new Error("no root");if(n!=null){for(;h.data===_h&&h.children.length===1;)h=h.children[0],--s;for(let x=i.length-1;x>=0&&(p=i[x],p.data===_h);--x)p.data=null}if(h.parent=Z4,h.eachBefore(function(x){x.depth=x.parent.depth+1,--s}).eachBefore(dh),h.parent=null,s>0)throw new Error("cycle");return h}return r.id=function(o){return arguments.length?(t=Qo(o),r):t},r.parentId=function(o){return arguments.length?(e=Qo(o),r):e},r.path=function(o){return arguments.length?(n=Qo(o),r):n},r}function K4(t){t=`${t}`;let e=t.length;return vh(t,e-1)&&!vh(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function C2(t){let e=t.length;if(e<2)return"";for(;--e>1&&!vh(t,e););return t.slice(0,e)}function vh(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if((n&1)===0)return!0}return!1}function J4(t,e){return t.parent===e.parent?1:2}function wh(t){var e=t.children;return e?e[0]:t.t}function Mh(t){var e=t.children;return e?e[e.length-1]:t.t}function t8(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function e8(t){for(var e=0,n=0,r=t.children,o=r.length,i;--o>=0;)i=r[o],i.z+=e,i.m+=e,e+=i.s+(n+=i.c)}function n8(t,e,n){return t.a.parent===e.parent?t.a:n}function Gu(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Gu.prototype=Object.create(nn.prototype);function r8(t){for(var e=new Gu(t,0),n,r=[e],o,i,a,f;n=r.pop();)if(i=n._.children)for(n.children=new Array(f=i.length),a=f-1;a>=0;--a)r.push(o=n.children[a]=new Gu(i[a],a)),o.parent=n;return(e.parent=new Gu(null,0)).children=[e],e}function I2(){var t=J4,e=1,n=1,r=null;function o(u){var c=r8(u);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(a),r)u.eachBefore(s);else{var h=u,l=u,p=u;u.eachBefore(function(_){_.x<h.x&&(h=_),_.x>l.x&&(l=_),_.depth>p.depth&&(p=_)});var m=h===l?1:t(h,l)/2,g=m-h.x,d=e/(l.x+m+g),x=n/(p.depth||1);u.eachBefore(function(_){_.x=(_.x+g)*d,_.y=_.depth*x})}return u}function i(u){var c=u.children,h=u.parent.children,l=u.i?h[u.i-1]:null;if(c){e8(u);var p=(c[0].z+c[c.length-1].z)/2;l?(u.z=l.z+t(u._,l._),u.m=u.z-p):u.z=p}else l&&(u.z=l.z+t(u._,l._));u.parent.A=f(u,l,u.parent.A||h[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function f(u,c,h){if(c){for(var l=u,p=u,m=c,g=l.parent.children[0],d=l.m,x=p.m,_=m.m,y=g.m,b;m=Mh(m),l=wh(l),m&&l;)g=wh(g),p=Mh(p),p.a=u,b=m.z+_-l.z-d+t(m._,l._),b>0&&(t8(n8(m,u,h),u,b),d+=b,x+=b),_+=m.m,d+=l.m,y+=g.m,x+=p.m;m&&!Mh(p)&&(p.t=m,p.m+=_-x),l&&!wh(g)&&(g.t=l,g.m+=d-y,h=u)}return h}function s(u){u.x*=e,u.y=u.depth*n}return o.separation=function(u){return arguments.length?(t=u,o):t},o.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],o):r?null:[e,n]},o.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],o):r?[e,n]:null},o}function nr(t,e,n,r,o){for(var i=t.children,a,f=-1,s=i.length,u=t.value&&(o-n)/t.value;++f<s;)a=i[f],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var Sh=(1+Math.sqrt(5))/2;function Th(t,e,n,r,o,i){for(var a=[],f=e.children,s,u,c=0,h=0,l=f.length,p,m,g=e.value,d,x,_,y,b,v,w;c<l;){p=o-n,m=i-r;do d=f[h++].value;while(!d&&h<l);for(x=_=d,v=Math.max(m/p,p/m)/(g*t),w=d*d*v,b=Math.max(_/w,w/x);h<l;++h){if(d+=u=f[h].value,u<x&&(x=u),u>_&&(_=u),w=d*d*v,y=Math.max(_/w,w/x),y>b){d-=u;break}b=y}a.push(s={value:d,dice:p<m,children:f.slice(c,h)}),s.dice?rn(s,n,r,o,g?r+=m*d/g:i):nr(s,n,r,g?n+=p*d/g:o,i),g-=d,c=h}return a}var Zu=(function t(e){function n(r,o,i,a,f){Th(e,r,o,i,a,f)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(Sh);function P2(){var t=Zu,e=!1,n=1,r=1,o=[0],i=Nn,a=Nn,f=Nn,s=Nn,u=Nn;function c(l){return l.x0=l.y0=0,l.x1=n,l.y1=r,l.eachBefore(h),o=[0],e&&l.eachBefore(Wu),l}function h(l){var p=o[l.depth],m=l.x0+p,g=l.y0+p,d=l.x1-p,x=l.y1-p;d<m&&(m=d=(m+d)/2),x<g&&(g=x=(g+x)/2),l.x0=m,l.y0=g,l.x1=d,l.y1=x,l.children&&(p=o[l.depth+1]=i(l)/2,m+=u(l)-p,g+=a(l)-p,d-=f(l)-p,x-=s(l)-p,d<m&&(m=d=(m+d)/2),x<g&&(g=x=(g+x)/2),t(l,m,g,d,x))}return c.round=function(l){return arguments.length?(e=!!l,c):e},c.size=function(l){return arguments.length?(n=+l[0],r=+l[1],c):[n,r]},c.tile=function(l){return arguments.length?(t=mh(l),c):t},c.padding=function(l){return arguments.length?c.paddingInner(l).paddingOuter(l):c.paddingInner()},c.paddingInner=function(l){return arguments.length?(i=typeof l=="function"?l:er(+l),c):i},c.paddingOuter=function(l){return arguments.length?c.paddingTop(l).paddingRight(l).paddingBottom(l).paddingLeft(l):c.paddingTop()},c.paddingTop=function(l){return arguments.length?(a=typeof l=="function"?l:er(+l),c):a},c.paddingRight=function(l){return arguments.length?(f=typeof l=="function"?l:er(+l),c):f},c.paddingBottom=function(l){return arguments.length?(s=typeof l=="function"?l:er(+l),c):s},c.paddingLeft=function(l){return arguments.length?(u=typeof l=="function"?l:er(+l),c):u},c}function q2(t,e,n,r,o){var i=t.children,a,f=i.length,s,u=new Array(f+1);for(u[0]=s=a=0;a<f;++a)u[a+1]=s+=i[a].value;c(0,f,t.value,e,n,r,o);function c(h,l,p,m,g,d,x){if(h>=l-1){var _=i[h];_.x0=m,_.y0=g,_.x1=d,_.y1=x;return}for(var y=u[h],b=p/2+y,v=h+1,w=l-1;v<w;){var k=v+w>>>1;u[k]<b?v=k+1:w=k}b-u[v-1]<u[v]-b&&h+1<v&&--v;var C=u[v]-y,N=p-C;if(d-m>x-g){var E=p?(m*N+d*C)/p:d;c(h,v,C,m,g,E,x),c(v,l,N,E,g,d,x)}else{var S=p?(g*N+x*C)/p:x;c(h,v,C,m,g,d,S),c(v,l,N,m,S,d,x)}}}function D2(t,e,n,r,o){(t.depth&1?nr:rn)(t,e,n,r,o)}var O2=(function t(e){function n(r,o,i,a,f){if((s=r._squarify)&&s.ratio===e)for(var s,u,c,h,l=-1,p,m=s.length,g=r.value;++l<m;){for(u=s[l],c=u.children,h=u.value=0,p=c.length;h<p;++h)u.value+=c[h].value;u.dice?rn(u,o,i,a,g?i+=(f-i)*u.value/g:f):nr(u,o,i,g?o+=(a-o)*u.value/g:a,f),g-=u.value}else r._squarify=s=Th(e,r,o,i,a,f),s.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(Sh);function F2(t){for(var e=-1,n=t.length,r,o=t[n-1],i=0;++e<n;)r=o,o=t[e],i+=r[1]*o[0]-r[0]*o[1];return i/2}function L2(t){for(var e=-1,n=t.length,r=0,o=0,i,a=t[n-1],f,s=0;++e<n;)i=a,a=t[e],s+=f=i[0]*a[1]-a[0]*i[1],r+=(i[0]+a[0])*f,o+=(i[1]+a[1])*f;return s*=3,[r/s,o/s]}function $2(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function o8(t,e){return t[0]-e[0]||t[1]-e[1]}function Y2(t){let e=t.length,n=[0,1],r=2,o;for(o=2;o<e;++o){for(;r>1&&$2(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function U2(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),o=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(o8),e=0;e<n;++e)o[e]=[r[e][0],-r[e][1]];var i=Y2(r),a=Y2(o),f=a[0]===i[0],s=a[a.length-1]===i[i.length-1],u=[];for(e=i.length-1;e>=0;--e)u.push(t[r[i[e]][2]]);for(e=+f;e<a.length-s;++e)u.push(t[r[a[e]][2]]);return u}function z2(t,e){for(var n=t.length,r=t[n-1],o=e[0],i=e[1],a=r[0],f=r[1],s,u,c=!1,h=0;h<n;++h)r=t[h],s=r[0],u=r[1],u>i!=f>i&&o<(a-s)*(i-u)/(f-u)+s&&(c=!c),a=s,f=u;return c}function B2(t){for(var e=-1,n=t.length,r=t[n-1],o,i,a=r[0],f=r[1],s=0;++e<n;)o=a,i=f,r=t[e],a=r[0],f=r[1],o-=a,i-=f,s+=Math.hypot(o,i);return s}var ut=Math.random;var H2=(function t(e){function n(r,o){return r=r==null?0:+r,o=o==null?1:+o,arguments.length===1?(o=r,r=0):o-=r,function(){return e()*o+r}}return n.source=t,n})(ut);var X2=(function t(e){function n(r,o){return arguments.length<2&&(o=r,r=0),r=Math.floor(r),o=Math.floor(o)-r,function(){return Math.floor(e()*o+r)}}return n.source=t,n})(ut);var Jo=(function t(e){function n(r,o){var i,a;return r=r==null?0:+r,o=o==null?1:+o,function(){var f;if(i!=null)f=i,i=null;else do i=e()*2-1,f=e()*2-1,a=i*i+f*f;while(!a||a>1);return r+o*f*Math.sqrt(-2*Math.log(a)/a)}}return n.source=t,n})(ut);var V2=(function t(e){var n=Jo.source(e);function r(){var o=n.apply(this,arguments);return function(){return Math.exp(o())}}return r.source=t,r})(ut);var ju=(function t(e){function n(r){return(r=+r)<=0?()=>0:function(){for(var o=0,i=r;i>1;--i)o+=e();return o+i*e()}}return n.source=t,n})(ut);var W2=(function t(e){var n=ju.source(e);function r(o){if((o=+o)==0)return e;var i=n(o);return function(){return i()/o}}return r.source=t,r})(ut);var G2=(function t(e){function n(r){return function(){return-Math.log1p(-e())/r}}return n.source=t,n})(ut);var Z2=(function t(e){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-e(),r)}}return n.source=t,n})(ut);var j2=(function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+r)}}return n.source=t,n})(ut);var Qu=(function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-e())/r)})}return n.source=t,n})(ut);var ti=(function t(e){var n=Jo.source(e)();function r(o,i){if((o=+o)<0)throw new RangeError("invalid k");if(o===0)return()=>0;if(i=i==null?1:+i,o===1)return()=>-Math.log1p(-e())*i;var a=(o<1?o+1:o)-1/3,f=1/(3*Math.sqrt(a)),s=o<1?()=>Math.pow(e(),1/o):()=>1;return function(){do{do var u=n(),c=1+f*u;while(c<=0);c*=c*c;var h=1-e()}while(h>=1-.0331*u*u*u*u&&Math.log(h)>=.5*u*u+a*(1-c+Math.log(c)));return a*c*s()*i}}return r.source=t,r})(ut);var Ku=(function t(e){var n=ti.source(e);function r(o,i){var a=n(o),f=n(i);return function(){var s=a();return s===0?0:s/(s+f())}}return r.source=t,r})(ut);var Ju=(function t(e){var n=Qu.source(e),r=Ku.source(e);function o(i,a){return i=+i,(a=+a)>=1?()=>i:a<=0?()=>0:function(){for(var f=0,s=i,u=a;s*u>16&&s*(1-u)>16;){var c=Math.floor((s+1)*u),h=r(c,s-c+1)();h<=u?(f+=c,s-=c,u=(u-h)/(1-h)):(s=c-1,u/=h)}for(var l=u<.5,p=l?u:1-u,m=n(p),g=m(),d=0;g<=s;++d)g+=m();return f+(l?d:s-d)}}return o.source=t,o})(ut);var Q2=(function t(e){function n(r,o,i){var a;return(r=+r)==0?a=f=>-Math.log(f):(r=1/r,a=f=>Math.pow(f,r)),o=o==null?0:+o,i=i==null?1:+i,function(){return o+i*a(-Math.log1p(-e()))}}return n.source=t,n})(ut);var K2=(function t(e){function n(r,o){return r=r==null?0:+r,o=o==null?1:+o,function(){return r+o*Math.tan(Math.PI*e())}}return n.source=t,n})(ut);var J2=(function t(e){function n(r,o){return r=r==null?0:+r,o=o==null?1:+o,function(){var i=e();return r+o*Math.log(i/(1-i))}}return n.source=t,n})(ut);var tb=(function t(e){var n=ti.source(e),r=Ju.source(e);function o(i){return function(){for(var a=0,f=i;f>16;){var s=Math.floor(.875*f),u=n(s)();if(u>f)return a+r(s-1,f/u)();a+=s,f-=u}for(var c=-Math.log1p(-e()),h=0;c<=f;++h)c-=Math.log1p(-e());return a+h}}return o.source=t,o})(ut);var eb=23283064365386963e-26;function Ah(t=Math.random()){let e=(0<=t&&t<1?t/eb:Math.abs(t))|0;return()=>(e=1664525*e+1013904223|0,eb*(e>>>0))}function At(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function we(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}var ts=Symbol("implicit");function ei(){var t=new Ce,e=[],n=[],r=ts;function o(i){let a=t.get(i);if(a===void 0){if(r!==ts)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return o.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Ce;for(let a of i)t.has(a)||t.set(a,e.push(a)-1);return o},o.range=function(i){return arguments.length?(n=Array.from(i),o):n.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return ei(e,n).unknown(r)},At.apply(o,arguments),o}function Sa(){var t=ei().unknown(void 0),e=t.domain,n=t.range,r=0,o=1,i,a,f=!1,s=0,u=0,c=.5;delete t.unknown;function h(){var l=e().length,p=o<r,m=p?o:r,g=p?r:o;i=(g-m)/Math.max(1,l-s+u*2),f&&(i=Math.floor(i)),m+=(g-m-i*(l-s))*c,a=i*(1-s),f&&(m=Math.round(m),a=Math.round(a));var d=ge(l).map(function(x){return m+i*x});return n(p?d.reverse():d)}return t.domain=function(l){return arguments.length?(e(l),h()):e()},t.range=function(l){return arguments.length?([r,o]=l,r=+r,o=+o,h()):[r,o]},t.rangeRound=function(l){return[r,o]=l,r=+r,o=+o,f=!0,h()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(l){return arguments.length?(f=!!l,h()):f},t.padding=function(l){return arguments.length?(s=Math.min(1,u=+l),h()):s},t.paddingInner=function(l){return arguments.length?(s=Math.min(1,l),h()):s},t.paddingOuter=function(l){return arguments.length?(u=+l,h()):u},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),h()):c},t.copy=function(){return Sa(e(),[r,o]).round(f).paddingInner(s).paddingOuter(u).align(c)},At.apply(h(),arguments)}function nb(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nb(e())},t}function rb(){return nb(Sa.apply(null,arguments).paddingInner(1))}function kh(t){return function(){return t}}function rr(t){return+t}var ob=[0,1];function Dt(t){return t}function Eh(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:kh(isNaN(e)?NaN:.5)}function i8(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function a8(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=Eh(o,r),i=n(a,i)):(r=Eh(r,o),i=n(i,a)),function(f){return i(r(f))}}function f8(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Eh(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(f){var s=ie(t,f,1,r)-1;return i[s](o[s](f))}}function on(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gr(){var t=ob,e=ob,n=Gt,r,o,i,a=Dt,f,s,u;function c(){var l=Math.min(t.length,e.length);return a!==Dt&&(a=i8(t[0],t[l-1])),f=l>2?f8:a8,s=u=null,h}function h(l){return l==null||isNaN(l=+l)?i:(s||(s=f(t.map(r),e,n)))(r(a(l)))}return h.invert=function(l){return a(o((u||(u=f(e,t.map(r),Ft)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,rr),c()):t.slice()},h.range=function(l){return arguments.length?(e=Array.from(l),c()):e.slice()},h.rangeRound=function(l){return e=Array.from(l),n=Hn,c()},h.clamp=function(l){return arguments.length?(a=l?!0:Dt,c()):a!==Dt},h.interpolate=function(l){return arguments.length?(n=l,c()):n},h.unknown=function(l){return arguments.length?(i=l,h):i},function(l,p){return r=l,o=p,c()}}function Zr(){return Gr()(Dt,Dt)}function Ta(t,e,n,r){var o=cr(t,e,n),i;switch(r=Oe(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=Qf(o,a))&&(r.precision=i),ta(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Kf(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=jf(o))&&(r.precision=i-(r.type==="%")*2);break}}return Fr(r)}function oe(t){var e=t.domain;return t.ticks=function(n){var r=e();return fe(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var o=e();return Ta(o[0],o[o.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),o=0,i=r.length-1,a=r[o],f=r[i],s,u,c=10;for(f<a&&(u=a,a=f,f=u,u=o,o=i,i=u);c-- >0;){if(u=Re(a,f,n),u===s)return r[o]=a,r[i]=f,e(r);if(u>0)a=Math.floor(a/u)*u,f=Math.ceil(f/u)*u;else if(u<0)a=Math.ceil(a*u)/u,f=Math.floor(f*u)/u;else break;s=u}return t},t}function es(){var t=Zr();return t.copy=function(){return on(t,es())},At.apply(t,arguments),oe(t)}function ns(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,rr),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ns(t).unknown(e)},t=arguments.length?Array.from(t,rr):[0,1],oe(n)}function Aa(t,e){t=t.slice();var n=0,r=t.length-1,o=t[n],i=t[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),t[n]=e.floor(o),t[r]=e.ceil(i),t}function ib(t){return Math.log(t)}function ab(t){return Math.exp(t)}function u8(t){return-Math.log(-t)}function s8(t){return-Math.exp(-t)}function c8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function l8(t){return t===10?c8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function h8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fb(t){return(e,n)=>-t(-e,n)}function ka(t){let e=t(ib,ab),n=e.domain,r=10,o,i;function a(){return o=h8(r),i=l8(r),n()[0]<0?(o=fb(o),i=fb(i),t(u8,s8)):t(ib,ab),e}return e.base=function(f){return arguments.length?(r=+f,a()):r},e.domain=function(f){return arguments.length?(n(f),a()):n()},e.ticks=f=>{let s=n(),u=s[0],c=s[s.length-1],h=c<u;h&&([u,c]=[c,u]);let l=o(u),p=o(c),m,g,d=f==null?10:+f,x=[];if(!(r%1)&&p-l<d){if(l=Math.floor(l),p=Math.ceil(p),u>0){for(;l<=p;++l)for(m=1;m<r;++m)if(g=l<0?m/i(-l):m*i(l),!(g<u)){if(g>c)break;x.push(g)}}else for(;l<=p;++l)for(m=r-1;m>=1;--m)if(g=l>0?m/i(-l):m*i(l),!(g<u)){if(g>c)break;x.push(g)}x.length*2<d&&(x=fe(u,c,d))}else x=fe(l,p,Math.min(p-l,d)).map(i);return h?x.reverse():x},e.tickFormat=(f,s)=>{if(f==null&&(f=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Oe(s)).precision==null&&(s.trim=!0),s=Fr(s)),f===1/0)return s;let u=Math.max(1,r*f/e.ticks().length);return c=>{let h=c/i(Math.round(o(c)));return h*r<r-.5&&(h*=r),h<=u?s(c):""}},e.nice=()=>n(Aa(n(),{floor:f=>i(Math.floor(o(f))),ceil:f=>i(Math.ceil(o(f)))})),e}function rs(){let t=ka(Gr()).domain([1,10]);return t.copy=()=>on(t,rs()).base(t.base()),At.apply(t,arguments),t}function ub(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sb(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ea(t){var e=1,n=t(ub(e),sb(e));return n.constant=function(r){return arguments.length?t(ub(e=+r),sb(e)):e},oe(n)}function os(){var t=Ea(Gr());return t.copy=function(){return on(t,os()).constant(t.constant())},At.apply(t,arguments)}function cb(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function p8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function d8(t){return t<0?-t*t:t*t}function Na(t){var e=t(Dt,Dt),n=1;function r(){return n===1?t(Dt,Dt):n===.5?t(p8,d8):t(cb(n),cb(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,r()):n},oe(e)}function Ca(){var t=Na(Gr());return t.copy=function(){return on(t,Ca()).exponent(t.exponent())},At.apply(t,arguments),t}function lb(){return Ca.apply(null,arguments).exponent(.5)}function hb(t){return Math.sign(t)*t*t}function m8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function is(){var t=Zr(),e=[0,1],n=!1,r;function o(i){var a=m8(t(i));return isNaN(a)?r:n?Math.round(a):a}return o.invert=function(i){return t.invert(hb(i))},o.domain=function(i){return arguments.length?(t.domain(i),o):t.domain()},o.range=function(i){return arguments.length?(t.range((e=Array.from(i,rr)).map(hb)),o):e.slice()},o.rangeRound=function(i){return o.range(i).round(!0)},o.round=function(i){return arguments.length?(n=!!i,o):n},o.clamp=function(i){return arguments.length?(t.clamp(i),o):t.clamp()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return is(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},At.apply(o,arguments),oe(o)}function as(){var t=[],e=[],n=[],r;function o(){var a=0,f=Math.max(1,e.length);for(n=new Array(f-1);++a<f;)n[a-1]=ja(t,a/f);return i}function i(a){return a==null||isNaN(a=+a)?r:e[ie(n,a)]}return i.invertExtent=function(a){var f=e.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(ot),o()},i.range=function(a){return arguments.length?(e=Array.from(a),o()):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return as().domain(t).range(e).unknown(r)},At.apply(i,arguments)}function fs(){var t=0,e=1,n=1,r=[.5],o=[0,1],i;function a(s){return s!=null&&s<=s?o[ie(r,s,0,n)]:i}function f(){var s=-1;for(r=new Array(n);++s<n;)r[s]=((s+1)*e-(s-n)*t)/(n+1);return a}return a.domain=function(s){return arguments.length?([t,e]=s,t=+t,e=+e,f()):[t,e]},a.range=function(s){return arguments.length?(n=(o=Array.from(s)).length-1,f()):o.slice()},a.invertExtent=function(s){var u=o.indexOf(s);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(s){return arguments.length&&(i=s),a},a.thresholds=function(){return r.slice()},a.copy=function(){return fs().domain([t,e]).range(o).unknown(i)},At.apply(oe(a),arguments)}function us(){var t=[.5],e=[0,1],n,r=1;function o(i){return i!=null&&i<=i?e[ie(t,i,0,r)]:n}return o.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return us().domain(t).range(e).unknown(n)},At.apply(o,arguments)}var Nh=new Date,Ch=new Date;function gt(t,e,n,r){function o(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(t(i=new Date(+i)),i),o.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),o.round=i=>{let a=o(i),f=o.ceil(i);return i-a<f-i?a:f},o.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,f)=>{let s=[];if(i=o.ceil(i),f=f==null?1:Math.floor(f),!(i<a)||!(f>0))return s;let u;do s.push(u=new Date(+i)),e(i,f),t(i);while(u<i&&i<a);return s},o.filter=i=>gt(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;e(a,-1),!i(a););else for(;--f>=0;)for(;e(a,1),!i(a););}),n&&(o.count=(i,a)=>(Nh.setTime(+i),Ch.setTime(+a),t(Nh),t(Ch),Math.floor(n(Nh,Ch))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}var or=gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);or.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):or);var Rh=or.range;var de=gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),Ih=de.range;var Qr=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),pb=Qr.range,Kr=gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),db=Kr.range;var to=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),mb=to.range,eo=gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),gb=eo.range;var fn=gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),xb=fn.range,ir=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),bb=ir.range,Ia=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),yb=Ia.range;function no(t){return gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var un=no(0),ro=no(1),Ph=no(2),qh=no(3),Cn=no(4),Dh=no(5),Oh=no(6),Fh=un.range,vb=ro.range,wb=Ph.range,Mb=qh.range,Sb=Cn.range,Tb=Dh.range,Ab=Oh.range;function oo(t){return gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/6048e5)}var sn=oo(0),io=oo(1),Lh=oo(2),$h=oo(3),Rn=oo(4),Yh=oo(5),Uh=oo(6),zh=sn.range,kb=io.range,Eb=Lh.range,Nb=$h.range,Cb=Rn.range,Rb=Yh.range,Ib=Uh.range;var ao=gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),Pb=ao.range,fo=gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),qb=fo.range;var ce=gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ce.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});var Db=ce.range,le=gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());le.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});var Ob=le.range;function Lb(t,e,n,r,o,i){let a=[[de,1,1e3],[de,5,5*1e3],[de,15,15*1e3],[de,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function f(u,c,h){let l=c<u;l&&([u,c]=[c,u]);let p=h&&typeof h.range=="function"?h:s(u,c,h),m=p?p.range(u,+c+1):[];return l?m.reverse():m}function s(u,c,h){let l=Math.abs(c-u)/h,p=Pn(([,,d])=>d).right(a,l);if(p===a.length)return t.every(cr(u/31536e6,c/31536e6,h));if(p===0)return or.every(Math.max(cr(u,c,h),1));let[m,g]=a[l/a[p-1][2]<a[p][2]/l?p-1:p];return m.every(g)}return[f,s]}var[ss,cs]=Lb(le,fo,sn,Ia,eo,Kr),[ls,hs]=Lb(ce,ao,un,fn,to,Qr);function Bh(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hh(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pa(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Oa(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,f=t.months,s=t.shortMonths,u=qa(o),c=Da(o),h=qa(i),l=Da(i),p=qa(a),m=Da(a),g=qa(f),d=Da(f),x=qa(s),_=Da(s),y={a:I,A:O,b:q,B:U,c:null,d:Hb,e:Hb,f:$8,g:Z8,G:Q8,H:O8,I:F8,j:L8,L:Zb,m:Y8,M:U8,p:H,q:W,Q:Wb,s:Gb,S:z8,u:B8,U:H8,V:X8,w:V8,W:W8,x:null,X:null,y:G8,Y:j8,Z:K8,"%":Vb},b={a:lt,A:rt,b:nt,B:ht,c:null,d:Xb,e:Xb,f:n5,g:h5,G:d5,H:J8,I:t5,j:e5,L:Qb,m:r5,M:o5,p:at,q:vt,Q:Wb,s:Gb,S:i5,u:a5,U:f5,V:u5,w:s5,W:c5,x:null,X:null,y:l5,Y:p5,Z:m5,"%":Vb},v={a:E,A:S,b:P,B:R,c:M,d:zb,e:zb,f:I8,g:Ub,G:Yb,H:Bb,I:Bb,j:E8,L:R8,m:k8,M:N8,p:N,q:A8,Q:q8,s:D8,S:C8,u:v8,U:w8,V:M8,w:_8,W:S8,x:A,X:T,y:Ub,Y:Yb,Z:T8,"%":P8};y.x=w(n,y),y.X=w(r,y),y.c=w(e,y),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b);function w(z,X){return function(K){var F=[],_t=-1,st=0,zt=z.length,Bt,j,wt;for(K instanceof Date||(K=new Date(+K));++_t<zt;)z.charCodeAt(_t)===37&&(F.push(z.slice(st,_t)),(j=$b[Bt=z.charAt(++_t)])!=null?Bt=z.charAt(++_t):j=Bt==="e"?" ":"0",(wt=X[Bt])&&(Bt=wt(K,j)),F.push(Bt),st=_t+1);return F.push(z.slice(st,_t)),F.join("")}}function k(z,X){return function(K){var F=Pa(1900,void 0,1),_t=C(F,z,K+="",0),st,zt;if(_t!=K.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(X&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(st=Hh(Pa(F.y,0,1)),zt=st.getUTCDay(),st=zt>4||zt===0?io.ceil(st):io(st),st=ir.offset(st,(F.V-1)*7),F.y=st.getUTCFullYear(),F.m=st.getUTCMonth(),F.d=st.getUTCDate()+(F.w+6)%7):(st=Bh(Pa(F.y,0,1)),zt=st.getDay(),st=zt>4||zt===0?ro.ceil(st):ro(st),st=fn.offset(st,(F.V-1)*7),F.y=st.getFullYear(),F.m=st.getMonth(),F.d=st.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),zt="Z"in F?Hh(Pa(F.y,0,1)).getUTCDay():Bh(Pa(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(zt+5)%7:F.w+F.U*7-(zt+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Hh(F)):Bh(F)}}function C(z,X,K,F){for(var _t=0,st=X.length,zt=K.length,Bt,j;_t<st;){if(F>=zt)return-1;if(Bt=X.charCodeAt(_t++),Bt===37){if(Bt=X.charAt(_t++),j=v[Bt in $b?X.charAt(_t++):Bt],!j||(F=j(z,K,F))<0)return-1}else if(Bt!=K.charCodeAt(F++))return-1}return F}function N(z,X,K){var F=u.exec(X.slice(K));return F?(z.p=c.get(F[0].toLowerCase()),K+F[0].length):-1}function E(z,X,K){var F=p.exec(X.slice(K));return F?(z.w=m.get(F[0].toLowerCase()),K+F[0].length):-1}function S(z,X,K){var F=h.exec(X.slice(K));return F?(z.w=l.get(F[0].toLowerCase()),K+F[0].length):-1}function P(z,X,K){var F=x.exec(X.slice(K));return F?(z.m=_.get(F[0].toLowerCase()),K+F[0].length):-1}function R(z,X,K){var F=g.exec(X.slice(K));return F?(z.m=d.get(F[0].toLowerCase()),K+F[0].length):-1}function M(z,X,K){return C(z,e,X,K)}function A(z,X,K){return C(z,n,X,K)}function T(z,X,K){return C(z,r,X,K)}function I(z){return a[z.getDay()]}function O(z){return i[z.getDay()]}function q(z){return s[z.getMonth()]}function U(z){return f[z.getMonth()]}function H(z){return o[+(z.getHours()>=12)]}function W(z){return 1+~~(z.getMonth()/3)}function lt(z){return a[z.getUTCDay()]}function rt(z){return i[z.getUTCDay()]}function nt(z){return s[z.getUTCMonth()]}function ht(z){return f[z.getUTCMonth()]}function at(z){return o[+(z.getUTCHours()>=12)]}function vt(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var X=w(z+="",y);return X.toString=function(){return z},X},parse:function(z){var X=k(z+="",!1);return X.toString=function(){return z},X},utcFormat:function(z){var X=w(z+="",b);return X.toString=function(){return z},X},utcParse:function(z){var X=k(z+="",!0);return X.toString=function(){return z},X}}}var $b={"-":"",_:" ",0:"0"},Yt=/^\s*\d+/,x8=/^%/,b8=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function y8(t){return t.replace(b8,"\\$&")}function qa(t){return new RegExp("^(?:"+t.map(y8).join("|")+")","i")}function Da(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _8(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function v8(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function w8(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function M8(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function S8(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Yb(t,e,n){var r=Yt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ub(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function T8(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A8(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function k8(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function zb(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function E8(t,e,n){var r=Yt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Bb(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function N8(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function C8(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function R8(t,e,n){var r=Yt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function I8(t,e,n){var r=Yt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function P8(t,e,n){var r=x8.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function q8(t,e,n){var r=Yt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function D8(t,e,n){var r=Yt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Hb(t,e){return dt(t.getDate(),e,2)}function O8(t,e){return dt(t.getHours(),e,2)}function F8(t,e){return dt(t.getHours()%12||12,e,2)}function L8(t,e){return dt(1+fn.count(ce(t),t),e,3)}function Zb(t,e){return dt(t.getMilliseconds(),e,3)}function $8(t,e){return Zb(t,e)+"000"}function Y8(t,e){return dt(t.getMonth()+1,e,2)}function U8(t,e){return dt(t.getMinutes(),e,2)}function z8(t,e){return dt(t.getSeconds(),e,2)}function B8(t){var e=t.getDay();return e===0?7:e}function H8(t,e){return dt(un.count(ce(t)-1,t),e,2)}function jb(t){var e=t.getDay();return e>=4||e===0?Cn(t):Cn.ceil(t)}function X8(t,e){return t=jb(t),dt(Cn.count(ce(t),t)+(ce(t).getDay()===4),e,2)}function V8(t){return t.getDay()}function W8(t,e){return dt(ro.count(ce(t)-1,t),e,2)}function G8(t,e){return dt(t.getFullYear()%100,e,2)}function Z8(t,e){return t=jb(t),dt(t.getFullYear()%100,e,2)}function j8(t,e){return dt(t.getFullYear()%1e4,e,4)}function Q8(t,e){var n=t.getDay();return t=n>=4||n===0?Cn(t):Cn.ceil(t),dt(t.getFullYear()%1e4,e,4)}function K8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function Xb(t,e){return dt(t.getUTCDate(),e,2)}function J8(t,e){return dt(t.getUTCHours(),e,2)}function t5(t,e){return dt(t.getUTCHours()%12||12,e,2)}function e5(t,e){return dt(1+ir.count(le(t),t),e,3)}function Qb(t,e){return dt(t.getUTCMilliseconds(),e,3)}function n5(t,e){return Qb(t,e)+"000"}function r5(t,e){return dt(t.getUTCMonth()+1,e,2)}function o5(t,e){return dt(t.getUTCMinutes(),e,2)}function i5(t,e){return dt(t.getUTCSeconds(),e,2)}function a5(t){var e=t.getUTCDay();return e===0?7:e}function f5(t,e){return dt(sn.count(le(t)-1,t),e,2)}function Kb(t){var e=t.getUTCDay();return e>=4||e===0?Rn(t):Rn.ceil(t)}function u5(t,e){return t=Kb(t),dt(Rn.count(le(t),t)+(le(t).getUTCDay()===4),e,2)}function s5(t){return t.getUTCDay()}function c5(t,e){return dt(io.count(le(t)-1,t),e,2)}function l5(t,e){return dt(t.getUTCFullYear()%100,e,2)}function h5(t,e){return t=Kb(t),dt(t.getUTCFullYear()%100,e,2)}function p5(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function d5(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Rn(t):Rn.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function m5(){return"+0000"}function Vb(){return"%"}function Wb(t){return+t}function Gb(t){return Math.floor(+t/1e3)}var ni,Fa,Xh,uo,La;ps({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ps(t){return ni=Oa(t),Fa=ni.format,Xh=ni.parse,uo=ni.utcFormat,La=ni.utcParse,ni}var Vh="%Y-%m-%dT%H:%M:%S.%LZ";function g5(t){return t.toISOString()}var x5=Date.prototype.toISOString?g5:uo(Vh),Jb=x5;function b5(t){var e=new Date(t);return isNaN(e)?null:e}var y5=+new Date("2000-01-01T00:00:00.000Z")?b5:La(Vh),ty=y5;function _5(t){return new Date(t)}function v5(t){return t instanceof Date?+t:+new Date(+t)}function ds(t,e,n,r,o,i,a,f,s,u){var c=Zr(),h=c.invert,l=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),d=u("%I %p"),x=u("%a %d"),_=u("%b %d"),y=u("%B"),b=u("%Y");function v(w){return(s(w)<w?p:f(w)<w?m:a(w)<w?g:i(w)<w?d:r(w)<w?o(w)<w?x:_:n(w)<w?y:b)(w)}return c.invert=function(w){return new Date(h(w))},c.domain=function(w){return arguments.length?l(Array.from(w,v5)):l().map(_5)},c.ticks=function(w){var k=l();return t(k[0],k[k.length-1],w==null?10:w)},c.tickFormat=function(w,k){return k==null?v:u(k)},c.nice=function(w){var k=l();return(!w||typeof w.range!="function")&&(w=e(k[0],k[k.length-1],w==null?10:w)),w?l(Aa(k,w)):c},c.copy=function(){return on(c,ds(t,e,n,r,o,i,a,f,s,u))},c}function Wh(){return At.apply(ds(ls,hs,ce,ao,un,fn,to,Qr,de,Fa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gh(){return At.apply(ds(ss,cs,le,fo,sn,ir,eo,Kr,de,uo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ms(){var t=0,e=1,n,r,o,i,a=Dt,f=!1,s;function u(h){return h==null||isNaN(h=+h)?s:a(o===0?.5:(h=(i(h)-n)*o,f?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=i(t=+t),r=i(e=+e),o=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(f=!!h,u):f},u.interpolator=function(h){return arguments.length?(a=h,u):a};function c(h){return function(l){var p,m;return arguments.length?([p,m]=l,a=h(p,m),u):[a(0),a(1)]}}return u.range=c(Gt),u.rangeRound=c(Hn),u.unknown=function(h){return arguments.length?(s=h,u):s},function(h){return i=h,n=h(t),r=h(e),o=n===r?0:1/(r-n),u}}function In(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gs(){var t=oe(ms()(Dt));return t.copy=function(){return In(t,gs())},we.apply(t,arguments)}function Zh(){var t=ka(ms()).domain([1,10]);return t.copy=function(){return In(t,Zh()).base(t.base())},we.apply(t,arguments)}function jh(){var t=Ea(ms());return t.copy=function(){return In(t,jh()).constant(t.constant())},we.apply(t,arguments)}function xs(){var t=Na(ms());return t.copy=function(){return In(t,xs()).exponent(t.exponent())},we.apply(t,arguments)}function ey(){return xs.apply(null,arguments).exponent(.5)}function bs(){var t=[],e=Dt;function n(r){if(r!=null&&!isNaN(r=+r))return e((ie(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let o of r)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ot),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,o)=>e(o/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(o,i)=>He(t,i/r))},n.copy=function(){return bs(e).domain(t)},we.apply(n,arguments)}function ys(){var t=0,e=.5,n=1,r=1,o,i,a,f,s,u=Dt,c,h=!1,l;function p(g){return isNaN(g=+g)?l:(g=.5+((g=+c(g))-i)*(r*g<r*i?f:s),u(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,o=c(t=+t),i=c(e=+e),a=c(n=+n),f=o===i?0:.5/(i-o),s=i===a?0:.5/(a-i),r=i<o?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(d){var x,_,y;return arguments.length?([x,_,y]=d,u=Di(g,[x,_,y]),p):[u(0),u(.5),u(1)]}}return p.range=m(Gt),p.rangeRound=m(Hn),p.unknown=function(g){return arguments.length?(l=g,p):l},function(g){return c=g,o=g(t),i=g(e),a=g(n),f=o===i?0:.5/(i-o),s=i===a?0:.5/(a-i),r=i<o?-1:1,p}}function _s(){var t=oe(ys()(Dt));return t.copy=function(){return In(t,_s())},we.apply(t,arguments)}function Qh(){var t=ka(ys()).domain([.1,1,10]);return t.copy=function(){return In(t,Qh()).base(t.base())},we.apply(t,arguments)}function Kh(){var t=Ea(ys());return t.copy=function(){return In(t,Kh()).constant(t.constant())},we.apply(t,arguments)}function vs(){var t=Na(ys());return t.copy=function(){return In(t,vs()).exponent(t.exponent())},we.apply(t,arguments)}function ny(){return vs.apply(null,arguments).exponent(.5)}function Y(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}var ry=Y("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var oy=Y("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var iy=Y("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var ay=Y("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");var fy=Y("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var uy=Y("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var sy=Y("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var cy=Y("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var ly=Y("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var hy=Y("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var py=Y("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var G=t=>bf(t[t.length-1]);var Jh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Y),dy=G(Jh);var tp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Y),my=G(tp);var ep=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Y),gy=G(ep);var np=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Y),xy=G(np);var rp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Y),by=G(rp);var op=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Y),yy=G(op);var ip=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Y),_y=G(ip);var ap=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Y),vy=G(ap);var fp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Y),wy=G(fp);var up=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Y),My=G(up);var sp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Y),Sy=G(sp);var cp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Y),Ty=G(cp);var lp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Y),Ay=G(lp);var hp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Y),ky=G(hp);var pp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Y),Ey=G(pp);var dp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Y),Ny=G(dp);var mp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Y),Cy=G(mp);var gp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Y),Ry=G(gp);var xp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Y),Iy=G(xp);var bp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Y),Py=G(bp);var yp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Y),qy=G(yp);var _p=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Y),Dy=G(_p);var vp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Y),Oy=G(vp);var wp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Y),Fy=G(wp);var Mp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Y),Ly=G(Mp);var Sp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Y),$y=G(Sp);var Tp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Y),Yy=G(Tp);function Uy(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var zy=Mr(Wt(300,.5,0),Wt(-240,.5,1));var By=Mr(Wt(-100,.75,.35),Wt(80,1.5,.8)),Hy=Mr(Wt(260,.75,.35),Wt(80,1.5,.8)),ws=Wt();function Xy(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ws.h=360*t-100,ws.s=1.5-1.5*e,ws.l=.8-.9*e,ws+""}var Ms=yn(),w5=Math.PI/3,M5=Math.PI*2/3;function Vy(t){var e;return t=(.5-t)*Math.PI,Ms.r=255*(e=Math.sin(t))*e,Ms.g=255*(e=Math.sin(t+w5))*e,Ms.b=255*(e=Math.sin(t+M5))*e,Ms+""}function Wy(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ss(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Gy=Ss(Y("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Zy=Ss(Y("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),jy=Ss(Y("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Qy=Ss(Y("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Q(t){return function(){return t}}var Ap=Math.abs,Vt=Math.atan2,Ye=Math.cos,Ky=Math.max,cn=Math.min,Kt=Math.sin,et=Math.sqrt,Ut=1e-12,Ue=Math.PI,$a=Ue/2,Me=2*Ue;function Jy(t){return t>1?0:t<-1?Ue:Math.acos(t)}function kp(t){return t>=1?$a:t<=-1?-$a:Math.asin(t)}function ln(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new wn(e)}function S5(t){return t.innerRadius}function T5(t){return t.outerRadius}function A5(t){return t.startAngle}function k5(t){return t.endAngle}function E5(t){return t&&t.padAngle}function N5(t,e,n,r,o,i,a,f){var s=n-t,u=r-e,c=a-o,h=f-i,l=h*s-c*u;if(!(l*l<Ut))return l=(c*(e-i)-h*(t-o))/l,[t+l*s,e+l*u]}function Ts(t,e,n,r,o,i,a){var f=t-n,s=e-r,u=(a?i:-i)/et(f*f+s*s),c=u*s,h=-u*f,l=t+c,p=e+h,m=n+c,g=r+h,d=(l+m)/2,x=(p+g)/2,_=m-l,y=g-p,b=_*_+y*y,v=o-i,w=l*g-m*p,k=(y<0?-1:1)*et(Ky(0,v*v*b-w*w)),C=(w*y-_*k)/b,N=(-w*_-y*k)/b,E=(w*y+_*k)/b,S=(-w*_+y*k)/b,P=C-d,R=N-x,M=E-d,A=S-x;return P*P+R*R>M*M+A*A&&(C=E,N=S),{cx:C,cy:N,x01:-c,y01:-h,x11:C*(o/v-1),y11:N*(o/v-1)}}function t_(){var t=S5,e=T5,n=Q(0),r=null,o=A5,i=k5,a=E5,f=null,s=ln(u);function u(){var c,h,l=+t.apply(this,arguments),p=+e.apply(this,arguments),m=o.apply(this,arguments)-$a,g=i.apply(this,arguments)-$a,d=Ap(g-m),x=g>m;if(f||(f=c=s()),p<l&&(h=p,p=l,l=h),!(p>Ut))f.moveTo(0,0);else if(d>Me-Ut)f.moveTo(p*Ye(m),p*Kt(m)),f.arc(0,0,p,m,g,!x),l>Ut&&(f.moveTo(l*Ye(g),l*Kt(g)),f.arc(0,0,l,g,m,x));else{var _=m,y=g,b=m,v=g,w=d,k=d,C=a.apply(this,arguments)/2,N=C>Ut&&(r?+r.apply(this,arguments):et(l*l+p*p)),E=cn(Ap(p-l)/2,+n.apply(this,arguments)),S=E,P=E,R,M;if(N>Ut){var A=kp(N/l*Kt(C)),T=kp(N/p*Kt(C));(w-=A*2)>Ut?(A*=x?1:-1,b+=A,v-=A):(w=0,b=v=(m+g)/2),(k-=T*2)>Ut?(T*=x?1:-1,_+=T,y-=T):(k=0,_=y=(m+g)/2)}var I=p*Ye(_),O=p*Kt(_),q=l*Ye(v),U=l*Kt(v);if(E>Ut){var H=p*Ye(y),W=p*Kt(y),lt=l*Ye(b),rt=l*Kt(b),nt;if(d<Ue)if(nt=N5(I,O,lt,rt,H,W,q,U)){var ht=I-nt[0],at=O-nt[1],vt=H-nt[0],z=W-nt[1],X=1/Kt(Jy((ht*vt+at*z)/(et(ht*ht+at*at)*et(vt*vt+z*z)))/2),K=et(nt[0]*nt[0]+nt[1]*nt[1]);S=cn(E,(l-K)/(X-1)),P=cn(E,(p-K)/(X+1))}else S=P=0}k>Ut?P>Ut?(R=Ts(lt,rt,I,O,p,P,x),M=Ts(H,W,q,U,p,P,x),f.moveTo(R.cx+R.x01,R.cy+R.y01),P<E?f.arc(R.cx,R.cy,P,Vt(R.y01,R.x01),Vt(M.y01,M.x01),!x):(f.arc(R.cx,R.cy,P,Vt(R.y01,R.x01),Vt(R.y11,R.x11),!x),f.arc(0,0,p,Vt(R.cy+R.y11,R.cx+R.x11),Vt(M.cy+M.y11,M.cx+M.x11),!x),f.arc(M.cx,M.cy,P,Vt(M.y11,M.x11),Vt(M.y01,M.x01),!x))):(f.moveTo(I,O),f.arc(0,0,p,_,y,!x)):f.moveTo(I,O),!(l>Ut)||!(w>Ut)?f.lineTo(q,U):S>Ut?(R=Ts(q,U,H,W,l,-S,x),M=Ts(I,O,lt,rt,l,-S,x),f.lineTo(R.cx+R.x01,R.cy+R.y01),S<E?f.arc(R.cx,R.cy,S,Vt(R.y01,R.x01),Vt(M.y01,M.x01),!x):(f.arc(R.cx,R.cy,S,Vt(R.y01,R.x01),Vt(R.y11,R.x11),!x),f.arc(0,0,l,Vt(R.cy+R.y11,R.cx+R.x11),Vt(M.cy+M.y11,M.cx+M.x11),x),f.arc(M.cx,M.cy,S,Vt(M.y11,M.x11),Vt(M.y01,M.x01),!x))):f.arc(0,0,l,v,b,x)}if(f.closePath(),c)return f=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Ue/2;return[Ye(h)*c,Kt(h)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Q(+c),u):t},u.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Q(+c),u):e},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Q(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Q(+c),u):r},u.startAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Q(+c),u):o},u.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Q(+c),u):i},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Q(+c),u):a},u.context=function(c){return arguments.length?(f=c==null?null:c,u):f},u}var e_=Array.prototype.slice;function ar(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function n_(t){this._context=t}n_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fr(t){return new n_(t)}function ri(t){return t[0]}function oi(t){return t[1]}function ii(t,e){var n=Q(!0),r=null,o=fr,i=null,a=ln(f);t=typeof t=="function"?t:t===void 0?ri:Q(t),e=typeof e=="function"?e:e===void 0?oi:Q(e);function f(s){var u,c=(s=ar(s)).length,h,l=!1,p;for(r==null&&(i=o(p=a())),u=0;u<=c;++u)!(u<c&&n(h=s[u],u,s))===l&&((l=!l)?i.lineStart():i.lineEnd()),l&&i.point(+t(h,u,s),+e(h,u,s));if(p)return i=null,p+""||null}return f.x=function(s){return arguments.length?(t=typeof s=="function"?s:Q(+s),f):t},f.y=function(s){return arguments.length?(e=typeof s=="function"?s:Q(+s),f):e},f.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Q(!!s),f):n},f.curve=function(s){return arguments.length?(o=s,r!=null&&(i=o(r)),f):o},f.context=function(s){return arguments.length?(s==null?r=i=null:i=o(r=s),f):r},f}function As(t,e,n){var r=null,o=Q(!0),i=null,a=fr,f=null,s=ln(u);t=typeof t=="function"?t:t===void 0?ri:Q(+t),e=typeof e=="function"?e:e===void 0?Q(0):Q(+e),n=typeof n=="function"?n:n===void 0?oi:Q(+n);function u(h){var l,p,m,g=(h=ar(h)).length,d,x=!1,_,y=new Array(g),b=new Array(g);for(i==null&&(f=a(_=s())),l=0;l<=g;++l){if(!(l<g&&o(d=h[l],l,h))===x)if(x=!x)p=l,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),m=l-1;m>=p;--m)f.point(y[m],b[m]);f.lineEnd(),f.areaEnd()}x&&(y[l]=+t(d,l,h),b[l]=+e(d,l,h),f.point(r?+r(d,l,h):y[l],n?+n(d,l,h):b[l]))}if(_)return f=null,_+""||null}function c(){return ii().defined(o).curve(a).context(i)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Q(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Q(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Q(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Q(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Q(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Q(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(o=typeof h=="function"?h:Q(!!h),u):o},u.curve=function(h){return arguments.length?(a=h,i!=null&&(f=a(i)),u):a},u.context=function(h){return arguments.length?(h==null?i=f=null:f=a(i=h),u):i},u}function r_(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function o_(t){return t}function i_(){var t=o_,e=r_,n=null,r=Q(0),o=Q(Me),i=Q(0);function a(f){var s,u=(f=ar(f)).length,c,h,l=0,p=new Array(u),m=new Array(u),g=+r.apply(this,arguments),d=Math.min(Me,Math.max(-Me,o.apply(this,arguments)-g)),x,_=Math.min(Math.abs(d)/u,i.apply(this,arguments)),y=_*(d<0?-1:1),b;for(s=0;s<u;++s)(b=m[p[s]=s]=+t(f[s],s,f))>0&&(l+=b);for(e!=null?p.sort(function(v,w){return e(m[v],m[w])}):n!=null&&p.sort(function(v,w){return n(f[v],f[w])}),s=0,h=l?(d-u*y)/l:0;s<u;++s,g=x)c=p[s],b=m[c],x=g+(b>0?b*h:0)+y,m[c]={data:f[c],index:s,value:b,startAngle:g,endAngle:x,padAngle:_};return m}return a.value=function(f){return arguments.length?(t=typeof f=="function"?f:Q(+f),a):t},a.sortValues=function(f){return arguments.length?(e=f,n=null,a):e},a.sort=function(f){return arguments.length?(n=f,e=null,a):n},a.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:Q(+f),a):r},a.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Q(+f),a):o},a.padAngle=function(f){return arguments.length?(i=typeof f=="function"?f:Q(+f),a):i},a}var ks=ai(fr);function a_(t){this._curve=t}a_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function ai(t){function e(n){return new a_(t(n))}return e._curve=t,e}function fi(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(ai(n)):e()._curve},t}function Ep(){return fi(ii().curve(ks))}function Np(){var t=As().curve(ks),e=t.curve,n=t.lineX0,r=t.lineX1,o=t.lineY0,i=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return fi(n())},delete t.lineX0,t.lineEndAngle=function(){return fi(r())},delete t.lineX1,t.lineInnerRadius=function(){return fi(o())},delete t.lineY0,t.lineOuterRadius=function(){return fi(i())},delete t.lineY1,t.curve=function(a){return arguments.length?e(ai(a)):e()._curve},t}function so(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var Es=class{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}},Cp=class{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{let r=so(this._x0,this._y0),o=so(this._x0,this._y0=(this._y0+n)/2),i=so(e,this._y0),a=so(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...o,...i,...a)}this._x0=e,this._y0=n}};function Ns(t){return new Es(t,!0)}function Cs(t){return new Es(t,!1)}function f_(t){return new Cp(t)}function C5(t){return t.source}function R5(t){return t.target}function Ya(t){let e=C5,n=R5,r=ri,o=oi,i=null,a=null,f=ln(s);function s(){let u,c=e_.call(arguments),h=e.apply(this,c),l=n.apply(this,c);if(i==null&&(a=t(u=f())),a.lineStart(),c[0]=h,a.point(+r.apply(this,c),+o.apply(this,c)),c[0]=l,a.point(+r.apply(this,c),+o.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return s.source=function(u){return arguments.length?(e=u,s):e},s.target=function(u){return arguments.length?(n=u,s):n},s.x=function(u){return arguments.length?(r=typeof u=="function"?u:Q(+u),s):r},s.y=function(u){return arguments.length?(o=typeof u=="function"?u:Q(+u),s):o},s.context=function(u){return arguments.length?(u==null?i=a=null:a=t(i=u),s):i},s}function u_(){return Ya(Ns)}function s_(){return Ya(Cs)}function c_(){let t=Ya(f_);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var I5=et(3),Rs={draw(t,e){let n=et(e+cn(e/28,.75))*.59436,r=n/2,o=r*I5;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-o,-r),t.lineTo(o,r),t.moveTo(-o,r),t.lineTo(o,-r)}};var ui={draw(t,e){let n=et(e/Ue);t.moveTo(n,0),t.arc(0,0,n,0,Me)}};var Is={draw(t,e){let n=et(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var l_=et(1/3),P5=l_*2,Ps={draw(t,e){let n=et(e/P5),r=n*l_;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var qs={draw(t,e){let n=et(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}};var Ds={draw(t,e){let n=et(e-cn(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}};var Os={draw(t,e){let n=et(e),r=-n/2;t.rect(r,r,n,n)}};var Fs={draw(t,e){let n=et(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}};var q5=.8908130915292852,h_=Kt(Ue/10)/Kt(7*Ue/10),D5=Kt(Me/10)*h_,O5=-Ye(Me/10)*h_,Ls={draw(t,e){let n=et(e*q5),r=D5*n,o=O5*n;t.moveTo(0,-n),t.lineTo(r,o);for(let i=1;i<5;++i){let a=Me*i/5,f=Ye(a),s=Kt(a);t.lineTo(s*n,-f*n),t.lineTo(f*r-s*o,s*r+f*o)}t.closePath()}};var Rp=et(3),$s={draw(t,e){let n=-et(e/(Rp*3));t.moveTo(0,n*2),t.lineTo(-Rp*n,-n),t.lineTo(Rp*n,-n),t.closePath()}};var F5=et(3),Ys={draw(t,e){let n=et(e)*.6824,r=n/2,o=n*F5/2;t.moveTo(0,-n),t.lineTo(o,r),t.lineTo(-o,r),t.closePath()}};var Se=-.5,Te=et(3)/2,Ip=1/et(12),L5=(Ip/2+1)*3,Us={draw(t,e){let n=et(e/L5),r=n/2,o=n*Ip,i=r,a=n*Ip+n,f=-i,s=a;t.moveTo(r,o),t.lineTo(i,a),t.lineTo(f,s),t.lineTo(Se*r-Te*o,Te*r+Se*o),t.lineTo(Se*i-Te*a,Te*i+Se*a),t.lineTo(Se*f-Te*s,Te*f+Se*s),t.lineTo(Se*r+Te*o,Se*o-Te*r),t.lineTo(Se*i+Te*a,Se*a-Te*i),t.lineTo(Se*f+Te*s,Se*s-Te*f),t.closePath()}};var Ua={draw(t,e){let n=et(e-cn(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};var Pp=[ui,Is,Ps,Os,Ls,$s,Us],p_=[ui,Ds,Ua,Ys,Rs,Fs,qs];function qp(t,e){let n=null,r=ln(o);t=typeof t=="function"?t:Q(t||ui),e=typeof e=="function"?e:Q(e===void 0?64:+e);function o(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return o.type=function(i){return arguments.length?(t=typeof i=="function"?i:Q(i),o):t},o.size=function(i){return arguments.length?(e=typeof i=="function"?i:Q(+i),o):e},o.context=function(i){return arguments.length?(n=i==null?null:i,o):n},o}function Ae(){}function si(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function za(t){this._context=t}za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:si(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:si(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d_(t){return new za(t)}function m_(t){this._context=t}m_.prototype={areaStart:Ae,areaEnd:Ae,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:si(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function g_(t){return new m_(t)}function x_(t){this._context=t}x_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:si(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function b_(t){return new x_(t)}function y_(t,e){this._basis=new za(t),this._beta=e}y_.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],o=e[0],i=t[n]-r,a=e[n]-o,f=-1,s;++f<=n;)s=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+s*i),this._beta*e[f]+(1-this._beta)*(o+s*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var __=(function t(e){function n(r){return e===1?new za(r):new y_(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function ci(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function zs(t,e){this._context=t,this._k=(1-e)/6}zs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ci(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ci(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var v_=(function t(e){function n(r){return new zs(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Bs(t,e){this._context=t,this._k=(1-e)/6}Bs.prototype={areaStart:Ae,areaEnd:Ae,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ci(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var w_=(function t(e){function n(r){return new Bs(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Hs(t,e){this._context=t,this._k=(1-e)/6}Hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ci(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var M_=(function t(e){function n(r){return new Hs(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Ba(t,e,n){var r=t._x1,o=t._y1,i=t._x2,a=t._y2;if(t._l01_a>Ut){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>Ut){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*u+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,o,i,a,t._x2,t._y2)}function S_(t,e){this._context=t,this._alpha=e}S_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ba(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var T_=(function t(e){function n(r){return e?new S_(r,e):new zs(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function A_(t,e){this._context=t,this._alpha=e}A_.prototype={areaStart:Ae,areaEnd:Ae,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ba(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var k_=(function t(e){function n(r){return e?new A_(r,e):new Bs(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function E_(t,e){this._context=t,this._alpha=e}E_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ba(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var N_=(function t(e){function n(r){return e?new E_(r,e):new Hs(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function C_(t){this._context=t}C_.prototype={areaStart:Ae,areaEnd:Ae,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function R_(t){return new C_(t)}function I_(t){return t<0?-1:1}function P_(t,e,n){var r=t._x1-t._x0,o=e-t._x1,i=(t._y1-t._y0)/(r||o<0&&-0),a=(n-t._y1)/(o||r<0&&-0),f=(i*o+a*r)/(r+o);return(I_(i)+I_(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(f))||0}function q_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Dp(t,e,n){var r=t._x0,o=t._y0,i=t._x1,a=t._y1,f=(i-r)/3;t._context.bezierCurveTo(r+f,o+f*e,i-f,a-f*n,i,a)}function Xs(t){this._context=t}Xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dp(this,this._t0,q_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Dp(this,q_(this,n=P_(this,t,e)),n);break;default:Dp(this,this._t0,n=P_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function D_(t){this._context=new O_(t)}(D_.prototype=Object.create(Xs.prototype)).point=function(t,e){Xs.prototype.point.call(this,e,t)};function O_(t){this._context=t}O_.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,o,i){this._context.bezierCurveTo(e,t,r,n,i,o)}};function F_(t){return new Xs(t)}function L_(t){return new D_(t)}function Y_(t){this._context=t}Y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$_(t),o=$_(e),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $_(t){var e,n=t.length-1,r,o=new Array(n),i=new Array(n),a=new Array(n);for(o[0]=0,i[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,i[e]=4,a[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,i[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=o[e]/i[e-1],i[e]-=r,a[e]-=r*a[e-1];for(o[n-1]=a[n-1]/i[n-1],e=n-2;e>=0;--e)o[e]=(a[e]-o[e+1])/i[e];for(i[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-o[e+1];return[o,i]}function U_(t){return new Y_(t)}function Vs(t,e){this._context=t,this._t=e}Vs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function z_(t){return new Vs(t,.5)}function B_(t){return new Vs(t,0)}function H_(t){return new Vs(t,1)}function ze(t,e){if((a=t.length)>1)for(var n=1,r,o,i=t[e[0]],a,f=i.length;n<a;++n)for(o=i,i=t[e[n]],r=0;r<f;++r)i[r][1]+=i[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function Be(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $5(t,e){return t[e]}function Y5(t){let e=[];return e.key=t,e}function X_(){var t=Q([]),e=Be,n=ze,r=$5;function o(i){var a=Array.from(t.apply(this,arguments),Y5),f,s=a.length,u=-1,c;for(let h of i)for(f=0,++u;f<s;++f)(a[f][u]=[0,+r(h,a[f].key,u,i)]).data=h;for(f=0,c=ar(e(a));f<s;++f)a[c[f]].index=f;return n(a,c),a}return o.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Q(Array.from(i)),o):t},o.value=function(i){return arguments.length?(r=typeof i=="function"?i:Q(+i),o):r},o.order=function(i){return arguments.length?(e=i==null?Be:typeof i=="function"?i:Q(Array.from(i)),o):e},o.offset=function(i){return arguments.length?(n=i==null?ze:i,o):n},o}function V_(t,e){if((r=t.length)>0){for(var n,r,o=0,i=t[0].length,a;o<i;++o){for(a=n=0;n<r;++n)a+=t[n][o][1]||0;if(a)for(n=0;n<r;++n)t[n][o][1]/=a}ze(t,e)}}function W_(t,e){if((s=t.length)>0)for(var n,r=0,o,i,a,f,s,u=t[e[0]].length;r<u;++r)for(a=f=0,n=0;n<s;++n)(i=(o=t[e[n]][r])[1]-o[0])>0?(o[0]=a,o[1]=a+=i):i<0?(o[1]=f,o[0]=f+=i):(o[0]=0,o[1]=i)}function G_(t,e){if((o=t.length)>0){for(var n=0,r=t[e[0]],o,i=r.length;n<i;++n){for(var a=0,f=0;a<o;++a)f+=t[a][n][1]||0;r[n][1]+=r[n][0]=-f/2}ze(t,e)}}function Z_(t,e){if(!(!((a=t.length)>0)||!((i=(o=t[e[0]]).length)>0))){for(var n=0,r=1,o,i,a;r<i;++r){for(var f=0,s=0,u=0;f<a;++f){for(var c=t[e[f]],h=c[r][1]||0,l=c[r-1][1]||0,p=(h-l)/2,m=0;m<f;++m){var g=t[e[m]],d=g[r][1]||0,x=g[r-1][1]||0;p+=d-x}s+=h,u+=p*h}o[r-1][1]+=o[r-1][0]=n,s&&(n-=u/s)}o[r-1][1]+=o[r-1][0]=n,ze(t,e)}}function Ws(t){var e=t.map(U5);return Be(t).sort(function(n,r){return e[n]-e[r]})}function U5(t){for(var e=-1,n=0,r=t.length,o,i=-1/0;++e<r;)(o=+t[e][1])>i&&(i=o,n=e);return n}function Gs(t){var e=t.map(Op);return Be(t).sort(function(n,r){return e[n]-e[r]})}function Op(t){for(var e=0,n=-1,r=t.length,o;++n<r;)(o=+t[n][1])&&(e+=o);return e}function j_(t){return Gs(t).reverse()}function Q_(t){var e=t.length,n,r,o=t.map(Op),i=Ws(t),a=0,f=0,s=[],u=[];for(n=0;n<e;++n)r=i[n],a<f?(a+=o[r],s.push(r)):(f+=o[r],u.push(r));return u.reverse().concat(s)}function K_(t){return Be(t).reverse()}var Ha=t=>()=>t;function Fp(t,{sourceEvent:e,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function ke(t,e,n){this.k=t,this.x=e,this.y=n}ke.prototype={constructor:ke,scale:function(t){return t===1?this:new ke(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ke(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var li=new ke(1,0,0);Zs.prototype=ke.prototype;function Zs(t){for(;!t.__zoom;)if(!(t=t.parentNode))return li;return t.__zoom}function js(t){t.stopImmediatePropagation()}function hi(t){t.preventDefault(),t.stopImmediatePropagation()}function z5(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function B5(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function J_(){return this.__zoom||li}function H5(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function X5(){return navigator.maxTouchPoints||"ontouchstart"in this}function V5(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function tv(){var t=z5,e=B5,n=V5,r=H5,o=X5,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],f=250,s=Af,u=xe("start","zoom","end"),c,h,l,p=500,m=150,g=0,d=10;function x(M){M.property("__zoom",J_).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",E).filter(o).on("touchstart.zoom",S).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(M,A,T,I){var O=M.selection?M.selection():M;O.property("__zoom",J_),M!==O?v(M,A,T,I):O.interrupt().each(function(){w(this,arguments).event(I).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},x.scaleBy=function(M,A,T,I){x.scaleTo(M,function(){var O=this.__zoom.k,q=typeof A=="function"?A.apply(this,arguments):A;return O*q},T,I)},x.scaleTo=function(M,A,T,I){x.transform(M,function(){var O=e.apply(this,arguments),q=this.__zoom,U=T==null?b(O):typeof T=="function"?T.apply(this,arguments):T,H=q.invert(U),W=typeof A=="function"?A.apply(this,arguments):A;return n(y(_(q,W),U,H),O,a)},T,I)},x.translateBy=function(M,A,T,I){x.transform(M,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),a)},null,I)},x.translateTo=function(M,A,T,I,O){x.transform(M,function(){var q=e.apply(this,arguments),U=this.__zoom,H=I==null?b(q):typeof I=="function"?I.apply(this,arguments):I;return n(li.translate(H[0],H[1]).scale(U.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof T=="function"?-T.apply(this,arguments):-T),q,a)},I,O)};function _(M,A){return A=Math.max(i[0],Math.min(i[1],A)),A===M.k?M:new ke(A,M.x,M.y)}function y(M,A,T){var I=A[0]-T[0]*M.k,O=A[1]-T[1]*M.k;return I===M.x&&O===M.y?M:new ke(M.k,I,O)}function b(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function v(M,A,T,I){M.on("start.zoom",function(){w(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(I).end()}).tween("zoom",function(){var O=this,q=arguments,U=w(O,q).event(I),H=e.apply(O,q),W=T==null?b(H):typeof T=="function"?T.apply(O,q):T,lt=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),rt=O.__zoom,nt=typeof A=="function"?A.apply(O,q):A,ht=s(rt.invert(W).concat(lt/rt.k),nt.invert(W).concat(lt/nt.k));return function(at){if(at===1)at=nt;else{var vt=ht(at),z=lt/vt[2];at=new ke(z,W[0]-vt[0]*z,W[1]-vt[1]*z)}U.zoom(null,at)}})}function w(M,A,T){return!T&&M.__zooming||new k(M,A)}function k(M,A){this.that=M,this.args=A,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,A),this.taps=0}k.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,A){return this.mouse&&M!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var A=Et(this.that).datum();u.call(M,this.that,new Fp(M,{sourceEvent:this.sourceEvent,target:x,type:M,transform:this.that.__zoom,dispatch:u}),A)}};function C(M,...A){if(!t.apply(this,arguments))return;var T=w(this,A).event(M),I=this.__zoom,O=Math.max(i[0],Math.min(i[1],I.k*Math.pow(2,r.apply(this,arguments)))),q=Ot(M);if(T.wheel)(T.mouse[0][0]!==q[0]||T.mouse[0][1]!==q[1])&&(T.mouse[1]=I.invert(T.mouse[0]=q)),clearTimeout(T.wheel);else{if(I.k===O)return;T.mouse=[q,I.invert(q)],qe(this),T.start()}hi(M),T.wheel=setTimeout(U,m),T.zoom("mouse",n(y(_(I,O),T.mouse[0],T.mouse[1]),T.extent,a));function U(){T.wheel=null,T.end()}}function N(M,...A){if(l||!t.apply(this,arguments))return;var T=M.currentTarget,I=w(this,A,!0).event(M),O=Et(M.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",lt,!0),q=Ot(M,T),U=M.clientX,H=M.clientY;Ln(M.view),js(M),I.mouse=[q,this.__zoom.invert(q)],qe(this),I.start();function W(rt){if(hi(rt),!I.moved){var nt=rt.clientX-U,ht=rt.clientY-H;I.moved=nt*nt+ht*ht>g}I.event(rt).zoom("mouse",n(y(I.that.__zoom,I.mouse[0]=Ot(rt,T),I.mouse[1]),I.extent,a))}function lt(rt){O.on("mousemove.zoom mouseup.zoom",null),$n(rt.view,I.moved),hi(rt),I.event(rt).end()}}function E(M,...A){if(t.apply(this,arguments)){var T=this.__zoom,I=Ot(M.changedTouches?M.changedTouches[0]:M,this),O=T.invert(I),q=T.k*(M.shiftKey?.5:2),U=n(y(_(T,q),I,O),e.apply(this,A),a);hi(M),f>0?Et(this).transition().duration(f).call(v,U,I,M):Et(this).call(x.transform,U,I,M)}}function S(M,...A){if(t.apply(this,arguments)){var T=M.touches,I=T.length,O=w(this,A,M.changedTouches.length===I).event(M),q,U,H,W;for(js(M),U=0;U<I;++U)H=T[U],W=Ot(H,this),W=[W,this.__zoom.invert(W),H.identifier],O.touch0?!O.touch1&&O.touch0[2]!==W[2]&&(O.touch1=W,O.taps=0):(O.touch0=W,q=!0,O.taps=1+!!c);c&&(c=clearTimeout(c)),q&&(O.taps<2&&(h=W[0],c=setTimeout(function(){c=null},p)),qe(this),O.start())}}function P(M,...A){if(this.__zooming){var T=w(this,A).event(M),I=M.changedTouches,O=I.length,q,U,H,W;for(hi(M),q=0;q<O;++q)U=I[q],H=Ot(U,this),T.touch0&&T.touch0[2]===U.identifier?T.touch0[0]=H:T.touch1&&T.touch1[2]===U.identifier&&(T.touch1[0]=H);if(U=T.that.__zoom,T.touch1){var lt=T.touch0[0],rt=T.touch0[1],nt=T.touch1[0],ht=T.touch1[1],at=(at=nt[0]-lt[0])*at+(at=nt[1]-lt[1])*at,vt=(vt=ht[0]-rt[0])*vt+(vt=ht[1]-rt[1])*vt;U=_(U,Math.sqrt(at/vt)),H=[(lt[0]+nt[0])/2,(lt[1]+nt[1])/2],W=[(rt[0]+ht[0])/2,(rt[1]+ht[1])/2]}else if(T.touch0)H=T.touch0[0],W=T.touch0[1];else return;T.zoom("touch",n(y(U,H,W),T.extent,a))}}function R(M,...A){if(this.__zooming){var T=w(this,A).event(M),I=M.changedTouches,O=I.length,q,U;for(js(M),l&&clearTimeout(l),l=setTimeout(function(){l=null},p),q=0;q<O;++q)U=I[q],T.touch0&&T.touch0[2]===U.identifier?delete T.touch0:T.touch1&&T.touch1[2]===U.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(U=Ot(U,this),Math.hypot(h[0]-U[0],h[1]-U[1])<d)){var H=Et(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return x.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:Ha(+M),x):r},x.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Ha(!!M),x):t},x.touchable=function(M){return arguments.length?(o=typeof M=="function"?M:Ha(!!M),x):o},x.extent=function(M){return arguments.length?(e=typeof M=="function"?M:Ha([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),x):e},x.scaleExtent=function(M){return arguments.length?(i[0]=+M[0],i[1]=+M[1],x):[i[0],i[1]]},x.translateExtent=function(M){return arguments.length?(a[0][0]=+M[0][0],a[1][0]=+M[1][0],a[0][1]=+M[0][1],a[1][1]=+M[1][1],x):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},x.constrain=function(M){return arguments.length?(n=M,x):n},x.duration=function(M){return arguments.length?(f=+M,x):f},x.interpolate=function(M){return arguments.length?(s=M,x):s},x.on=function(){var M=u.on.apply(u,arguments);return M===u?x:M},x.clickDistance=function(M){return arguments.length?(g=(M=+M)*M,x):Math.sqrt(g)},x.tapDistance=function(M){return arguments.length?(d=+M,x):d},x}function W5(){let t=document.getElementById("viz");return t||(t=document.createElement("div"),t.id="viz",document.body.appendChild(t)),t}function G5(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ee(t,e,n){try{let r=t.style&&t.style[e];return r==null||r===""?n:r}catch(r){return n}}function Z5(t,e,n){var u,c;let r=(t==null?void 0:t.fields)||{},o=Object.keys(r),i=(u=e==null?void 0:e[0])==null?void 0:u.id,a=(c=n==null?void 0:n[0])==null?void 0:c.id,f=o.find(h=>Array.isArray(r[h])&&r[h].some(l=>l.id===i))||"dims",s=a&&o.find(h=>Array.isArray(r[h])&&r[h].some(l=>l.id===a))||"metric";return{dimension:f,metric:s}}function co(t,e){let n=Number(t);return Number.isFinite(n)?n:e}function ev(t){if(t==null)return null;if(typeof t=="object"){if("value"in t&&t.value!==void 0)return t.value;if("formattedValue"in t&&t.formattedValue!==void 0)return t.formattedValue}return t}function j5(t,e,n,r){let o={name:"root",children:[],value:0},i=(r==null?void 0:r.dimension)||"dims",a=(r==null?void 0:r.metric)||"metric",f=Array.isArray(e)?e.length:0,s=(c,h)=>{c.children||(c.children=[]);let l=c.children.find(p=>p.name===h);return l||(l={name:h,children:[],value:0},c.children.push(l)),l};for(let c of t){let h=o;for(let x=0;x<f;x++){let _=e[x],y=Array.isArray(c[i])?c[i][x]:void 0,b=c[_==null?void 0:_.id],v=Array.isArray(b)?b[x]:b,w=ev(y!=null?y:v),k=w!=null?String(w):"(null)";h=s(h,k)}let l=n?Array.isArray(c[a])?c[a][0]:c[n.id]:null,p=ev(l),m=p&&typeof p=="object"&&"rawValue"in p?p.rawValue:p,g=Number(m),d=n&&Number.isFinite(g)?g:1;h.value+=d}function u(c){if(!c.children||c.children.length===0)return c.value||0;let h=0;for(let l of c.children)h+=u(l);return c.value=h,h}return u(o),o}function Q5(t){var n,r,o,i,a,f;let e=W5();G5(e);try{let vt=function(X){return u.linkHorizontal().x(K=>K.y).y(K=>K.x)(X)},z=function(X){let K=ht.descendants(),F=ht.links();at(ht);let _t=ht,st=ht;ht.eachBefore(J=>{J.x<_t.x&&(_t=J),J.x>st.x&&(st=J)});let zt=st.x-_t.x+40,Bt=u.max(K,J=>J.y)||0,j=O.offsetHeight||0,wt=Math.max(h-j-16,zt),ur=Bt+rt+60;H.attr("height",wt),H.attr("width",c),H.attr("viewBox",`0 0 ${Math.max(c,ur)} ${wt}`);let me=W.selectAll("g.node").data(K,J=>J.id),Xa=me.enter().append("g").attr("class","node").attr("transform",()=>`translate(${X.y0},${X.x0})`).on("click",(J,Ne)=>{Ne.children?(Ne._children=Ne.children,Ne.children=null):(Ne.children=Ne._children,Ne._children=null),z(Ne)});Xa.append("circle").attr("r",k).attr("fill",J=>J._children?A:M),Xa.append("path").attr("class","caret").attr("d",nt).attr("fill",P).attr("transform",J=>`translate(${J._children||J.children?-k-10:-1e3},0) rotate(${J.children?90:0})`),Xa.append("text").attr("dy","0.32em").attr("x",J=>J._children?-10:10).attr("text-anchor",J=>J._children?"end":"start").style("font-size",`${v}px`).style("fill",P).style("font-family",w).text(J=>{var $p;if(J.depth===0)return"";let Ne=J.data.name;return b?`${Ne} (${($p=J.value)!=null?$p:0})`:Ne});let Qs=Xa.merge(me);Qs.transition().duration(250).attr("transform",J=>`translate(${J.y},${J.x})`),Qs.select("circle").attr("fill",J=>J._children?A:M),Qs.select("path.caret").attr("fill",P).attr("transform",J=>`translate(${J._children||J.children?-k-10:-1e3},0) rotate(${J.children?90:0})`).attr("opacity",J=>J._children||J.children?1:0),me.exit().transition().duration(250).attr("transform",()=>`translate(${X.y},${X.x})`).remove();let Ks=W.selectAll("path.link").data(F,J=>J.target.id);Ks.enter().append("path").attr("class","link").attr("stroke",R).attr("stroke-width",E).attr("d",()=>{let J={x:X.x0,y:X.y0};return vt({source:J,target:J})}).merge(Ks).transition().duration(250).attr("d",vt).attr("stroke",R).attr("stroke-width",E),Ks.exit().transition().duration(250).attr("d",()=>{let J={x:X.x,y:X.y};return vt({source:J,target:J})}).remove(),ht.eachBefore(J=>{J.x0=J.x,J.y0=J.y})},s=window.dscc;if(!s){e.innerHTML="<div style='padding:12px'>dscc introuvable. V\xE9rifie que dscc.min.js est bien concat\xE9n\xE9 dans dist/viz.js.</div>";return}let u=Lp||window.d3;if(!u||typeof u.hierarchy!="function"){e.innerHTML="<div style='padding:12px'>La librairie D3 n\u2019a pas \xE9t\xE9 charg\xE9e. Recharge la page ou rebuild le bundle.</div>";return}let c=co(s.getWidth(),800),h=co(s.getHeight(),600),l=((n=t==null?void 0:t.fields)==null?void 0:n.dims)||((r=t==null?void 0:t.fields)==null?void 0:r.dimensions)||[],p=((o=t==null?void 0:t.fields)==null?void 0:o.metric)||((i=t==null?void 0:t.fields)==null?void 0:i.metrics)||[],m=Array.isArray(l)?l:[],g=Array.isArray(p)?p:[],d=m.map(X=>X.id).filter(Boolean),x=g.length>0?g[0].id:null,_=Z5(t,m,g),y=Array.isArray((a=t==null?void 0:t.tables)==null?void 0:a.DEFAULT)?t.tables.DEFAULT:[];if(!d||d.length<2){e.innerHTML="<div style='padding:12px'>Ajoute au moins <b>2 dimensions</b> pour construire l\u2019arbre.</div>";return}if(!y.length){e.innerHTML="<div style='padding:12px'>Aucune donn\xE9e.</div>";return}let b=!!Ee(t,"showValue",!1),v=co(Ee(t,"fontSize",12),12),w=Ee(t,"fontFamily","Inter, Arial, sans-serif"),k=co(Ee(t,"nodeRadius",4),4),C=co(Ee(t,"indent",180),180),N=co(Ee(t,"rowHeight",24),24),E=co(Ee(t,"linkWidth",1.5),1.5),S=Ee(t,"backgroundColor","#ffffff"),P=Ee(t,"labelColor","#111111"),R=Ee(t,"linkColor","#9aa4b5"),M=Ee(t,"nodeColor","#6c8cf5"),A=Ee(t,"nodeCollapsedColor","#324679"),T=j5(y,m,g[0],_)||{name:"root",children:[],value:0};e.style.background=S,e.style.color=P,e.style.fontFamily=w;let I=document.createElement("div");I.className="viz-container",e.appendChild(I);let O=document.createElement("div");O.className="meta-panel";let q=d.length?d.map(X=>{var K;return`<span class="pill">${((K=m.find(F=>F.id===X))==null?void 0:K.name)||X}</span>`}).join(" "):'<span class="pill empty">Aucune dimension</span>',U=x?`<span class="pill metric">${((f=g.find(X=>X.id===x))==null?void 0:f.name)||x}</span>`:'<span class="pill metric empty">Aucune m\xE9trique</span>';O.innerHTML=`<strong>Dimensions :</strong> ${q} &nbsp; <strong>M\xE9trique :</strong> ${U}`,I.appendChild(O);let H=u.select(I).append("svg").attr("width",c),W=H.append("g").attr("transform","translate(20,20)"),lt=N,rt=C,nt="M -4 -4 L 4 0 L -4 4 Z",ht=u.hierarchy(T);ht.x0=0,ht.y0=0,ht.descendants().forEach(X=>{X.id=X.id||Math.random().toString(16).slice(2),X._children=X.children,X.depth>1&&(X.children=null)});let at=u.tree().nodeSize([lt,rt]);z(ht)}catch(s){console.error(s),e.innerHTML="<div style='padding:12px'>Une erreur est survenue dans la visualisation (voir la console). V\xE9rifie tes dimensions/m\xE9triques et rebuild le package.</div>"}}(function(){let e=window.dscc;e&&e.subscribeToData(Q5,{transform:e.objectTransform})})();})();

