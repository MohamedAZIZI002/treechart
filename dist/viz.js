!function(e,R){"object"==typeof exports&&"object"==typeof module?module.exports=R():"function"==typeof define&&define.amd?define("dscc",[],R):"object"==typeof exports?exports.dscc=R():e.dscc=R()}(window,function(){return t={},n.m=C={"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */function(e,N,R){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var R,C=1,t=arguments.length;C<t;C++)for(var n in R=arguments[C])Object.prototype.hasOwnProperty.call(R,n)&&(e[n]=R[n]);return e}).apply(this,arguments)};Object.defineProperty(N,"__esModule",{value:!0});
/*!
  @license
  Copyright 2019 Google LLC

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
var _=R(/*! ./types */"./src/types.ts");!function(e){for(var R in e)N.hasOwnProperty(R)||(N[R]=e[R])}(R(/*! ./types */"./src/types.ts")),N.getWidth=function(){return document.body.clientWidth},N.getHeight=function(){return document.documentElement.clientHeight},N.getComponentId=function(){var e=new URLSearchParams(window.location.search);if(null!==e.get("dscId"))return e.get("dscId");throw new Error("dscId must be in the query parameters. This is a bug in ds-component, please file a bug: https://github.com/googledatastudio/ds-component/issues/new")};function E(e){return e.type===_.ConfigDataElementType.DIMENSION||e.type===_.ConfigDataElementType.METRIC}function r(e){return e===_.ConfigDataElementType.DIMENSION?-1:1}function a(e){var R=[];e.config.data.forEach(function(e){e.elements.filter(E).forEach(function(e){R.push(e)})});var C,t=(C=function(e,R){return r(e.type)-r(R.type)},R.map(function(e,R){return{item:e,index:R}}).sort(function(e,R){return C(e.item,R.item)||e.index-R.index}).map(function(e){return e.item})),n=[];return t.forEach(function(e){e.value.forEach(function(){return n.push(e.id)})}),n}function o(R){return function(e){var C,t,n={};return t=R,((C=e).length<t.length?C.map(function(e,R){return[e,t[R]]}):t.map(function(e,R){return[C[R],e]})).forEach(function(e){var R=e[0],C=e[1];void 0===n[C]&&(n[C]=[]),n[C].push(R)},{}),n}}N.fieldsByConfigId=function(e){var R=e.fields.reduce(function(e,R){return e[R.id]=R,e},{}),C={};return e.config.data.forEach(function(e){e.elements.filter(E).forEach(function(e){C[e.id]=e.value.map(function(e){return R[e]})})}),C};function U(e){var R={};return(e.config.style||[]).forEach(function(e){e.elements.forEach(function(e){if(void 0!==R[e.id])throw new Error("styleIds must be unique. Your styleId: '"+e.id+"' is used more than once.");R[e.id]={value:e.value,defaultValue:e.defaultValue}})},{}),R}function Y(e){return e.config.themeStyle}function n(e){switch(e){case _.DSInteractionType.FILTER:return _.InteractionType.FILTER}}function s(e){var R=e.config.interactions;return void 0===R?{}:R.reduce(function(e,R){var C=R.supportedActions.map(n),t={type:n(R.value.type),data:R.value.data};return e[R.id]={value:t,supportedActions:C},e},{})}N.tableTransform=function(e){return{tables:(R=e,t=N.fieldsByConfigId(R),n=a(R),E={},r=n.map(function(e){void 0===E[e]?E[e]=0:E[e]++;var R=E[e],C=t[e][R];return i(i({},C),{configId:e})}),(C={})[_.TableType.DEFAULT]={headers:[],rows:[]},o=C,R.dataResponse.tables.forEach(function(e){o[e.id]={headers:r,rows:e.rows}}),o),fields:N.fieldsByConfigId(e),style:U(e),theme:Y(e),interactions:s(e)};var R,C,t,n,E,r,o},N.objectTransform=function(e){return{tables:(t=a(R=e),(C={})[_.TableType.DEFAULT]=[],n=C,R.dataResponse.tables.forEach(function(e){var R=e.rows.map(o(t));e.id===_.TableType.DEFAULT?n[e.id]=R:(void 0===n[e.id]&&(n[e.id]=[]),n[e.id]=n[e.id].concat(R))}),n),fields:N.fieldsByConfigId(e),style:U(e),theme:Y(e),interactions:s(e)};var R,C,t,n};function u(e){var R,C=!1;return e===N.tableTransform||e===N.objectTransform?C=!0:(R=!1,"identity"===e("identity")&&(R=!0,console.warn("This is an unsupported data format. Please use one of the supported transforms:\n       dscc.objectFormat or dscc.tableFormat.")),R&&(C=!0)),C}N.subscribeToData=function(R,C){if(u(C.transform)){var e=function(e){e.data.type===_.MessageType.RENDER?R(C.transform(e.data)):console.error("MessageType: "+e.data.type+" is not supported by this version of the library.")};window.addEventListener("message",e);var t={componentId:N.getComponentId(),type:_.ToDSMessageType.VIZ_READY};return window.parent.postMessage(t,"*"),function(){return window.removeEventListener("message",e)}}throw new Error("Only the built in transform functions are supported.")},N.sendInteraction=function(e,R,C){var t=N.getComponentId(),n={type:_.ToDSMessageType.INTERACTION,id:e,data:C,componentId:t};window.parent.postMessage(n,"*")},N.clearInteraction=function(e,R){N.sendInteraction(e,R,void 0)}},"./src/types.ts":
/*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/
/*! no static exports found */function(e,R,C){"use strict";var t,n,E,r,o,N;Object.defineProperty(R,"__esModule",{value:!0}),(t=R.ConceptType||(R.ConceptType={})).METRIC="METRIC",t.DIMENSION="DIMENSION",(R.MessageType||(R.MessageType={})).RENDER="RENDER",(n=R.FieldType||(R.FieldType={})).YEAR="YEAR",n.YEAR_QUARTER="YEAR_QUARTER",n.YEAR_MONTH="YEAR_MONTH",n.YEAR_WEEK="YEAR_WEEK",n.YEAR_MONTH_DAY="YEAR_MONTH_DAY",n.YEAR_MONTH_DAY_HOUR="YEAR_MONTH_DAY_HOUR",n.QUARTER="QUARTER",n.MONTH="MONTH",n.WEEK="WEEK",n.MONTH_DAY="MONTH_DAY",n.DAY_OF_WEEK="DAY_OF_WEEK",n.DAY="DAY",n.HOUR="HOUR",n.MINUTE="MINUTE",n.DURATION="DURATION",n.COUNTRY="COUNTRY",n.COUNTRY_CODE="COUNTRY_CODE",n.CONTINENT="CONTINENT",n.CONTINENT_CODE="CONTINENT_CODE",n.SUB_CONTINENT="SUB_CONTINENT",n.SUB_CONTINENT_CODE="SUB_CONTINENT_CODE",n.REGION="REGION",n.REGION_CODE="REGION_CODE",n.CITY="CITY",n.CITY_CODE="CITY_CODE",n.METRO_CODE="METRO_CODE",n.LATITUDE_LONGITUDE="LATITUDE_LONGITUDE",n.NUMBER="NUMBER",n.PERCENT="PERCENT",n.TEXT="TEXT",n.BOOLEAN="BOOLEAN",n.URL="URL",n.IMAGE="IMAGE",n.CURRENCY_AED="CURRENCY_AED",n.CURRENCY_ALL="CURRENCY_ALL",n.CURRENCY_ARS="CURRENCY_ARS",n.CURRENCY_AUD="CURRENCY_AUD",n.CURRENCY_BDT="CURRENCY_BDT",n.CURRENCY_BGN="CURRENCY_BGN",n.CURRENCY_BOB="CURRENCY_BOB",n.CURRENCY_BRL="CURRENCY_BRL",n.CURRENCY_CAD="CURRENCY_CAD",n.CURRENCY_CDF="CURRENCY_CDF",n.CURRENCY_CHF="CURRENCY_CHF",n.CURRENCY_CLP="CURRENCY_CLP",n.CURRENCY_CNY="CURRENCY_CNY",n.CURRENCY_COP="CURRENCY_COP",n.CURRENCY_CRC="CURRENCY_CRC",n.CURRENCY_CZK="CURRENCY_CZK",n.CURRENCY_DKK="CURRENCY_DKK",n.CURRENCY_DOP="CURRENCY_DOP",n.CURRENCY_EGP="CURRENCY_EGP",n.CURRENCY_ETB="CURRENCY_ETB",n.CURRENCY_EUR="CURRENCY_EUR",n.CURRENCY_GBP="CURRENCY_GBP",n.CURRENCY_HKD="CURRENCY_HKD",n.CURRENCY_HRK="CURRENCY_HRK",n.CURRENCY_HUF="CURRENCY_HUF",n.CURRENCY_IDR="CURRENCY_IDR",n.CURRENCY_ILS="CURRENCY_ILS",n.CURRENCY_INR="CURRENCY_INR",n.CURRENCY_IRR="CURRENCY_IRR",n.CURRENCY_ISK="CURRENCY_ISK",n.CURRENCY_JMD="CURRENCY_JMD",n.CURRENCY_JPY="CURRENCY_JPY",n.CURRENCY_KRW="CURRENCY_KRW",n.CURRENCY_LKR="CURRENCY_LKR",n.CURRENCY_LTL="CURRENCY_LTL",n.CURRENCY_MNT="CURRENCY_MNT",n.CURRENCY_MVR="CURRENCY_MVR",n.CURRENCY_MXN="CURRENCY_MXN",n.CURRENCY_MYR="CURRENCY_MYR",n.CURRENCY_NOK="CURRENCY_NOK",n.CURRENCY_NZD="CURRENCY_NZD",n.CURRENCY_PAB="CURRENCY_PAB",n.CURRENCY_PEN="CURRENCY_PEN",n.CURRENCY_PHP="CURRENCY_PHP",n.CURRENCY_PKR="CURRENCY_PKR",n.CURRENCY_PLN="CURRENCY_PLN",n.CURRENCY_RON="CURRENCY_RON",n.CURRENCY_RSD="CURRENCY_RSD",n.CURRENCY_RUB="CURRENCY_RUB",n.CURRENCY_SAR="CURRENCY_SAR",n.CURRENCY_SEK="CURRENCY_SEK",n.CURRENCY_SGD="CURRENCY_SGD",n.CURRENCY_THB="CURRENCY_THB",n.CURRENCY_TRY="CURRENCY_TRY",n.CURRENCY_TWD="CURRENCY_TWD",n.CURRENCY_TZS="CURRENCY_TZS",n.CURRENCY_UAH="CURRENCY_UAH",n.CURRENCY_USD="CURRENCY_USD",n.CURRENCY_UYU="CURRENCY_UYU",n.CURRENCY_VEF="CURRENCY_VEF",n.CURRENCY_VND="CURRENCY_VND",n.CURRENCY_YER="CURRENCY_YER",n.CURRENCY_ZAR="CURRENCY_ZAR",(E=R.TableType||(R.TableType={})).DEFAULT="DEFAULT",E.COMPARISON="COMPARISON",E.SUMMARY="SUMMARY",(r=R.ConfigDataElementType||(R.ConfigDataElementType={})).METRIC="METRIC",r.DIMENSION="DIMENSION",r.MAX_RESULTS="MAX_RESULTS",(o=R.ConfigStyleElementType||(R.ConfigStyleElementType={})).TEXTINPUT="TEXTINPUT",o.SELECT_SINGLE="SELECT_SINGLE",o.CHECKBOX="CHECKBOX",o.FONT_COLOR="FONT_COLOR",o.FONT_SIZE="FONT_SIZE",o.FONT_FAMILY="FONT_FAMILY",o.FILL_COLOR="FILL_COLOR",o.BORDER_COLOR="BORDER_COLOR",o.AXIS_COLOR="AXIS_COLOR",o.GRID_COLOR="GRID_COLOR",o.OPACITY="OPACITY",o.LINE_WEIGHT="LINE_WEIGHT",o.LINE_STYLE="LINE_STYLE",o.BORDER_RADIUS="BORDER_RADIUS",o.INTERVAL="INTERVAL",o.SELECT_RADIO="SELECT_RADIO",(R.DSInteractionType||(R.DSInteractionType={})).FILTER="FILTER",(N=R.ToDSMessageType||(R.ToDSMessageType={})).VIZ_READY="vizReady",N.INTERACTION="vizAction",(R.InteractionType||(R.InteractionType={})).FILTER="FILTER"}},n.c=t,n.d=function(e,R,C){n.o(e,R)||Object.defineProperty(e,R,{enumerable:!0,get:C})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(R,e){if(1&e&&(R=n(R)),8&e)return R;if(4&e&&"object"==typeof R&&R&&R.__esModule)return R;var C=Object.create(null);if(n.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:R}),2&e&&"string"!=typeof R)for(var t in R)n.d(C,t,function(e){return R[e]}.bind(null,t));return C},n.n=function(e){var R=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(R,"a",R),R},n.o=function(e,R){return Object.prototype.hasOwnProperty.call(e,R)},n.p="",n(n.s="./src/index.ts");function n(e){if(t[e])return t[e].exports;var R=t[e]={i:e,l:!1,exports:{}};return C[e].call(R.exports,R,R.exports,n),R.l=!0,R.exports}var C,t});
;
(()=>{var cv=Object.defineProperty;var lv=(t,e)=>{for(var n in e)cv(t,n,{get:e[n],enumerable:!0})};var Bp={};lv(Bp,{Adder:()=>gt,Delaunay:()=>Ki,FormatSpecifier:()=>ta,InternMap:()=>Ce,InternSet:()=>fe,Node:()=>nn,Path:()=>Mn,Voronoi:()=>Ir,ZoomTransform:()=>Ee,active:()=>Jm,arc:()=>o_,area:()=>Es,areaRadial:()=>Pp,ascending:()=>ot,autoType:()=>El,axisBottom:()=>xd,axisLeft:()=>bd,axisRight:()=>gd,axisTop:()=>md,bin:()=>Qa,bisect:()=>ae,bisectCenter:()=>Wp,bisectLeft:()=>Vp,bisectRight:()=>rc,bisector:()=>qn,blob:()=>W1,blur:()=>Gp,blur2:()=>Ga,blurImage:()=>Zp,brush:()=>s1,brushSelection:()=>a1,brushX:()=>f1,brushY:()=>u1,buffer:()=>G1,chord:()=>l1,chordDirected:()=>p1,chordTranspose:()=>h1,cluster:()=>a2,color:()=>ye,contourDensity:()=>A1,contours:()=>Gi,count:()=>pn,create:()=>u0,creator:()=>Fn,cross:()=>ic,csv:()=>j1,csvFormat:()=>F1,csvFormatBody:()=>D1,csvFormatRow:()=>$1,csvFormatRows:()=>L1,csvFormatValue:()=>Y1,csvParse:()=>Wf,csvParseRows:()=>O1,cubehelix:()=>Wt,cumsum:()=>ac,curveBasis:()=>b_,curveBasisClosed:()=>__,curveBasisOpen:()=>w_,curveBumpX:()=>Rs,curveBumpY:()=>Is,curveBundle:()=>S_,curveCardinal:()=>T_,curveCardinalClosed:()=>A_,curveCardinalOpen:()=>k_,curveCatmullRom:()=>N_,curveCatmullRomClosed:()=>R_,curveCatmullRomOpen:()=>P_,curveLinear:()=>ur,curveLinearClosed:()=>O_,curveMonotoneX:()=>U_,curveMonotoneY:()=>B_,curveNatural:()=>X_,curveStep:()=>V_,curveStepAfter:()=>G_,curveStepBefore:()=>W_,descending:()=>di,deviation:()=>gi,difference:()=>Cc,disjoint:()=>Rc,dispatch:()=>be,drag:()=>h0,dragDisable:()=>$n,dragEnable:()=>Yn,dsv:()=>Nl,dsvFormat:()=>jn,easeBack:()=>fl,easeBackIn:()=>Gm,easeBackInOut:()=>fl,easeBackOut:()=>Zm,easeBounce:()=>Eo,easeBounceIn:()=>Vm,easeBounceInOut:()=>Wm,easeBounceOut:()=>Eo,easeCircle:()=>ol,easeCircleIn:()=>Hm,easeCircleInOut:()=>ol,easeCircleOut:()=>Xm,easeCubic:()=>Hi,easeCubicIn:()=>qm,easeCubicInOut:()=>Hi,easeCubicOut:()=>Om,easeElastic:()=>cl,easeElasticIn:()=>jm,easeElasticInOut:()=>Qm,easeElasticOut:()=>cl,easeExp:()=>rl,easeExpIn:()=>Bm,easeExpInOut:()=>rl,easeExpOut:()=>zm,easeLinear:()=>Rm,easePoly:()=>el,easePolyIn:()=>Fm,easePolyInOut:()=>el,easePolyOut:()=>Dm,easeQuad:()=>Jc,easeQuadIn:()=>Im,easeQuadInOut:()=>Jc,easeQuadOut:()=>Pm,easeSin:()=>nl,easeSinIn:()=>Ym,easeSinInOut:()=>nl,easeSinOut:()=>Um,every:()=>Sc,extent:()=>dn,fcumsum:()=>Kp,filter:()=>Ac,flatGroup:()=>rd,flatRollup:()=>od,forceCenter:()=>rg,forceCollide:()=>wg,forceLink:()=>Sg,forceManyBody:()=>Ng,forceRadial:()=>Cg,forceSimulation:()=>Eg,forceX:()=>Rg,forceY:()=>Ig,format:()=>Dr,formatDefaultLocale:()=>Qf,formatLocale:()=>Zf,formatPrefix:()=>ea,formatSpecifier:()=>Fe,fsum:()=>Qp,geoAlbers:()=>Ou,geoAlbersUsa:()=>Vx,geoArea:()=>Vg,geoAzimuthalEqualArea:()=>Wx,geoAzimuthalEqualAreaRaw:()=>Du,geoAzimuthalEquidistant:()=>Gx,geoAzimuthalEquidistantRaw:()=>Lu,geoBounds:()=>tx,geoCentroid:()=>ax,geoCircle:()=>lx,geoClipAntimeridian:()=>la,geoClipCircle:()=>vu,geoClipExtent:()=>dx,geoClipRectangle:()=>Nn,geoConicConformal:()=>jx,geoConicConformalRaw:()=>gh,geoConicEqualArea:()=>Xr,geoConicEqualAreaRaw:()=>dh,geoConicEquidistant:()=>Kx,geoConicEquidistantRaw:()=>xh,geoContains:()=>vx,geoDistance:()=>Bo,geoEqualEarth:()=>Jx,geoEqualEarthRaw:()=>Uu,geoEquirectangular:()=>Qx,geoEquirectangularRaw:()=>Wr,geoGnomonic:()=>t2,geoGnomonicRaw:()=>Bu,geoGraticule:()=>ku,geoGraticule10:()=>Sx,geoIdentity:()=>e2,geoInterpolate:()=>Tx,geoLength:()=>Tu,geoMercator:()=>Zx,geoMercatorRaw:()=>Vr,geoNaturalEarth1:()=>n2,geoNaturalEarth1Raw:()=>zu,geoOrthographic:()=>r2,geoOrthographicRaw:()=>Hu,geoPath:()=>Ux,geoProjection:()=>Rt,geoProjectionMutator:()=>ba,geoRotation:()=>mu,geoStereographic:()=>o2,geoStereographicRaw:()=>Xu,geoStream:()=>Ut,geoTransform:()=>Bx,geoTransverseMercator:()=>i2,geoTransverseMercatorRaw:()=>Vu,gray:()=>E0,greatest:()=>wi,greatestIndex:()=>yc,group:()=>xi,groupSort:()=>cc,groups:()=>uc,hcl:()=>wo,hierarchy:()=>Ma,histogram:()=>Qa,hsl:()=>_o,html:()=>eg,image:()=>K1,index:()=>id,indexes:()=>ad,interpolate:()=>Gt,interpolateArray:()=>Y0,interpolateBasis:()=>bf,interpolateBasisClosed:()=>yf,interpolateBlues:()=>$y,interpolateBrBG:()=>by,interpolateBuGn:()=>ky,interpolateBuPu:()=>Ey,interpolateCividis:()=>Xy,interpolateCool:()=>Gy,interpolateCubehelix:()=>em,interpolateCubehelixDefault:()=>Vy,interpolateCubehelixLong:()=>Mr,interpolateDate:()=>wf,interpolateDiscrete:()=>U0,interpolateGnBu:()=>Ny,interpolateGreens:()=>Yy,interpolateGreys:()=>Uy,interpolateHcl:()=>K0,interpolateHclLong:()=>J0,interpolateHsl:()=>Z0,interpolateHslLong:()=>j0,interpolateHue:()=>B0,interpolateInferno:()=>t_,interpolateLab:()=>jc,interpolateMagma:()=>Jy,interpolateNumber:()=>$t,interpolateNumberArray:()=>So,interpolateObject:()=>Mf,interpolateOrRd:()=>Cy,interpolateOranges:()=>Hy,interpolatePRGn:()=>yy,interpolatePiYG:()=>_y,interpolatePlasma:()=>e_,interpolatePuBu:()=>Iy,interpolatePuBuGn:()=>Ry,interpolatePuOr:()=>vy,interpolatePuRd:()=>Py,interpolatePurples:()=>By,interpolateRainbow:()=>Zy,interpolateRdBu:()=>wy,interpolateRdGy:()=>My,interpolateRdPu:()=>qy,interpolateRdYlBu:()=>Sy,interpolateRdYlGn:()=>Ty,interpolateReds:()=>zy,interpolateRgb:()=>Hn,interpolateRgbBasis:()=>_f,interpolateRgbBasisClosed:()=>$0,interpolateRound:()=>Xn,interpolateSinebow:()=>jy,interpolateSpectral:()=>Ay,interpolateString:()=>To,interpolateTransformCss:()=>Af,interpolateTransformSvg:()=>kf,interpolateTurbo:()=>Qy,interpolateViridis:()=>Ky,interpolateWarm:()=>Wy,interpolateYlGn:()=>Fy,interpolateYlGnBu:()=>Oy,interpolateYlOrBr:()=>Dy,interpolateYlOrRd:()=>Ly,interpolateZoom:()=>Ef,interrupt:()=>qe,intersection:()=>Ic,interval:()=>am,isoFormat:()=>ry,isoParse:()=>oy,json:()=>J1,lab:()=>vr,lch:()=>C0,least:()=>bc,leastIndex:()=>Mi,line:()=>ii,lineRadial:()=>Ip,link:()=>Ua,linkHorizontal:()=>h_,linkRadial:()=>d_,linkVertical:()=>p_,local:()=>uf,map:()=>kc,matcher:()=>xo,max:()=>xn,maxIndex:()=>pr,mean:()=>pc,median:()=>dc,medianIndex:()=>cd,merge:()=>gr,min:()=>On,minIndex:()=>dr,mode:()=>mc,namespace:()=>Xe,namespaces:()=>ki,nice:()=>lr,now:()=>Vn,pack:()=>R2,packEnclose:()=>w2,packSiblings:()=>E2,pairs:()=>gc,partition:()=>I2,path:()=>Wi,pathRound:()=>m1,permute:()=>bi,pie:()=>s_,piecewise:()=>Fi,pointRadial:()=>so,pointer:()=>Lt,pointers:()=>s0,polygonArea:()=>U2,polygonCentroid:()=>B2,polygonContains:()=>V2,polygonHull:()=>X2,polygonLength:()=>W2,precisionFixed:()=>Kf,precisionPrefix:()=>Jf,precisionRound:()=>tu,quadtree:()=>Qn,quantile:()=>He,quantileIndex:()=>Ja,quantileSorted:()=>Ka,quantize:()=>nm,quickselect:()=>mr,radialArea:()=>Pp,radialLine:()=>Ip,randomBates:()=>Q2,randomBernoulli:()=>tb,randomBeta:()=>ts,randomBinomial:()=>es,randomCauchy:()=>nb,randomExponential:()=>K2,randomGamma:()=>ti,randomGeometric:()=>Ju,randomInt:()=>Z2,randomIrwinHall:()=>Ku,randomLcg:()=>Ch,randomLogNormal:()=>j2,randomLogistic:()=>rb,randomNormal:()=>Jo,randomPareto:()=>J2,randomPoisson:()=>ob,randomUniform:()=>G2,randomWeibull:()=>eb,range:()=>xe,rank:()=>xc,reduce:()=>Ec,reverse:()=>Nc,rgb:()=>_n,ribbon:()=>y1,ribbonArrow:()=>_1,rollup:()=>Za,rollups:()=>sc,scaleBand:()=>Ta,scaleDiverging:()=>ws,scaleDivergingLog:()=>ep,scaleDivergingPow:()=>Ms,scaleDivergingSqrt:()=>ay,scaleDivergingSymlog:()=>np,scaleIdentity:()=>os,scaleImplicit:()=>ns,scaleLinear:()=>rs,scaleLog:()=>is,scaleOrdinal:()=>ei,scalePoint:()=>fb,scalePow:()=>Ra,scaleQuantile:()=>us,scaleQuantize:()=>ss,scaleRadial:()=>fs,scaleSequential:()=>bs,scaleSequentialLog:()=>Jh,scaleSequentialPow:()=>ys,scaleSequentialQuantile:()=>_s,scaleSequentialSqrt:()=>iy,scaleSequentialSymlog:()=>tp,scaleSqrt:()=>mb,scaleSymlog:()=>as,scaleThreshold:()=>cs,scaleTime:()=>Qh,scaleUtc:()=>Kh,scan:()=>_c,schemeAccent:()=>uy,schemeBlues:()=>Sp,schemeBrBG:()=>rp,schemeBuGn:()=>hp,schemeBuPu:()=>pp,schemeCategory10:()=>fy,schemeDark2:()=>sy,schemeGnBu:()=>dp,schemeGreens:()=>Tp,schemeGreys:()=>Ap,schemeObservable10:()=>cy,schemeOrRd:()=>mp,schemeOranges:()=>Np,schemePRGn:()=>op,schemePaired:()=>ly,schemePastel1:()=>hy,schemePastel2:()=>py,schemePiYG:()=>ip,schemePuBu:()=>xp,schemePuBuGn:()=>gp,schemePuOr:()=>ap,schemePuRd:()=>bp,schemePurples:()=>kp,schemeRdBu:()=>fp,schemeRdGy:()=>up,schemeRdPu:()=>yp,schemeRdYlBu:()=>sp,schemeRdYlGn:()=>cp,schemeReds:()=>Ep,schemeSet1:()=>dy,schemeSet2:()=>my,schemeSet3:()=>gy,schemeSpectral:()=>lp,schemeTableau10:()=>xy,schemeYlGn:()=>vp,schemeYlGnBu:()=>_p,schemeYlOrBr:()=>wp,schemeYlOrRd:()=>Mp,select:()=>Et,selectAll:()=>c0,selection:()=>Ve,selector:()=>Dn,selectorAll:()=>go,shuffle:()=>ld,shuffler:()=>vc,some:()=>Tc,sort:()=>mo,stack:()=>Z_,stackOffsetDiverging:()=>Q_,stackOffsetExpand:()=>j_,stackOffsetNone:()=>Be,stackOffsetSilhouette:()=>K_,stackOffsetWiggle:()=>J_,stackOrderAppearance:()=>Zs,stackOrderAscending:()=>js,stackOrderDescending:()=>tv,stackOrderInsideOut:()=>ev,stackOrderNone:()=>ze,stackOrderReverse:()=>nv,stratify:()=>O2,style:()=>bn,subset:()=>Pc,sum:()=>wc,superset:()=>Ti,svg:()=>ng,symbol:()=>Lp,symbolAsterisk:()=>Ps,symbolCircle:()=>ui,symbolCross:()=>qs,symbolDiamond:()=>Os,symbolDiamond2:()=>Fs,symbolPlus:()=>Ds,symbolSquare:()=>Ls,symbolSquare2:()=>$s,symbolStar:()=>Ys,symbolTimes:()=>Ba,symbolTriangle:()=>Us,symbolTriangle2:()=>Bs,symbolWye:()=>zs,symbolX:()=>Ba,symbols:()=>Dp,symbolsFill:()=>Dp,symbolsStroke:()=>x_,text:()=>Or,thresholdFreedmanDiaconis:()=>lc,thresholdScott:()=>hc,thresholdSturges:()=>hr,tickFormat:()=>Aa,tickIncrement:()=>Re,tickStep:()=>cr,ticks:()=>ue,timeDay:()=>fn,timeDays:()=>vb,timeFormat:()=>La,timeFormatDefaultLocale:()=>ms,timeFormatLocale:()=>Da,timeFriday:()=>$h,timeFridays:()=>Nb,timeHour:()=>to,timeHours:()=>yb,timeInterval:()=>xt,timeMillisecond:()=>ir,timeMilliseconds:()=>Oh,timeMinute:()=>Qr,timeMinutes:()=>xb,timeMonday:()=>ro,timeMondays:()=>Tb,timeMonth:()=>ao,timeMonths:()=>Db,timeParse:()=>Zh,timeSaturday:()=>Yh,timeSaturdays:()=>Cb,timeSecond:()=>me,timeSeconds:()=>Fh,timeSunday:()=>un,timeSundays:()=>Uh,timeThursday:()=>Rn,timeThursdays:()=>Eb,timeTickInterval:()=>ds,timeTicks:()=>ps,timeTuesday:()=>Dh,timeTuesdays:()=>Ab,timeWednesday:()=>Lh,timeWednesdays:()=>kb,timeWeek:()=>un,timeWeeks:()=>Uh,timeYear:()=>le,timeYears:()=>$b,timeout:()=>Ui,timer:()=>Ar,timerFlush:()=>Kc,transition:()=>Lf,transpose:()=>Si,tree:()=>F2,treemap:()=>D2,treemapBinary:()=>L2,treemapDice:()=>rn,treemapResquarify:()=>Y2,treemapSlice:()=>rr,treemapSliceDice:()=>$2,treemapSquarify:()=>Qu,tsv:()=>Q1,tsvFormat:()=>B1,tsvFormatBody:()=>z1,tsvFormatRow:()=>X1,tsvFormatRows:()=>H1,tsvFormatValue:()=>V1,tsvParse:()=>Gf,tsvParseRows:()=>U1,union:()=>qc,unixDay:()=>Pa,unixDays:()=>Mb,utcDay:()=>ar,utcDays:()=>wb,utcFormat:()=>uo,utcFriday:()=>Hh,utcFridays:()=>Ob,utcHour:()=>eo,utcHours:()=>_b,utcMillisecond:()=>ir,utcMilliseconds:()=>Oh,utcMinute:()=>Kr,utcMinutes:()=>bb,utcMonday:()=>io,utcMondays:()=>Rb,utcMonth:()=>fo,utcMonths:()=>Lb,utcParse:()=>$a,utcSaturday:()=>Xh,utcSaturdays:()=>Fb,utcSecond:()=>me,utcSeconds:()=>Fh,utcSunday:()=>sn,utcSundays:()=>Vh,utcThursday:()=>In,utcThursdays:()=>qb,utcTickInterval:()=>hs,utcTicks:()=>ls,utcTuesday:()=>Bh,utcTuesdays:()=>Ib,utcWednesday:()=>zh,utcWednesdays:()=>Pb,utcWeek:()=>sn,utcWeeks:()=>Vh,utcYear:()=>he,utcYears:()=>Yb,variance:()=>mi,window:()=>bo,xml:()=>tg,zip:()=>Mc,zoom:()=>ov,zoomIdentity:()=>li,zoomTransform:()=>Qs});function ot(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function di(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qn(t){let e,n,r;t.length!==2?(e=ot,n=(f,s)=>ot(t(f),s),r=(f,s)=>t(f)-s):(e=t===ot||t===di?t:hv,n=t,r=t);function o(f,s,u=0,c=f.length){if(u<c){if(e(s,s)!==0)return c;do{let h=u+c>>>1;n(f[h],s)<0?u=h+1:c=h}while(u<c)}return u}function i(f,s,u=0,c=f.length){if(u<c){if(e(s,s)!==0)return c;do{let h=u+c>>>1;n(f[h],s)<=0?u=h+1:c=h}while(u<c)}return u}function a(f,s,u=0,c=f.length){let h=o(f,s,u,c-1);return h>u&&r(f[h-1],s)>-r(f[h],s)?h-1:h}return{left:o,center:a,right:i}}function hv(){return 0}function sr(t){return t===null?NaN:+t}function*Hp(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}var Xp=qn(ot),rc=Xp.right,Vp=Xp.left,Wp=qn(sr).center,ae=rc;function Gp(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;let r=oc(e),o=t.slice();return r(t,o,0,n,1),r(o,t,0,n,1),r(t,o,0,n,1),t}var Ga=jp(oc),Zp=jp(pv);function jp(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:o,width:i,height:a}=e;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:o.length/i))>=0))throw new RangeError("invalid height");if(!i||!a||!n&&!r)return e;let f=n&&t(n),s=r&&t(r),u=o.slice();return f&&s?(lo(f,u,o,i,a),lo(f,o,u,i,a),lo(f,u,o,i,a),ho(s,o,u,i,a),ho(s,u,o,i,a),ho(s,o,u,i,a)):f?(lo(f,o,u,i,a),lo(f,u,o,i,a),lo(f,o,u,i,a)):s&&(ho(s,o,u,i,a),ho(s,u,o,i,a),ho(s,o,u,i,a)),e}}function lo(t,e,n,r,o){for(let i=0,a=r*o;i<a;)t(e,n,i,i+=r,1)}function ho(t,e,n,r,o){for(let i=0,a=r*o;i<r;++i)t(e,n,i,i+a,r)}function pv(t){let e=oc(t);return(n,r,o,i,a)=>{o<<=2,i<<=2,a<<=2,e(n,r,o+0,i+0,a),e(n,r,o+1,i+1,a),e(n,r,o+2,i+2,a),e(n,r,o+3,i+3,a)}}function oc(t){let e=Math.floor(t);if(e===t)return dv(t);let n=t-e,r=2*t+1;return(o,i,a,f,s)=>{if(!((f-=s)>=a))return;let u=e*i[a],c=s*e,h=c+s;for(let l=a,p=a+c;l<p;l+=s)u+=i[Math.min(f,l)];for(let l=a,p=f;l<=p;l+=s)u+=i[Math.min(f,l+c)],o[l]=(u+n*(i[Math.max(a,l-h)]+i[Math.min(f,l+h)]))/r,u-=i[Math.max(a,l-c)]}}function dv(t){let e=2*t+1;return(n,r,o,i,a)=>{if(!((i-=a)>=o))return;let f=t*r[o],s=a*t;for(let u=o,c=o+s;u<c;u+=a)f+=r[Math.min(i,u)];for(let u=o,c=i;u<=c;u+=a)f+=r[Math.min(i,u+s)],n[u]=f/e,f-=r[Math.max(o,u-s)]}}function pn(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(o=+o)>=o&&++n}return n}function mv(t){return t.length|0}function gv(t){return!(t>0)}function xv(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function bv(t){return e=>t(...e)}function ic(...t){let e=typeof t[t.length-1]=="function"&&bv(t.pop());t=t.map(xv);let n=t.map(mv),r=t.length-1,o=new Array(r+1).fill(0),i=[];if(r<0||n.some(gv))return i;for(;;){i.push(o.map((f,s)=>t[s][f]));let a=r;for(;++o[a]===n[a];){if(a===0)return e?i.map(e):i;o[a--]=0}}}function ac(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?o=>n+=+o||0:o=>n+=+e(o,r++,t)||0)}function mi(t,e){let n=0,r,o=0,i=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-o,o+=r/++n,i+=r*(a-o));else{let a=-1;for(let f of t)(f=e(f,++a,t))!=null&&(f=+f)>=f&&(r=f-o,o+=r/++n,i+=r*(f-o))}if(n>1)return i/(n-1)}function gi(t,e){let n=mi(t,e);return n&&Math.sqrt(n)}function dn(t,e){let n,r;if(e===void 0)for(let o of t)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var gt=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let n=this._partials,r=0;for(let o=0;o<this._n&&o<32;o++){let i=n[o],a=e+i,f=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);f&&(n[r++]=f),e=a}return n[r]=e,this._n=r+1,this}valueOf(){let e=this._partials,n=this._n,r,o,i,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,o=e[--n],a=r+o,i=o-(a-r),!i););n>0&&(i<0&&e[n-1]<0||i>0&&e[n-1]>0)&&(o=i*2,r=a+o,o==r-a&&(a=r))}return a}};function Qp(t,e){let n=new gt;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let o of t)(o=+e(o,++r,t))&&n.add(o)}return+n}function Kp(t,e){let n=new gt,r=-1;return Float64Array.from(t,e===void 0?o=>n.add(+o||0):o=>n.add(+e(o,++r,t)||0))}var Ce=class extends Map{constructor(e,n=ed){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let[r,o]of e)this.set(r,o)}get(e){return super.get(fc(this,e))}has(e){return super.has(fc(this,e))}set(e,n){return super.set(Jp(this,e),n)}delete(e){return super.delete(td(this,e))}},fe=class extends Set{constructor(e,n=ed){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let r of e)this.add(r)}has(e){return super.has(fc(this,e))}add(e){return super.add(Jp(this,e))}delete(e){return super.delete(td(this,e))}};function fc({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function Jp({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function td({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ed(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mn(t){return t}function xi(t,...e){return po(t,mn,mn,e)}function uc(t,...e){return po(t,Array.from,mn,e)}function nd(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(o=>o.pop().map(([i,a])=>[...o,i,a]));return t}function rd(t,...e){return nd(uc(t,...e),e)}function od(t,e,...n){return nd(sc(t,e,...n),n)}function Za(t,e,...n){return po(t,mn,e,n)}function sc(t,e,...n){return po(t,Array.from,e,n)}function id(t,...e){return po(t,mn,fd,e)}function ad(t,...e){return po(t,Array.from,fd,e)}function fd(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function po(t,e,n,r){return(function o(i,a){if(a>=r.length)return n(i);let f=new Ce,s=r[a++],u=-1;for(let c of i){let h=s(c,++u,i),l=f.get(h);l?l.push(c):f.set(h,[c])}for(let[c,h]of f)f.set(c,o(h,a));return e(f)})(t,0)}function bi(t,e){return Array.from(e,n=>t[n])}function mo(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){let r=Uint32Array.from(t,(o,i)=>i);return e.length>1?(e=e.map(o=>t.map(o)),r.sort((o,i)=>{for(let a of e){let f=gn(a[o],a[i]);if(f)return f}})):(n=t.map(n),r.sort((o,i)=>gn(n[o],n[i]))),bi(t,r)}return t.sort(yi(n))}function yi(t=ot){if(t===ot)return gn;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gn(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function cc(t,e,n){return(e.length!==2?mo(Za(t,e,n),(([r,o],[i,a])=>ot(o,a)||ot(r,i))):mo(xi(t,n),(([r,o],[i,a])=>e(o,a)||ot(r,i)))).map(([r])=>r)}var ud=Array.prototype,sd=ud.slice,U7=ud.map;function _i(t){return()=>t}var yv=Math.sqrt(50),_v=Math.sqrt(10),vv=Math.sqrt(2);function ja(t,e,n){let r=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=yv?10:i>=_v?5:i>=vv?2:1,f,s,u;return o<0?(u=Math.pow(10,-o)/a,f=Math.round(t*u),s=Math.round(e*u),f/u<t&&++f,s/u>e&&--s,u=-u):(u=Math.pow(10,o)*a,f=Math.round(t/u),s=Math.round(e/u),f*u<t&&++f,s*u>e&&--s),s<f&&.5<=n&&n<2?ja(t,e,n*2):[f,s,u]}function ue(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let r=e<t,[o,i,a]=r?ja(e,t,n):ja(t,e,n);if(!(i>=o))return[];let f=i-o+1,s=new Array(f);if(r)if(a<0)for(let u=0;u<f;++u)s[u]=(i-u)/-a;else for(let u=0;u<f;++u)s[u]=(i-u)*a;else if(a<0)for(let u=0;u<f;++u)s[u]=(o+u)/-a;else for(let u=0;u<f;++u)s[u]=(o+u)*a;return s}function Re(t,e,n){return e=+e,t=+t,n=+n,ja(t,e,n)[2]}function cr(t,e,n){e=+e,t=+t,n=+n;let r=e<t,o=r?Re(e,t,n):Re(t,e,n);return(r?-1:1)*(o<0?1/-o:o)}function lr(t,e,n){let r;for(;;){let o=Re(t,e,n);if(o===r||o===0||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),r=o}}function hr(t){return Math.max(1,Math.ceil(Math.log(pn(t))/Math.LN2)+1)}function Qa(){var t=mn,e=dn,n=hr;function r(o){Array.isArray(o)||(o=Array.from(o));var i,a=o.length,f,s,u=new Array(a);for(i=0;i<a;++i)u[i]=t(o[i],i,o);var c=e(u),h=c[0],l=c[1],p=n(u,h,l);if(!Array.isArray(p)){let y=l,b=+p;if(e===dn&&([h,l]=lr(h,l,b)),p=ue(h,l,b),p[0]<=h&&(s=Re(h,l,b)),p[p.length-1]>=l)if(y>=l&&e===dn){let v=Re(h,l,b);isFinite(v)&&(v>0?l=(Math.floor(l/v)+1)*v:v<0&&(l=(Math.ceil(l*-v)+1)/-v))}else p.pop()}for(var m=p.length,g=0,d=m;p[g]<=h;)++g;for(;p[d-1]>l;)--d;(g||d<m)&&(p=p.slice(g,d),m=d-g);var x=new Array(m+1),_;for(i=0;i<=m;++i)_=x[i]=[],_.x0=i>0?p[i-1]:h,_.x1=i<m?p[i]:l;if(isFinite(s)){if(s>0)for(i=0;i<a;++i)(f=u[i])!=null&&h<=f&&f<=l&&x[Math.min(m,Math.floor((f-h)/s))].push(o[i]);else if(s<0){for(i=0;i<a;++i)if((f=u[i])!=null&&h<=f&&f<=l){let y=Math.floor((h-f)*s);x[Math.min(m,y+(p[y]<=f))].push(o[i])}}}else for(i=0;i<a;++i)(f=u[i])!=null&&h<=f&&f<=l&&x[ae(p,f,0,m)].push(o[i]);return x}return r.value=function(o){return arguments.length?(t=typeof o=="function"?o:_i(o),r):t},r.domain=function(o){return arguments.length?(e=typeof o=="function"?o:_i([o[0],o[1]]),r):e},r.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:_i(Array.isArray(o)?sd.call(o):o),r):n},r}function xn(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function pr(t,e){let n,r=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=o);else for(let i of t)(i=e(i,++o,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=o);return r}function On(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function dr(t,e){let n,r=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=o);else for(let i of t)(i=e(i,++o,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=o);return r}function mr(t,e,n=0,r=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(o=o===void 0?gn:yi(o);r>n;){if(r-n>600){let s=r-n+1,u=e-n+1,c=Math.log(s),h=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*h*(s-h)/s)*(u-s/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/s+l)),m=Math.min(r,Math.floor(e+(s-u)*h/s+l));mr(t,e,p,m,o)}let i=t[e],a=n,f=r;for(vi(t,n,e),o(t[r],i)>0&&vi(t,n,r);a<f;){for(vi(t,a,f),++a,--f;o(t[a],i)<0;)++a;for(;o(t[f],i)>0;)--f}o(t[n],i)===0?vi(t,n,f):(++f,vi(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function vi(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function wi(t,e=ot){let n,r=!1;if(e.length===1){let o;for(let i of t){let a=e(i);(r?ot(a,o)>0:ot(a,a)===0)&&(n=i,o=a,r=!0)}}else for(let o of t)(r?e(o,n)>0:e(o,o)===0)&&(n=o,r=!0);return n}function He(t,e,n){if(t=Float64Array.from(Hp(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return On(t);if(e>=1)return xn(t);var r,o=(r-1)*e,i=Math.floor(o),a=xn(mr(t,i).subarray(0,i+1)),f=On(t.subarray(i+1));return a+(f-a)*(o-i)}}function Ka(t,e,n=sr){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,i=Math.floor(o),a=+n(t[i],i,t),f=+n(t[i+1],i+1,t);return a+(f-a)*(o-i)}}function Ja(t,e,n=sr){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(f,s)=>sr(n(t[s],s,t))),e<=0)return dr(r);if(e>=1)return pr(r);var r,o=Uint32Array.from(t,(f,s)=>s),i=r.length-1,a=Math.floor(i*e);return mr(o,a,0,i,(f,s)=>gn(r[f],r[s])),a=wi(o.subarray(0,a+1),f=>r[f]),a>=0?a:-1}}function lc(t,e,n){let r=pn(t),o=He(t,.75)-He(t,.25);return r&&o?Math.ceil((n-e)/(2*o*Math.pow(r,-1/3))):1}function hc(t,e,n){let r=pn(t),o=gi(t);return r&&o?Math.ceil((n-e)*Math.cbrt(r)/(3.49*o)):1}function pc(t,e){let n=0,r=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++n,r+=o);else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function dc(t,e){return He(t,.5,e)}function cd(t,e){return Ja(t,.5,e)}function*wv(t){for(let e of t)yield*e}function gr(t){return Array.from(wv(t))}function mc(t,e){let n=new Ce;if(e===void 0)for(let i of t)i!=null&&i>=i&&n.set(i,(n.get(i)||0)+1);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,o=0;for(let[i,a]of n)a>o&&(o=a,r=i);return r}function gc(t,e=Mv){let n=[],r,o=!1;for(let i of t)o&&n.push(e(r,i)),r=i,o=!0;return n}function Mv(t,e){return[t,e]}function xe(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(o);++r<o;)i[r]=t+r*n;return i}function xc(t,e=ot){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t),r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=ot);let o=(f,s)=>e(n[f],n[s]),i,a;return t=Uint32Array.from(n,(f,s)=>s),t.sort(e===ot?(f,s)=>gn(n[f],n[s]):yi(o)),t.forEach((f,s)=>{let u=o(f,i===void 0?f:i);u>=0?((i===void 0||u>0)&&(i=f,a=s),r[f]=a):r[f]=NaN}),r}function bc(t,e=ot){let n,r=!1;if(e.length===1){let o;for(let i of t){let a=e(i);(r?ot(a,o)<0:ot(a,a)===0)&&(n=i,o=a,r=!0)}}else for(let o of t)(r?e(o,n)<0:e(o,o)===0)&&(n=o,r=!0);return n}function Mi(t,e=ot){if(e.length===1)return dr(t,e);let n,r=-1,o=-1;for(let i of t)++o,(r<0?e(i,i)===0:e(i,n)<0)&&(n=i,r=o);return r}function yc(t,e=ot){if(e.length===1)return pr(t,e);let n,r=-1,o=-1;for(let i of t)++o,(r<0?e(i,i)===0:e(i,n)>0)&&(n=i,r=o);return r}function _c(t,e){let n=Mi(t,e);return n<0?void 0:n}var ld=vc(Math.random);function vc(t){return function(n,r=0,o=n.length){let i=o-(r=+r);for(;i;){let a=t()*i--|0,f=n[i+r];n[i+r]=n[a+r],n[a+r]=f}return n}}function wc(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let o of t)(o=+e(o,++r,t))&&(n+=o)}return n}function Si(t){if(!(i=t.length))return[];for(var e=-1,n=On(t,Sv),r=new Array(n);++e<n;)for(var o=-1,i,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function Sv(t){return t.length}function Mc(){return Si(arguments)}function Sc(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(let r of t)if(!e(r,++n,t))return!1;return!0}function Tc(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(let r of t)if(e(r,++n,t))return!0;return!1}function Ac(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=[],r=-1;for(let o of t)e(o,++r,t)&&n.push(o);return n}function kc(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function Ec(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");let r=t[Symbol.iterator](),o,i,a=-1;if(arguments.length<3){if({done:o,value:n}=r.next(),o)return;++a}for(;{done:o,value:i}=r.next(),!o;)n=e(n,i,++a,t);return n}function Nc(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Cc(t,...e){t=new fe(t);for(let n of e)for(let r of n)t.delete(r);return t}function Rc(t,e){let n=e[Symbol.iterator](),r=new fe;for(let o of t){if(r.has(o))return!1;let i,a;for(;({value:i,done:a}=n.next())&&!a;){if(Object.is(o,i))return!1;r.add(i)}}return!0}function Ic(t,...e){t=new fe(t),e=e.map(Tv);t:for(let n of t)for(let r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Tv(t){return t instanceof fe?t:new fe(t)}function Ti(t,e){let n=t[Symbol.iterator](),r=new Set;for(let o of e){let i=hd(o);if(r.has(i))continue;let a,f;for(;{value:a,done:f}=n.next();){if(f)return!1;let s=hd(a);if(r.add(s),Object.is(i,s))break}}return!0}function hd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Pc(t,e){return Ti(e,t)}function qc(...t){let e=new fe;for(let n of t)for(let r of n)e.add(r);return e}function pd(t){return t}var tf=1,ef=2,Oc=3,Ai=4,dd=1e-6;function Av(t){return"translate("+t+",0)"}function kv(t){return"translate(0,"+t+")"}function Ev(t){return e=>+t(e)}function Nv(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Cv(){return!this.__axis}function nf(t,e){var n=[],r=null,o=null,i=6,a=6,f=3,s=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,u=t===tf||t===Ai?-1:1,c=t===Ai||t===ef?"x":"y",h=t===tf||t===Oc?Av:kv;function l(p){var m=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,g=o==null?e.tickFormat?e.tickFormat.apply(e,n):pd:o,d=Math.max(i,0)+f,x=e.range(),_=+x[0]+s,y=+x[x.length-1]+s,b=(e.bandwidth?Nv:Ev)(e.copy(),s),v=p.selection?p.selection():p,w=v.selectAll(".domain").data([null]),k=v.selectAll(".tick").data(m,e).order(),C=k.exit(),N=k.enter().append("g").attr("class","tick"),E=k.select("line"),S=k.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(N),E=E.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*i)),S=S.merge(N.append("text").attr("fill","currentColor").attr(c,u*d).attr("dy",t===tf?"0em":t===Oc?"0.71em":"0.32em")),p!==v&&(w=w.transition(p),k=k.transition(p),E=E.transition(p),S=S.transition(p),C=C.transition(p).attr("opacity",dd).attr("transform",function(P){return isFinite(P=b(P))?h(P+s):this.getAttribute("transform")}),N.attr("opacity",dd).attr("transform",function(P){var R=this.parentNode.__axis;return h((R&&isFinite(R=R(P))?R:b(P))+s)})),C.remove(),w.attr("d",t===Ai||t===ef?a?"M"+u*a+","+_+"H"+s+"V"+y+"H"+u*a:"M"+s+","+_+"V"+y:a?"M"+_+","+u*a+"V"+s+"H"+y+"V"+u*a:"M"+_+","+s+"H"+y),k.attr("opacity",1).attr("transform",function(P){return h(b(P)+s)}),E.attr(c+"2",u*i),S.attr(c,u*d).text(g),v.filter(Cv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ef?"start":t===Ai?"end":"middle"),v.each(function(){this.__axis=b})}return l.scale=function(p){return arguments.length?(e=p,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),l):n.slice()},l.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),l):r&&r.slice()},l.tickFormat=function(p){return arguments.length?(o=p,l):o},l.tickSize=function(p){return arguments.length?(i=a=+p,l):i},l.tickSizeInner=function(p){return arguments.length?(i=+p,l):i},l.tickSizeOuter=function(p){return arguments.length?(a=+p,l):a},l.tickPadding=function(p){return arguments.length?(f=+p,l):f},l.offset=function(p){return arguments.length?(s=+p,l):s},l}function md(t){return nf(tf,t)}function gd(t){return nf(ef,t)}function xd(t){return nf(Oc,t)}function bd(t){return nf(Ai,t)}var Rv={value:()=>{}};function _d(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new rf(n)}function rf(t){this._=t}function Iv(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}rf.prototype=_d.prototype={constructor:rf,on:function(t,e){var n=this._,r=Iv(t+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(t=r[i]).type)&&(o=Pv(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=r[i]).type)n[o]=yd(n[o],t.name,e);else if(e==null)for(o in n)n[o]=yd(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new rf(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};function Pv(t,e){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===e)return o.value}function yd(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=Rv,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var be=_d;var of="http://www.w3.org/1999/xhtml",ki={svg:"http://www.w3.org/2000/svg",xhtml:of,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xe(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ki.hasOwnProperty(e)?{space:ki[e],local:t}:t}function qv(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===of&&e.documentElement.namespaceURI===of?e.createElement(t):e.createElementNS(n,t)}}function Ov(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fn(t){var e=Xe(t);return(e.local?Ov:qv)(e)}function Fv(){}function Dn(t){return t==null?Fv:function(){return this.querySelector(t)}}function vd(t){typeof t!="function"&&(t=Dn(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=new Array(a),s,u,c=0;c<a;++c)(s=i[c])&&(u=t.call(s,s.__data__,c,i))&&("__data__"in s&&(u.__data__=s.__data__),f[c]=u);return new wt(r,this._parents)}function Ei(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Dv(){return[]}function go(t){return t==null?Dv:function(){return this.querySelectorAll(t)}}function Lv(t){return function(){return Ei(t.apply(this,arguments))}}function wd(t){typeof t=="function"?t=Lv(t):t=go(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a=e[i],f=a.length,s,u=0;u<f;++u)(s=a[u])&&(r.push(t.call(s,s.__data__,u,a)),o.push(s));return new wt(r,o)}function xo(t){return function(){return this.matches(t)}}function af(t){return function(e){return e.matches(t)}}var $v=Array.prototype.find;function Yv(t){return function(){return $v.call(this.children,t)}}function Uv(){return this.firstElementChild}function Md(t){return this.select(t==null?Uv:Yv(typeof t=="function"?t:af(t)))}var Bv=Array.prototype.filter;function zv(){return Array.from(this.children)}function Hv(t){return function(){return Bv.call(this.children,t)}}function Sd(t){return this.selectAll(t==null?zv:Hv(typeof t=="function"?t:af(t)))}function Td(t){typeof t!="function"&&(t=xo(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=[],s,u=0;u<a;++u)(s=i[u])&&t.call(s,s.__data__,u,i)&&f.push(s);return new wt(r,this._parents)}function ff(t){return new Array(t.length)}function Ad(){return new wt(this._enter||this._groups.map(ff),this._parents)}function Ni(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ni.prototype={constructor:Ni,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function kd(t){return function(){return t}}function Xv(t,e,n,r,o,i){for(var a=0,f,s=e.length,u=i.length;a<u;++a)(f=e[a])?(f.__data__=i[a],r[a]=f):n[a]=new Ni(t,i[a]);for(;a<s;++a)(f=e[a])&&(o[a]=f)}function Vv(t,e,n,r,o,i,a){var f,s,u=new Map,c=e.length,h=i.length,l=new Array(c),p;for(f=0;f<c;++f)(s=e[f])&&(l[f]=p=a.call(s,s.__data__,f,e)+"",u.has(p)?o[f]=s:u.set(p,s));for(f=0;f<h;++f)p=a.call(t,i[f],f,i)+"",(s=u.get(p))?(r[f]=s,s.__data__=i[f],u.delete(p)):n[f]=new Ni(t,i[f]);for(f=0;f<c;++f)(s=e[f])&&u.get(l[f])===s&&(o[f]=s)}function Wv(t){return t.__data__}function Ed(t,e){if(!arguments.length)return Array.from(this,Wv);var n=e?Vv:Xv,r=this._parents,o=this._groups;typeof t!="function"&&(t=kd(t));for(var i=o.length,a=new Array(i),f=new Array(i),s=new Array(i),u=0;u<i;++u){var c=r[u],h=o[u],l=h.length,p=Gv(t.call(c,c&&c.__data__,u,r)),m=p.length,g=f[u]=new Array(m),d=a[u]=new Array(m),x=s[u]=new Array(l);n(c,h,g,d,x,p,e);for(var _=0,y=0,b,v;_<m;++_)if(b=g[_]){for(_>=y&&(y=_+1);!(v=d[y])&&++y<m;);b._next=v||null}}return a=new wt(a,r),a._enter=f,a._exit=s,a}function Gv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Nd(){return new wt(this._exit||this._groups.map(ff),this._parents)}function Cd(t,e,n){var r=this.enter(),o=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Rd(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),f=new Array(o),s=0;s<a;++s)for(var u=n[s],c=r[s],h=u.length,l=f[s]=new Array(h),p,m=0;m<h;++m)(p=u[m]||c[m])&&(l[m]=p);for(;s<o;++s)f[s]=n[s];return new wt(f,this._parents)}function Id(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function Pd(t){t||(t=Zv);function e(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],f=a.length,s=o[i]=new Array(f),u,c=0;c<f;++c)(u=a[c])&&(s[c]=u);s.sort(e)}return new wt(o,this._parents).order()}function Zv(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function qd(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Od(){return Array.from(this)}function Fd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function Dd(){let t=0;for(let e of this)++t;return t}function Ld(){return!this.node()}function $d(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,a=o.length,f;i<a;++i)(f=o[i])&&t.call(f,f.__data__,i,o);return this}function jv(t){return function(){this.removeAttribute(t)}}function Qv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kv(t,e){return function(){this.setAttribute(t,e)}}function Jv(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function t3(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function e3(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Yd(t,e){var n=Xe(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Qv:jv:typeof e=="function"?n.local?e3:t3:n.local?Jv:Kv)(n,e))}function bo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function n3(t){return function(){this.style.removeProperty(t)}}function r3(t,e,n){return function(){this.style.setProperty(t,e,n)}}function o3(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ud(t,e,n){return arguments.length>1?this.each((e==null?n3:typeof e=="function"?o3:r3)(t,e,n==null?"":n)):bn(this.node(),t)}function bn(t,e){return t.style.getPropertyValue(e)||bo(t).getComputedStyle(t,null).getPropertyValue(e)}function i3(t){return function(){delete this[t]}}function a3(t,e){return function(){this[t]=e}}function f3(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Bd(t,e){return arguments.length>1?this.each((e==null?i3:typeof e=="function"?f3:a3)(t,e)):this.node()[t]}function zd(t){return t.trim().split(/^|\s+/)}function Fc(t){return t.classList||new Hd(t)}function Hd(t){this._node=t,this._names=zd(t.getAttribute("class")||"")}Hd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Xd(t,e){for(var n=Fc(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function Vd(t,e){for(var n=Fc(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function u3(t){return function(){Xd(this,t)}}function s3(t){return function(){Vd(this,t)}}function c3(t,e){return function(){(e.apply(this,arguments)?Xd:Vd)(this,t)}}function Wd(t,e){var n=zd(t+"");if(arguments.length<2){for(var r=Fc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?c3:e?u3:s3)(n,e))}function l3(){this.textContent=""}function h3(t){return function(){this.textContent=t}}function p3(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Gd(t){return arguments.length?this.each(t==null?l3:(typeof t=="function"?p3:h3)(t)):this.node().textContent}function d3(){this.innerHTML=""}function m3(t){return function(){this.innerHTML=t}}function g3(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Zd(t){return arguments.length?this.each(t==null?d3:(typeof t=="function"?g3:m3)(t)):this.node().innerHTML}function x3(){this.nextSibling&&this.parentNode.appendChild(this)}function jd(){return this.each(x3)}function b3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qd(){return this.each(b3)}function Kd(t){var e=typeof t=="function"?t:Fn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function y3(){return null}function Jd(t,e){var n=typeof t=="function"?t:Fn(t),r=e==null?y3:typeof e=="function"?e:Dn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function _3(){var t=this.parentNode;t&&t.removeChild(this)}function t0(){return this.each(_3)}function v3(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function w3(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function e0(t){return this.select(t?w3:v3)}function n0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function M3(t){return function(e){t.call(this,e,this.__data__)}}function S3(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function T3(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,o=e.length,i;n<o;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function A3(t,e,n){return function(){var r=this.__on,o,i=M3(e);if(r){for(var a=0,f=r.length;a<f;++a)if((o=r[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=e;return}}this.addEventListener(t.type,i,n),o={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(o):this.__on=[o]}}function r0(t,e,n){var r=S3(t+""),o,i=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var s=0,u=f.length,c;s<u;++s)for(o=0,c=f[s];o<i;++o)if((a=r[o]).type===c.type&&a.name===c.name)return c.value}return}for(f=e?A3:T3,o=0;o<i;++o)this.each(f(r[o],e,n));return this}function o0(t,e,n){var r=bo(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function k3(t,e){return function(){return o0(this,t,e)}}function E3(t,e){return function(){return o0(this,t,e.apply(this,arguments))}}function i0(t,e){return this.each((typeof e=="function"?E3:k3)(t,e))}function*a0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var Ci=[null];function wt(t,e){this._groups=t,this._parents=e}function f0(){return new wt([[document.documentElement]],Ci)}function N3(){return this}wt.prototype=f0.prototype={constructor:wt,select:vd,selectAll:wd,selectChild:Md,selectChildren:Sd,filter:Td,data:Ed,enter:Ad,exit:Nd,join:Cd,merge:Rd,selection:N3,order:Id,sort:Pd,call:qd,nodes:Od,node:Fd,size:Dd,empty:Ld,each:$d,attr:Yd,style:Ud,property:Bd,classed:Wd,text:Gd,html:Zd,raise:jd,lower:Qd,append:Kd,insert:Jd,remove:t0,clone:e0,datum:n0,on:r0,dispatch:i0,[Symbol.iterator]:a0};var Ve=f0;function Et(t){return typeof t=="string"?new wt([[document.querySelector(t)]],[document.documentElement]):new wt([[t]],Ci)}function u0(t){return Et(Fn(t).call(document.documentElement))}var C3=0;function uf(){return new Dc}function Dc(){this._="@"+(++C3).toString(36)}Dc.prototype=uf.prototype={constructor:Dc,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function sf(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Lt(t,e){if(t=sf(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function s0(t,e){return t.target&&(t=sf(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>Lt(n,e))}function c0(t){return typeof t=="string"?new wt([document.querySelectorAll(t)],[document.documentElement]):new wt([Ei(t)],Ci)}var l0={passive:!1},xr={capture:!0,passive:!1};function cf(t){t.stopImmediatePropagation()}function Ln(t){t.preventDefault(),t.stopImmediatePropagation()}function $n(t){var e=t.document.documentElement,n=Et(t).on("dragstart.drag",Ln,xr);"onselectstart"in e?n.on("selectstart.drag",Ln,xr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Yn(t,e){var n=t.document.documentElement,r=Et(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ln,xr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ri=t=>()=>t;function Ii(t,{sourceEvent:e,subject:n,target:r,identifier:o,active:i,x:a,y:f,dx:s,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Ii.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function R3(t){return!t.ctrlKey&&!t.button}function I3(){return this.parentNode}function P3(t,e){return e==null?{x:t.x,y:t.y}:e}function q3(){return navigator.maxTouchPoints||"ontouchstart"in this}function h0(){var t=R3,e=I3,n=P3,r=q3,o={},i=be("start","drag","end"),a=0,f,s,u,c,h=0;function l(b){b.on("mousedown.drag",p).filter(r).on("touchstart.drag",d).on("touchmove.drag",x,l0).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,v){if(!(c||!t.call(this,b,v))){var w=y(this,e.call(this,b,v),b,v,"mouse");w&&(Et(b.view).on("mousemove.drag",m,xr).on("mouseup.drag",g,xr),$n(b.view),cf(b),u=!1,f=b.clientX,s=b.clientY,w("start",b))}}function m(b){if(Ln(b),!u){var v=b.clientX-f,w=b.clientY-s;u=v*v+w*w>h}o.mouse("drag",b)}function g(b){Et(b.view).on("mousemove.drag mouseup.drag",null),Yn(b.view,u),Ln(b),o.mouse("end",b)}function d(b,v){if(t.call(this,b,v)){var w=b.changedTouches,k=e.call(this,b,v),C=w.length,N,E;for(N=0;N<C;++N)(E=y(this,k,b,v,w[N].identifier,w[N]))&&(cf(b),E("start",b,w[N]))}}function x(b){var v=b.changedTouches,w=v.length,k,C;for(k=0;k<w;++k)(C=o[v[k].identifier])&&(Ln(b),C("drag",b,v[k]))}function _(b){var v=b.changedTouches,w=v.length,k,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),k=0;k<w;++k)(C=o[v[k].identifier])&&(cf(b),C("end",b,v[k]))}function y(b,v,w,k,C,N){var E=i.copy(),S=Lt(N||w,v),P,R,M;if((M=n.call(b,new Ii("beforestart",{sourceEvent:w,target:l,identifier:C,active:a,x:S[0],y:S[1],dx:0,dy:0,dispatch:E}),k))!=null)return P=M.x-S[0]||0,R=M.y-S[1]||0,function A(T,I,F){var q=S,B;switch(T){case"start":o[C]=A,B=a++;break;case"end":delete o[C],--a;case"drag":S=Lt(F||I,v),B=a;break}E.call(T,b,new Ii(T,{sourceEvent:I,subject:M,target:l,identifier:C,active:B,x:S[0]+P,y:S[1]+R,dx:S[0]-q[0],dy:S[1]-q[1],dispatch:E}),k)}}return l.filter=function(b){return arguments.length?(t=typeof b=="function"?b:Ri(!!b),l):t},l.container=function(b){return arguments.length?(e=typeof b=="function"?b:Ri(b),l):e},l.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Ri(b),l):n},l.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Ri(!!b),l):r},l.on=function(){var b=i.on.apply(i,arguments);return b===i?l:b},l.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,l):Math.sqrt(h)},l}function yn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Un(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ge(){}var Bn=.7,_r=1/Bn,yo="\\s*([+-]?\\d+)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",We="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O3=/^#([0-9a-f]{3,8})$/,F3=new RegExp(`^rgb\\(${yo},${yo},${yo}\\)$`),D3=new RegExp(`^rgb\\(${We},${We},${We}\\)$`),L3=new RegExp(`^rgba\\(${yo},${yo},${yo},${Pi}\\)$`),$3=new RegExp(`^rgba\\(${We},${We},${We},${Pi}\\)$`),Y3=new RegExp(`^hsl\\(${Pi},${We},${We}\\)$`),U3=new RegExp(`^hsla\\(${Pi},${We},${We},${Pi}\\)$`),p0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yn(Ge,ye,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:d0,formatHex:d0,formatHex8:B3,formatHsl:z3,formatRgb:m0,toString:m0});function d0(){return this.rgb().formatHex()}function B3(){return this.rgb().formatHex8()}function z3(){return v0(this).formatHsl()}function m0(){return this.rgb().formatRgb()}function ye(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=O3.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?g0(e):n===3?new It(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?lf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?lf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=F3.exec(t))?new It(e[1],e[2],e[3],1):(e=D3.exec(t))?new It(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=L3.exec(t))?lf(e[1],e[2],e[3],e[4]):(e=$3.exec(t))?lf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Y3.exec(t))?y0(e[1],e[2]/100,e[3]/100,1):(e=U3.exec(t))?y0(e[1],e[2]/100,e[3]/100,e[4]):p0.hasOwnProperty(t)?g0(p0[t]):t==="transparent"?new It(NaN,NaN,NaN,0):null}function g0(t){return new It(t>>16&255,t>>8&255,t&255,1)}function lf(t,e,n,r){return r<=0&&(t=e=n=NaN),new It(t,e,n,r)}function qi(t){return t instanceof Ge||(t=ye(t)),t?(t=t.rgb(),new It(t.r,t.g,t.b,t.opacity)):new It}function _n(t,e,n,r){return arguments.length===1?qi(t):new It(t,e,n,r==null?1:r)}function It(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}yn(It,_n,Un(Ge,{brighter(t){return t=t==null?_r:Math.pow(_r,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bn:Math.pow(Bn,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new It(yr(this.r),yr(this.g),yr(this.b),pf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:x0,formatHex:x0,formatHex8:H3,formatRgb:b0,toString:b0}));function x0(){return`#${br(this.r)}${br(this.g)}${br(this.b)}`}function H3(){return`#${br(this.r)}${br(this.g)}${br(this.b)}${br((isNaN(this.opacity)?1:this.opacity)*255)}`}function b0(){let t=pf(this.opacity);return`${t===1?"rgb(":"rgba("}${yr(this.r)}, ${yr(this.g)}, ${yr(this.b)}${t===1?")":`, ${t})`}`}function pf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function br(t){return t=yr(t),(t<16?"0":"")+t.toString(16)}function y0(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ie(t,e,n,r)}function v0(t){if(t instanceof Ie)return new Ie(t.h,t.s,t.l,t.opacity);if(t instanceof Ge||(t=ye(t)),!t)return new Ie;if(t instanceof Ie)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,f=i-o,s=(i+o)/2;return f?(e===i?a=(n-r)/f+(n<r)*6:n===i?a=(r-e)/f+2:a=(e-n)/f+4,f/=s<.5?i+o:2-i-o,a*=60):f=s>0&&s<1?0:a,new Ie(a,f,s,t.opacity)}function _o(t,e,n,r){return arguments.length===1?v0(t):new Ie(t,e,n,r==null?1:r)}function Ie(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yn(Ie,_o,Un(Ge,{brighter(t){return t=t==null?_r:Math.pow(_r,t),new Ie(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bn:Math.pow(Bn,t),new Ie(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new It(Lc(t>=240?t-240:t+120,o,r),Lc(t,o,r),Lc(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new Ie(_0(this.h),hf(this.s),hf(this.l),pf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=pf(this.opacity);return`${t===1?"hsl(":"hsla("}${_0(this.h)}, ${hf(this.s)*100}%, ${hf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _0(t){return t=(t||0)%360,t<0?t+360:t}function hf(t){return Math.max(0,Math.min(1,t||0))}function Lc(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var df=Math.PI/180,mf=180/Math.PI;var gf=18,w0=.96422,M0=1,S0=.82521,T0=4/29,vo=6/29,A0=3*vo*vo,X3=vo*vo*vo;function k0(t){if(t instanceof Pe)return new Pe(t.l,t.a,t.b,t.opacity);if(t instanceof Ze)return R0(t);t instanceof It||(t=qi(t));var e=Bc(t.r),n=Bc(t.g),r=Bc(t.b),o=$c((.2225045*e+.7168786*n+.0606169*r)/M0),i,a;return e===n&&n===r?i=a=o:(i=$c((.4360747*e+.3850649*n+.1430804*r)/w0),a=$c((.0139322*e+.0971045*n+.7141733*r)/S0)),new Pe(116*o-16,500*(i-o),200*(o-a),t.opacity)}function E0(t,e){return new Pe(t,0,0,e==null?1:e)}function vr(t,e,n,r){return arguments.length===1?k0(t):new Pe(t,e,n,r==null?1:r)}function Pe(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}yn(Pe,vr,Un(Ge,{brighter(t){return new Pe(this.l+gf*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new Pe(this.l-gf*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=w0*Yc(e),t=M0*Yc(t),n=S0*Yc(n),new It(Uc(3.1338561*e-1.6168667*t-.4906146*n),Uc(-.9787684*e+1.9161415*t+.033454*n),Uc(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function $c(t){return t>X3?Math.pow(t,1/3):t/A0+T0}function Yc(t){return t>vo?t*t*t:A0*(t-T0)}function Uc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Bc(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function N0(t){if(t instanceof Ze)return new Ze(t.h,t.c,t.l,t.opacity);if(t instanceof Pe||(t=k0(t)),t.a===0&&t.b===0)return new Ze(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*mf;return new Ze(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function C0(t,e,n,r){return arguments.length===1?N0(t):new Ze(n,e,t,r==null?1:r)}function wo(t,e,n,r){return arguments.length===1?N0(t):new Ze(t,e,n,r==null?1:r)}function Ze(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function R0(t){if(isNaN(t.h))return new Pe(t.l,0,0,t.opacity);var e=t.h*df;return new Pe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}yn(Ze,wo,Un(Ge,{brighter(t){return new Ze(this.h,this.c,this.l+gf*(t==null?1:t),this.opacity)},darker(t){return new Ze(this.h,this.c,this.l-gf*(t==null?1:t),this.opacity)},rgb(){return R0(this).rgb()}}));var O0=-.14861,zc=1.78277,Hc=-.29227,xf=-.90649,Oi=1.97294,I0=Oi*xf,P0=Oi*zc,q0=zc*Hc-xf*O0;function V3(t){if(t instanceof wr)return new wr(t.h,t.s,t.l,t.opacity);t instanceof It||(t=qi(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(q0*r+I0*e-P0*n)/(q0+I0-P0),i=r-o,a=(Oi*(n-o)-Hc*i)/xf,f=Math.sqrt(a*a+i*i)/(Oi*o*(1-o)),s=f?Math.atan2(a,i)*mf-120:NaN;return new wr(s<0?s+360:s,f,o,t.opacity)}function Wt(t,e,n,r){return arguments.length===1?V3(t):new wr(t,e,n,r==null?1:r)}function wr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yn(wr,Wt,Un(Ge,{brighter(t){return t=t==null?_r:Math.pow(_r,t),new wr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bn:Math.pow(Bn,t),new wr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*df,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new It(255*(e+n*(O0*r+zc*o)),255*(e+n*(Hc*r+xf*o)),255*(e+n*(Oi*r)),this.opacity)}}));function Xc(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}function bf(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,f=r<e-1?t[r+2]:2*i-o;return Xc((n-r/e)*e,a,o,i,f)}}function yf(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],f=t[(r+2)%e];return Xc((n-r/e)*e,o,i,a,f)}}var Mo=t=>()=>t;function F0(t,e){return function(n){return t+n*e}}function W3(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zn(t,e){var n=e-t;return n?F0(t,n>180||n<-180?n-360*Math.round(n/360):n):Mo(isNaN(t)?e:t)}function D0(t){return(t=+t)==1?Tt:function(e,n){return n-e?W3(e,n,t):Mo(isNaN(e)?n:e)}}function Tt(t,e){var n=e-t;return n?F0(t,n):Mo(isNaN(t)?e:t)}var Hn=(function t(e){var n=D0(e);function r(o,i){var a=n((o=_n(o)).r,(i=_n(i)).r),f=n(o.g,i.g),s=n(o.b,i.b),u=Tt(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=f(c),o.b=s(c),o.opacity=u(c),o+""}}return r.gamma=t,r})(1);function L0(t){return function(e){var n=e.length,r=new Array(n),o=new Array(n),i=new Array(n),a,f;for(a=0;a<n;++a)f=_n(e[a]),r[a]=f.r||0,o[a]=f.g||0,i[a]=f.b||0;return r=t(r),o=t(o),i=t(i),f.opacity=1,function(s){return f.r=r(s),f.g=o(s),f.b=i(s),f+""}}}var _f=L0(bf),$0=L0(yf);function So(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=t[o]*(1-i)+e[o]*i;return r}}function vf(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Y0(t,e){return(vf(e)?So:Vc)(t,e)}function Vc(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=Gt(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(f){for(a=0;a<r;++a)i[a]=o[a](f);return i}}function wf(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mf(t,e){var n={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=Gt(t[o],e[o]):r[o]=e[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Gc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wc=new RegExp(Gc.source,"g");function G3(t){return function(){return t}}function Z3(t){return function(e){return t(e)+""}}function To(t,e){var n=Gc.lastIndex=Wc.lastIndex=0,r,o,i,a=-1,f=[],s=[];for(t=t+"",e=e+"";(r=Gc.exec(t))&&(o=Wc.exec(e));)(i=o.index)>n&&(i=e.slice(n,i),f[a]?f[a]+=i:f[++a]=i),(r=r[0])===(o=o[0])?f[a]?f[a]+=o:f[++a]=o:(f[++a]=null,s.push({i:a,x:$t(r,o)})),n=Wc.lastIndex;return n<e.length&&(i=e.slice(n),f[a]?f[a]+=i:f[++a]=i),f.length<2?s[0]?Z3(s[0].x):G3(e):(e=s.length,function(u){for(var c=0,h;c<e;++c)f[(h=s[c]).i]=h.x(u);return f.join("")})}function Gt(t,e){var n=typeof e,r;return e==null||n==="boolean"?Mo(e):(n==="number"?$t:n==="string"?(r=ye(e))?(e=r,Hn):To:e instanceof ye?Hn:e instanceof Date?wf:vf(e)?So:Array.isArray(e)?Vc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Mf:$t)(t,e)}function U0(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function B0(t,e){var n=zn(+t,+e);return function(r){var o=n(r);return o-360*Math.floor(o/360)}}function Xn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var z0=180/Math.PI,Sf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zc(t,e,n,r,o,i){var a,f,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,s/=f),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*z0,skewX:Math.atan(s)*z0,scaleX:a,scaleY:f}}var Tf;function H0(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Sf:Zc(e.a,e.b,e.c,e.d,e.e,e.f)}function X0(t){return t==null?Sf:(Tf||(Tf=document.createElementNS("http://www.w3.org/2000/svg","g")),Tf.setAttribute("transform",t),(t=Tf.transform.baseVal.consolidate())?(t=t.matrix,Zc(t.a,t.b,t.c,t.d,t.e,t.f)):Sf)}function V0(t,e,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,h,l,p,m){if(u!==h||c!==l){var g=p.push("translate(",null,e,null,n);m.push({i:g-4,x:$t(u,h)},{i:g-2,x:$t(c,l)})}else(h||l)&&p.push("translate("+h+e+l+n)}function a(u,c,h,l){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),l.push({i:h.push(o(h)+"rotate(",null,r)-2,x:$t(u,c)})):c&&h.push(o(h)+"rotate("+c+r)}function f(u,c,h,l){u!==c?l.push({i:h.push(o(h)+"skewX(",null,r)-2,x:$t(u,c)}):c&&h.push(o(h)+"skewX("+c+r)}function s(u,c,h,l,p,m){if(u!==h||c!==l){var g=p.push(o(p)+"scale(",null,",",null,")");m.push({i:g-4,x:$t(u,h)},{i:g-2,x:$t(c,l)})}else(h!==1||l!==1)&&p.push(o(p)+"scale("+h+","+l+")")}return function(u,c){var h=[],l=[];return u=t(u),c=t(c),i(u.translateX,u.translateY,c.translateX,c.translateY,h,l),a(u.rotate,c.rotate,h,l),f(u.skewX,c.skewX,h,l),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,l),u=c=null,function(p){for(var m=-1,g=l.length,d;++m<g;)h[(d=l[m]).i]=d.x(p);return h.join("")}}}var Af=V0(H0,"px, ","px)","deg)"),kf=V0(X0,", ",")",")");var j3=1e-12;function W0(t){return((t=Math.exp(t))+1/t)/2}function Q3(t){return((t=Math.exp(t))-1/t)/2}function K3(t){return((t=Math.exp(2*t))-1)/(t+1)}var Ef=(function t(e,n,r){function o(i,a){var f=i[0],s=i[1],u=i[2],c=a[0],h=a[1],l=a[2],p=c-f,m=h-s,g=p*p+m*m,d,x;if(g<j3)x=Math.log(l/u)/e,d=function(k){return[f+k*p,s+k*m,u*Math.exp(e*k*x)]};else{var _=Math.sqrt(g),y=(l*l-u*u+r*g)/(2*u*n*_),b=(l*l-u*u-r*g)/(2*l*n*_),v=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(b*b+1)-b);x=(w-v)/e,d=function(k){var C=k*x,N=W0(v),E=u/(n*_)*(N*K3(e*C+v)-Q3(v));return[f+E*p,s+E*m,u*N/W0(e*C+v)]}}return d.duration=x*1e3*e/Math.SQRT2,d}return o.rho=function(i){var a=Math.max(.001,+i),f=a*a,s=f*f;return t(a,f,s)},o})(Math.SQRT2,2,4);function G0(t){return function(e,n){var r=t((e=_o(e)).h,(n=_o(n)).h),o=Tt(e.s,n.s),i=Tt(e.l,n.l),a=Tt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Z0=G0(zn),j0=G0(Tt);function jc(t,e){var n=Tt((t=vr(t)).l,(e=vr(e)).l),r=Tt(t.a,e.a),o=Tt(t.b,e.b),i=Tt(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=o(a),t.opacity=i(a),t+""}}function Q0(t){return function(e,n){var r=t((e=wo(e)).h,(n=wo(n)).h),o=Tt(e.c,n.c),i=Tt(e.l,n.l),a=Tt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var K0=Q0(zn),J0=Q0(Tt);function tm(t){return(function e(n){n=+n;function r(o,i){var a=t((o=Wt(o)).h,(i=Wt(i)).h),f=Tt(o.s,i.s),s=Tt(o.l,i.l),u=Tt(o.opacity,i.opacity);return function(c){return o.h=a(c),o.s=f(c),o.l=s(Math.pow(c,n)),o.opacity=u(c),o+""}}return r.gamma=e,r})(1)}var em=tm(zn),Mr=tm(Tt);function Fi(t,e){e===void 0&&(e=t,t=Gt);for(var n=0,r=e.length-1,o=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(o,o=e[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return i[f](a-f)}}function nm(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Ao=0,Li=0,Di=0,om=1e3,Nf,$i,Cf=0,Sr=0,Rf=0,Yi=typeof performance=="object"&&performance.now?performance:Date,im=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Vn(){return Sr||(im(J3),Sr=Yi.now()+Rf)}function J3(){Sr=0}function Tr(){this._call=this._time=this._next=null}Tr.prototype=Ar.prototype={constructor:Tr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Vn():+n)+(e==null?0:+e),!this._next&&$i!==this&&($i?$i._next=this:Nf=this,$i=this),this._call=t,this._time=n,Qc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qc())}};function Ar(t,e,n){var r=new Tr;return r.restart(t,e,n),r}function Kc(){Vn(),++Ao;for(var t=Nf,e;t;)(e=Sr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ao}function rm(){Sr=(Cf=Yi.now())+Rf,Ao=Li=0;try{Kc()}finally{Ao=0,ew(),Sr=0}}function tw(){var t=Yi.now(),e=t-Cf;e>om&&(Rf-=e,Cf=t)}function ew(){for(var t,e=Nf,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Nf=n);$i=t,Qc(r)}function Qc(t){if(!Ao){Li&&(Li=clearTimeout(Li));var e=t-Sr;e>24?(t<1/0&&(Li=setTimeout(rm,t-Yi.now()-Rf)),Di&&(Di=clearInterval(Di))):(Di||(Cf=Yi.now(),Di=setInterval(tw,om)),Ao=1,im(rm))}}function Ui(t,e,n){var r=new Tr;return e=e==null?0:+e,r.restart(o=>{r.stop(),t(o+e)},e,n),r}function am(t,e,n){var r=new Tr,o=e;return e==null?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(i,a,f){a=+a,f=f==null?Vn():+f,r._restart(function s(u){u+=o,r._restart(s,o+=a,f),i(u)},a,f)},r.restart(t,e,n),r)}var nw=be("start","end","cancel","interrupt"),rw=[],um=0,Pf=1,qf=2,If=3,fm=4,Of=5,Bi=6;function Wn(t,e,n,r,o,i){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;ow(t,n,{name:e,index:r,group:o,on:nw,tween:rw,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:um})}function zi(t,e){var n=Ot(t,e);if(n.state>um)throw new Error("too late; already scheduled");return n}function Ht(t,e){var n=Ot(t,e);if(n.state>If)throw new Error("too late; already running");return n}function Ot(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ow(t,e,n){var r=t.__transition,o;r[e]=n,n.timer=Ar(i,0,n.time);function i(u){n.state=Pf,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,l,p;if(n.state!==Pf)return s();for(c in r)if(p=r[c],p.name===n.name){if(p.state===If)return Ui(a);p.state===fm?(p.state=Bi,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=Bi,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(Ui(function(){n.state===If&&(n.state=fm,n.timer.restart(f,n.delay,n.time),f(u))}),n.state=qf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===qf){for(n.state=If,o=new Array(l=n.tween.length),c=0,h=-1;c<l;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(o[++h]=p);o.length=h+1}}function f(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Of,1),h=-1,l=o.length;++h<l;)o[h].call(t,c);n.state===Of&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Bi,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function qe(t,e){var n=t.__transition,r,o,i=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){i=!1;continue}o=r.state>qf&&r.state<Of,r.state=Bi,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}i&&delete t.__transition}}function sm(t){return this.each(function(){qe(this,t)})}function iw(t,e){var n,r;return function(){var o=Ht(this,t),i=o.tween;if(i!==n){r=n=i;for(var a=0,f=r.length;a<f;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function aw(t,e,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Ht(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var f={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=f;break}s===u&&o.push(f)}i.tween=o}}function cm(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ot(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===t)return a.value;return null}return this.each((e==null?iw:aw)(n,t,e))}function ko(t,e,n){var r=t._id;return t.each(function(){var o=Ht(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Ot(o,r).value[e]}}function Ff(t,e){var n;return(typeof e=="number"?$t:e instanceof ye?Hn:(n=ye(e))?(e=n,Hn):To)(t,e)}function fw(t){return function(){this.removeAttribute(t)}}function uw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sw(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function cw(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function lw(t,e,n){var r,o,i;return function(){var a,f=n(this),s;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=f+"",a===s?null:a===r&&s===o?i:(o=s,i=e(r=a,f)))}}function hw(t,e,n){var r,o,i;return function(){var a,f=n(this),s;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=f+"",a===s?null:a===r&&s===o?i:(o=s,i=e(r=a,f)))}}function lm(t,e){var n=Xe(t),r=n==="transform"?kf:Ff;return this.attrTween(t,typeof e=="function"?(n.local?hw:lw)(n,r,ko(this,"attr."+t,e)):e==null?(n.local?uw:fw)(n):(n.local?cw:sw)(n,r,e))}function pw(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function dw(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function mw(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&dw(t,i)),n}return o._value=e,o}function gw(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&pw(t,i)),n}return o._value=e,o}function hm(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Xe(t);return this.tween(n,(r.local?mw:gw)(r,e))}function xw(t,e){return function(){zi(this,t).delay=+e.apply(this,arguments)}}function bw(t,e){return e=+e,function(){zi(this,t).delay=e}}function pm(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xw:bw)(e,t)):Ot(this.node(),e).delay}function yw(t,e){return function(){Ht(this,t).duration=+e.apply(this,arguments)}}function _w(t,e){return e=+e,function(){Ht(this,t).duration=e}}function dm(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?yw:_w)(e,t)):Ot(this.node(),e).duration}function vw(t,e){if(typeof e!="function")throw new Error;return function(){Ht(this,t).ease=e}}function mm(t){var e=this._id;return arguments.length?this.each(vw(e,t)):Ot(this.node(),e).ease}function ww(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ht(this,t).ease=n}}function gm(t){if(typeof t!="function")throw new Error;return this.each(ww(this._id,t))}function xm(t){typeof t!="function"&&(t=xo(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=[],s,u=0;u<a;++u)(s=i[u])&&t.call(s,s.__data__,u,i)&&f.push(s);return new Xt(r,this._parents,this._name,this._id)}function bm(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),f=0;f<i;++f)for(var s=e[f],u=n[f],c=s.length,h=a[f]=new Array(c),l,p=0;p<c;++p)(l=s[p]||u[p])&&(h[p]=l);for(;f<r;++f)a[f]=e[f];return new Xt(a,this._parents,this._name,this._id)}function Mw(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Sw(t,e,n){var r,o,i=Mw(e)?zi:Ht;return function(){var a=i(this,t),f=a.on;f!==r&&(o=(r=f).copy()).on(e,n),a.on=o}}function ym(t,e){var n=this._id;return arguments.length<2?Ot(this.node(),n).on.on(t):this.each(Sw(n,t,e))}function Tw(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function _m(){return this.on("end.remove",Tw(this._id))}function vm(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Dn(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var f=r[a],s=f.length,u=i[a]=new Array(s),c,h,l=0;l<s;++l)(c=f[l])&&(h=t.call(c,c.__data__,l,f))&&("__data__"in c&&(h.__data__=c.__data__),u[l]=h,Wn(u[l],e,n,l,u,Ot(c,n)));return new Xt(i,this._parents,e,n)}function wm(t){var e=this._name,n=this._id;typeof t!="function"&&(t=go(t));for(var r=this._groups,o=r.length,i=[],a=[],f=0;f<o;++f)for(var s=r[f],u=s.length,c,h=0;h<u;++h)if(c=s[h]){for(var l=t.call(c,c.__data__,h,s),p,m=Ot(c,n),g=0,d=l.length;g<d;++g)(p=l[g])&&Wn(p,e,n,g,l,m);i.push(l),a.push(c)}return new Xt(i,a,e,n)}var Aw=Ve.prototype.constructor;function Mm(){return new Aw(this._groups,this._parents)}function kw(t,e){var n,r,o;return function(){var i=bn(this,t),a=(this.style.removeProperty(t),bn(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}function Sm(t){return function(){this.style.removeProperty(t)}}function Ew(t,e,n){var r,o=n+"",i;return function(){var a=bn(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}function Nw(t,e,n){var r,o,i;return function(){var a=bn(this,t),f=n(this),s=f+"";return f==null&&(s=f=(this.style.removeProperty(t),bn(this,t))),a===s?null:a===r&&s===o?i:(o=s,i=e(r=a,f))}}function Cw(t,e){var n,r,o,i="style."+e,a="end."+i,f;return function(){var s=Ht(this,t),u=s.on,c=s.value[i]==null?f||(f=Sm(e)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(a,o=c),s.on=r}}function Tm(t,e,n){var r=(t+="")=="transform"?Af:Ff;return e==null?this.styleTween(t,kw(t,r)).on("end.style."+t,Sm(t)):typeof e=="function"?this.styleTween(t,Nw(t,r,ko(this,"style."+t,e))).each(Cw(this._id,t)):this.styleTween(t,Ew(t,r,e),n).on("end.style."+t,null)}function Rw(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Iw(t,e,n){var r,o;function i(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&Rw(t,a,n)),r}return i._value=e,i}function Am(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Iw(t,e,n==null?"":n))}function Pw(t){return function(){this.textContent=t}}function qw(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function km(t){return this.tween("text",typeof t=="function"?qw(ko(this,"text",t)):Pw(t==null?"":t+""))}function Ow(t){return function(e){this.textContent=t.call(this,e)}}function Fw(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Ow(o)),e}return r._value=t,r}function Em(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Fw(t))}function Nm(){for(var t=this._name,e=this._id,n=Df(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],f=a.length,s,u=0;u<f;++u)if(s=a[u]){var c=Ot(s,e);Wn(s,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Xt(r,this._parents,t,n)}function Cm(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var f={value:a},s={value:function(){--o===0&&i()}};n.each(function(){var u=Ht(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(s)),u.on=e}),o===0&&i()})}var Dw=0;function Xt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Lf(t){return Ve().transition(t)}function Df(){return++Dw}var vn=Ve.prototype;Xt.prototype=Lf.prototype={constructor:Xt,select:vm,selectAll:wm,selectChild:vn.selectChild,selectChildren:vn.selectChildren,filter:xm,merge:bm,selection:Mm,transition:Nm,call:vn.call,nodes:vn.nodes,node:vn.node,size:vn.size,empty:vn.empty,each:vn.each,on:ym,attr:lm,attrTween:hm,style:Tm,styleTween:Am,text:km,textTween:Em,remove:_m,tween:cm,delay:pm,duration:dm,ease:mm,easeVarying:gm,end:Cm,[Symbol.iterator]:vn[Symbol.iterator]};var Rm=t=>+t;function Im(t){return t*t}function Pm(t){return t*(2-t)}function Jc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function qm(t){return t*t*t}function Om(t){return--t*t*t+1}function Hi(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var tl=3,Fm=(function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n})(tl),Dm=(function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n})(tl),el=(function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n})(tl);var Lm=Math.PI,$m=Lm/2;function Ym(t){return+t==1?1:1-Math.cos(t*$m)}function Um(t){return Math.sin(t*$m)}function nl(t){return(1-Math.cos(Lm*t))/2}function je(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function Bm(t){return je(1-+t)}function zm(t){return 1-je(t)}function rl(t){return((t*=2)<=1?je(1-t):2-je(t-1))/2}function Hm(t){return 1-Math.sqrt(1-t*t)}function Xm(t){return Math.sqrt(1- --t*t)}function ol(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var il=.36363636363636365,Lw=6/11,$w=8/11,Yw=3/4,Uw=9/11,Bw=10/11,zw=15/16,Hw=21/22,Xw=63/64,$f=1/il/il;function Vm(t){return 1-Eo(1-t)}function Eo(t){return(t=+t)<il?$f*t*t:t<$w?$f*(t-=Lw)*t+Yw:t<Bw?$f*(t-=Uw)*t+zw:$f*(t-=Hw)*t+Xw}function Wm(t){return((t*=2)<=1?1-Eo(1-t):Eo(t-1)+1)/2}var al=1.70158,Gm=(function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n})(al),Zm=(function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n})(al),fl=(function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n})(al);var No=2*Math.PI,ul=1,sl=.3,jm=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=No);function o(i){return e*je(- --i)*Math.sin((r-i)/n)}return o.amplitude=function(i){return t(i,n*No)},o.period=function(i){return t(e,i)},o})(ul,sl),cl=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=No);function o(i){return 1-e*je(i=+i)*Math.sin((i+r)/n)}return o.amplitude=function(i){return t(i,n*No)},o.period=function(i){return t(e,i)},o})(ul,sl),Qm=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=No);function o(i){return((i=i*2-1)<0?e*je(-i)*Math.sin((r-i)/n):2-e*je(i)*Math.sin((r+i)/n))/2}return o.amplitude=function(i){return t(i,n*No)},o.period=function(i){return t(e,i)},o})(ul,sl);var Vw={time:null,delay:0,duration:250,ease:Hi};function Ww(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Km(t){var e,n;t instanceof Xt?(e=t._id,t=t._name):(e=Df(),(n=Vw).time=Vn(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],f=a.length,s,u=0;u<f;++u)(s=a[u])&&Wn(s,t,e,u,a,n||Ww(s,e));return new Xt(r,this._parents,t,e)}Ve.prototype.interrupt=sm;Ve.prototype.transition=Km;var Gw=[null];function Jm(t,e){var n=t.__transition,r,o;if(n){e=e==null?null:e+"";for(o in n)if((r=n[o]).state>Pf&&r.name===e)return new Xt([[t]],Gw,e,+o)}return null}var Yf=t=>()=>t;function ll(t,{sourceEvent:e,target:n,selection:r,mode:o,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function t1(t){t.stopImmediatePropagation()}function Uf(t){t.preventDefault(),t.stopImmediatePropagation()}var e1={name:"drag"},hl={name:"space"},Co={name:"handle"},Ro={name:"center"},{abs:n1,max:Zt,min:jt}=Math;function r1(t){return[+t[0],+t[1]]}function dl(t){return[r1(t[0]),r1(t[1])]}var Bf={name:"x",handles:["w","e"].map(Xi),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},zf={name:"y",handles:["n","s"].map(Xi),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Zw={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Xi),input:function(t){return t==null?null:dl(t)},output:function(t){return t}},wn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},o1={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},i1={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},jw={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Qw={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Xi(t){return{type:t}}function Kw(t){return!t.ctrlKey&&!t.button}function Jw(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function t6(){return navigator.maxTouchPoints||"ontouchstart"in this}function pl(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function e6(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function a1(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function f1(){return ml(Bf)}function u1(){return ml(zf)}function s1(){return ml(Zw)}function ml(t){var e=Jw,n=Kw,r=t6,o=!0,i=be("start","brush","end"),a=6,f;function s(d){var x=d.property("__brush",g).selectAll(".overlay").data([Xi("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",wn.overlay).merge(x).each(function(){var y=pl(this).extent;Et(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),d.selectAll(".selection").data([Xi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",wn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=d.selectAll(".handle").data(t.handles,function(y){return y.type});_.exit().remove(),_.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return wn[y.type]}),d.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",l).filter(r).on("touchstart.brush",l).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(d,x,_){d.tween?d.on("start.brush",function(y){c(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){c(this,arguments).end(y)}).tween("brush",function(){var y=this,b=y.__brush,v=c(y,arguments),w=b.selection,k=t.input(typeof x=="function"?x.apply(this,arguments):x,b.extent),C=Gt(w,k);function N(E){b.selection=E===1&&k===null?null:C(E),u.call(y),v.brush()}return w!==null&&k!==null?N:N(1)}):d.each(function(){var y=this,b=arguments,v=y.__brush,w=t.input(typeof x=="function"?x.apply(y,b):x,v.extent),k=c(y,b).beforestart();qe(y),v.selection=w===null?null:w,u.call(y),k.start(_).brush(_).end(_)})},s.clear=function(d,x){s.move(d,null,x)};function u(){var d=Et(this),x=pl(this).selection;x?(d.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),d.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?x[1][0]-a/2:x[0][0]-a/2}).attr("y",function(_){return _.type[0]==="s"?x[1][1]-a/2:x[0][1]-a/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?x[1][0]-x[0][0]+a:a}).attr("height",function(_){return _.type==="e"||_.type==="w"?x[1][1]-x[0][1]+a:a})):d.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(d,x,_){var y=d.__brush.emitter;return y&&(!_||!y.clean)?y:new h(d,x,_)}function h(d,x,_){this.that=d,this.args=x,this.state=d.__brush,this.active=0,this.clean=_}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(d,x){return this.starting?(this.starting=!1,this.emit("start",d,x)):this.emit("brush",d),this},brush:function(d,x){return this.emit("brush",d,x),this},end:function(d,x){return--this.active===0&&(delete this.state.emitter,this.emit("end",d,x)),this},emit:function(d,x,_){var y=Et(this.that).datum();i.call(d,this.that,new ll(d,{sourceEvent:x,target:s,selection:t.output(this.state.selection),mode:_,dispatch:i}),y)}};function l(d){if(f&&!d.touches||!n.apply(this,arguments))return;var x=this,_=d.target.__data__.type,y=(o&&d.metaKey?_="overlay":_)==="selection"?e1:o&&d.altKey?Ro:Co,b=t===zf?null:jw[_],v=t===Bf?null:Qw[_],w=pl(x),k=w.extent,C=w.selection,N=k[0][0],E,S,P=k[0][1],R,M,A=k[1][0],T,I,F=k[1][1],q,B,X=0,W=0,ht,it=b&&v&&o&&d.shiftKey,K,bt,rt=Array.from(d.touches||[d],Y=>{let ut=Y.identifier;return Y=Lt(Y,x),Y.point0=Y.slice(),Y.identifier=ut,Y});qe(x);var St=c(x,arguments,!0).beforestart();if(_==="overlay"){C&&(ht=!0);let Y=[rt[0],rt[1]||rt[0]];w.selection=C=[[E=t===zf?N:jt(Y[0][0],Y[1][0]),R=t===Bf?P:jt(Y[0][1],Y[1][1])],[T=t===zf?A:Zt(Y[0][0],Y[1][0]),q=t===Bf?F:Zt(Y[0][1],Y[1][1])]],rt.length>1&&ft(d)}else E=C[0][0],R=C[0][1],T=C[1][0],q=C[1][1];S=E,M=R,I=T,B=q;var z=Et(x).attr("pointer-events","none"),J=z.selectAll(".overlay").attr("cursor",wn[_]);if(d.touches)St.moved=D,St.ended=mt;else{var et=Et(d.view).on("mousemove.brush",D,!0).on("mouseup.brush",mt,!0);o&&et.on("keydown.brush",qt,!0).on("keyup.brush",Dt,!0),$n(d.view)}u.call(x),St.start(d,y.name);function D(Y){for(let ut of Y.changedTouches||[Y])for(let hn of rt)hn.identifier===ut.identifier&&(hn.cur=Lt(ut,x));if(it&&!K&&!bt&&rt.length===1){let ut=rt[0];n1(ut.cur[0]-ut[0])>n1(ut.cur[1]-ut[1])?bt=!0:K=!0}for(let ut of rt)ut.cur&&(ut[0]=ut.cur[0],ut[1]=ut.cur[1]);ht=!0,Uf(Y),ft(Y)}function ft(Y){let ut=rt[0],hn=ut.point0;var ge;switch(X=ut[0]-hn[0],W=ut[1]-hn[1],y){case hl:case e1:{b&&(X=Zt(N-E,jt(A-T,X)),S=E+X,I=T+X),v&&(W=Zt(P-R,jt(F-q,W)),M=R+W,B=q+W);break}case Co:{rt[1]?(b&&(S=Zt(N,jt(A,rt[0][0])),I=Zt(N,jt(A,rt[1][0])),b=1),v&&(M=Zt(P,jt(F,rt[0][1])),B=Zt(P,jt(F,rt[1][1])),v=1)):(b<0?(X=Zt(N-E,jt(A-E,X)),S=E+X,I=T):b>0&&(X=Zt(N-T,jt(A-T,X)),S=E,I=T+X),v<0?(W=Zt(P-R,jt(F-R,W)),M=R+W,B=q):v>0&&(W=Zt(P-q,jt(F-q,W)),M=R,B=q+W));break}case Ro:{b&&(S=Zt(N,jt(A,E-X*b)),I=Zt(N,jt(A,T+X*b))),v&&(M=Zt(P,jt(F,R-W*v)),B=Zt(P,jt(F,q+W*v)));break}}I<S&&(b*=-1,ge=E,E=T,T=ge,ge=S,S=I,I=ge,_ in o1&&J.attr("cursor",wn[_=o1[_]])),B<M&&(v*=-1,ge=R,R=q,q=ge,ge=M,M=B,B=ge,_ in i1&&J.attr("cursor",wn[_=i1[_]])),w.selection&&(C=w.selection),K&&(S=C[0][0],I=C[1][0]),bt&&(M=C[0][1],B=C[1][1]),(C[0][0]!==S||C[0][1]!==M||C[1][0]!==I||C[1][1]!==B)&&(w.selection=[[S,M],[I,B]],u.call(x),St.brush(Y,y.name))}function mt(Y){if(t1(Y),Y.touches){if(Y.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else Yn(Y.view,ht),et.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),J.attr("cursor",wn.overlay),w.selection&&(C=w.selection),e6(C)&&(w.selection=null,u.call(x)),St.end(Y,y.name)}function qt(Y){switch(Y.keyCode){case 16:{it=b&&v;break}case 18:{y===Co&&(b&&(T=I-X*b,E=S+X*b),v&&(q=B-W*v,R=M+W*v),y=Ro,ft(Y));break}case 32:{(y===Co||y===Ro)&&(b<0?T=I-X:b>0&&(E=S-X),v<0?q=B-W:v>0&&(R=M-W),y=hl,J.attr("cursor",wn.selection),ft(Y));break}default:return}Uf(Y)}function Dt(Y){switch(Y.keyCode){case 16:{it&&(K=bt=it=!1,ft(Y));break}case 18:{y===Ro&&(b<0?T=I:b>0&&(E=S),v<0?q=B:v>0&&(R=M),y=Co,ft(Y));break}case 32:{y===hl&&(Y.altKey?(b&&(T=I-X*b,E=S+X*b),v&&(q=B-W*v,R=M+W*v),y=Ro):(b<0?T=I:b>0&&(E=S),v<0?q=B:v>0&&(R=M),y=Co),J.attr("cursor",wn[_]),ft(Y));break}default:return}Uf(Y)}}function p(d){c(this,arguments).moved(d)}function m(d){c(this,arguments).ended(d)}function g(){var d=this.__brush||{selection:null};return d.extent=dl(e.apply(this,arguments)),d.dim=t,d}return s.extent=function(d){return arguments.length?(e=typeof d=="function"?d:Yf(dl(d)),s):e},s.filter=function(d){return arguments.length?(n=typeof d=="function"?d:Yf(!!d),s):n},s.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:Yf(!!d),s):r},s.handleSize=function(d){return arguments.length?(a=+d,s):a},s.keyModifiers=function(d){return arguments.length?(o=!!d,s):o},s.on=function(){var d=i.on.apply(i,arguments);return d===i?s:d},s}var gl=Math.abs,kr=Math.cos,Er=Math.sin,c1=Math.PI,Vi=c1/2,xl=c1*2,bl=Math.max,Hf=1e-12;function yl(t,e){return Array.from({length:e-t},(n,r)=>t+r)}function n6(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function l1(){return _l(!1,!1)}function h1(){return _l(!1,!0)}function p1(){return _l(!0,!1)}function _l(t,e){var n=0,r=null,o=null,i=null;function a(f){var s=f.length,u=new Array(s),c=yl(0,s),h=new Array(s*s),l=new Array(s),p=0,m;f=Float64Array.from({length:s*s},e?(g,d)=>f[d%s][d/s|0]:(g,d)=>f[d/s|0][d%s]);for(let g=0;g<s;++g){let d=0;for(let x=0;x<s;++x)d+=f[g*s+x]+t*f[x*s+g];p+=u[g]=d}p=bl(0,xl-n*s)/p,m=p?n:xl/s;{let g=0;r&&c.sort((d,x)=>r(u[d],u[x]));for(let d of c){let x=g;if(t){let _=yl(~s+1,s).filter(y=>y<0?f[~y*s+d]:f[d*s+y]);o&&_.sort((y,b)=>o(y<0?-f[~y*s+d]:f[d*s+y],b<0?-f[~b*s+d]:f[d*s+b]));for(let y of _)if(y<0){let b=h[~y*s+d]||(h[~y*s+d]={source:null,target:null});b.target={index:d,startAngle:g,endAngle:g+=f[~y*s+d]*p,value:f[~y*s+d]}}else{let b=h[d*s+y]||(h[d*s+y]={source:null,target:null});b.source={index:d,startAngle:g,endAngle:g+=f[d*s+y]*p,value:f[d*s+y]}}l[d]={index:d,startAngle:x,endAngle:g,value:u[d]}}else{let _=yl(0,s).filter(y=>f[d*s+y]||f[y*s+d]);o&&_.sort((y,b)=>o(f[d*s+y],f[d*s+b]));for(let y of _){let b;if(d<y?(b=h[d*s+y]||(h[d*s+y]={source:null,target:null}),b.source={index:d,startAngle:g,endAngle:g+=f[d*s+y]*p,value:f[d*s+y]}):(b=h[y*s+d]||(h[y*s+d]={source:null,target:null}),b.target={index:d,startAngle:g,endAngle:g+=f[d*s+y]*p,value:f[d*s+y]},d===y&&(b.source=b.target)),b.source&&b.target&&b.source.value<b.target.value){let v=b.source;b.source=b.target,b.target=v}}l[d]={index:d,startAngle:x,endAngle:g,value:u[d]}}g+=m}}return h=Object.values(h),h.groups=l,i?h.sort(i):h}return a.padAngle=function(f){return arguments.length?(n=bl(0,f),a):n},a.sortGroups=function(f){return arguments.length?(r=f,a):r},a.sortSubgroups=function(f){return arguments.length?(o=f,a):o},a.sortChords=function(f){return arguments.length?(f==null?i=null:(i=n6(f))._=f,a):i&&i._},a}var vl=Math.PI,wl=2*vl,Nr=1e-6,r6=wl-Nr;function d1(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function o6(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return d1;let n=10**e;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}var Mn=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?d1:o6(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,o){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(e,n,r,o,i,a){this._append`C${+e},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(e,n,r,o,i){if(e=+e,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,f=this._y1,s=r-e,u=o-n,c=a-e,h=f-n,l=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>Nr)if(!(Math.abs(h*s-u*c)>Nr)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=o-f,g=s*s+u*u,d=p*p+m*m,x=Math.sqrt(g),_=Math.sqrt(l),y=i*Math.tan((vl-Math.acos((g+l-d)/(2*x*_)))/2),b=y/_,v=y/x;Math.abs(b-1)>Nr&&this._append`L${e+b*c},${n+b*h}`,this._append`A${i},${i},0,0,${+(h*p>c*m)},${this._x1=e+v*s},${this._y1=n+v*u}`}}arc(e,n,r,o,i,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(o),s=r*Math.sin(o),u=e+f,c=n+s,h=1^a,l=a?o-i:i-o;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Nr||Math.abs(this._y1-c)>Nr)&&this._append`L${u},${c}`,r&&(l<0&&(l=l%wl+wl),l>r6?this._append`A${r},${r},0,1,${h},${e-f},${n-s}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:l>Nr&&this._append`A${r},${r},0,${+(l>=vl)},${h},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}};function Wi(){return new Mn}Wi.prototype=Mn.prototype;function m1(t=3){return new Mn(+t)}var g1=Array.prototype.slice;function Gn(t){return function(){return t}}function i6(t){return t.source}function a6(t){return t.target}function x1(t){return t.radius}function f6(t){return t.startAngle}function u6(t){return t.endAngle}function s6(){return 0}function c6(){return 10}function b1(t){var e=i6,n=a6,r=x1,o=x1,i=f6,a=u6,f=s6,s=null;function u(){var c,h=e.apply(this,arguments),l=n.apply(this,arguments),p=f.apply(this,arguments)/2,m=g1.call(arguments),g=+r.apply(this,(m[0]=h,m)),d=i.apply(this,m)-Vi,x=a.apply(this,m)-Vi,_=+o.apply(this,(m[0]=l,m)),y=i.apply(this,m)-Vi,b=a.apply(this,m)-Vi;if(s||(s=c=Wi()),p>Hf&&(gl(x-d)>p*2+Hf?x>d?(d+=p,x-=p):(d-=p,x+=p):d=x=(d+x)/2,gl(b-y)>p*2+Hf?b>y?(y+=p,b-=p):(y-=p,b+=p):y=b=(y+b)/2),s.moveTo(g*kr(d),g*Er(d)),s.arc(0,0,g,d,x),d!==y||x!==b)if(t){var v=+t.apply(this,arguments),w=_-v,k=(y+b)/2;s.quadraticCurveTo(0,0,w*kr(y),w*Er(y)),s.lineTo(_*kr(k),_*Er(k)),s.lineTo(w*kr(b),w*Er(b))}else s.quadraticCurveTo(0,0,_*kr(y),_*Er(y)),s.arc(0,0,_,y,b);if(s.quadraticCurveTo(0,0,g*kr(d),g*Er(d)),s.closePath(),c)return s=null,c+""||null}return t&&(u.headRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Gn(+c),u):t}),u.radius=function(c){return arguments.length?(r=o=typeof c=="function"?c:Gn(+c),u):r},u.sourceRadius=function(c){return arguments.length?(r=typeof c=="function"?c:Gn(+c),u):r},u.targetRadius=function(c){return arguments.length?(o=typeof c=="function"?c:Gn(+c),u):o},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Gn(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Gn(+c),u):a},u.padAngle=function(c){return arguments.length?(f=typeof c=="function"?c:Gn(+c),u):f},u.source=function(c){return arguments.length?(e=c,u):e},u.target=function(c){return arguments.length?(n=c,u):n},u.context=function(c){return arguments.length?(s=c==null?null:c,u):s},u}function y1(){return b1()}function _1(){return b1(c6)}var l6=Array.prototype,Xf=l6.slice;function v1(t,e){return t-e}function w1(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}var Qe=t=>()=>t;function M1(t,e){for(var n=-1,r=e.length,o;++n<r;)if(o=h6(t,e[n]))return o;return 0}function h6(t,e){for(var n=e[0],r=e[1],o=-1,i=0,a=t.length,f=a-1;i<a;f=i++){var s=t[i],u=s[0],c=s[1],h=t[f],l=h[0],p=h[1];if(p6(s,h,e))return 0;c>r!=p>r&&n<(l-u)*(r-c)/(p-c)+u&&(o=-o)}return o}function p6(t,e,n){var r;return d6(t,e,n)&&m6(t[r=+(t[0]===e[0])],n[r],e[r])}function d6(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function m6(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function S1(){}var Sn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Gi(){var t=1,e=1,n=hr,r=s;function o(u){var c=n(u);if(Array.isArray(c))c=c.slice().sort(v1);else{let h=dn(u,g6);for(c=ue(...lr(h[0],h[1],c),c);c[c.length-1]>=h[1];)c.pop();for(;c[1]<h[0];)c.shift()}return c.map(h=>i(u,h))}function i(u,c){let h=c==null?NaN:+c;if(isNaN(h))throw new Error(`invalid value: ${c}`);var l=[],p=[];return a(u,h,function(m){r(m,u,h),w1(m)>0?l.push([m]):p.push(m)}),p.forEach(function(m){for(var g=0,d=l.length,x;g<d;++g)if(M1((x=l[g])[0],m)!==-1){x.push(m);return}}),{type:"MultiPolygon",value:c,coordinates:l}}function a(u,c,h){var l=new Array,p=new Array,m,g,d,x,_,y;for(m=g=-1,x=Cr(u[0],c),Sn[x<<1].forEach(b);++m<t-1;)d=x,x=Cr(u[m+1],c),Sn[d|x<<1].forEach(b);for(Sn[x<<0].forEach(b);++g<e-1;){for(m=-1,x=Cr(u[g*t+t],c),_=Cr(u[g*t],c),Sn[x<<1|_<<2].forEach(b);++m<t-1;)d=x,x=Cr(u[g*t+t+m+1],c),y=_,_=Cr(u[g*t+m+1],c),Sn[d|x<<1|_<<2|y<<3].forEach(b);Sn[x|_<<3].forEach(b)}for(m=-1,_=u[g*t]>=c,Sn[_<<2].forEach(b);++m<t-1;)y=_,_=Cr(u[g*t+m+1],c),Sn[_<<2|y<<3].forEach(b);Sn[_<<3].forEach(b);function b(v){var w=[v[0][0]+m,v[0][1]+g],k=[v[1][0]+m,v[1][1]+g],C=f(w),N=f(k),E,S;(E=p[C])?(S=l[N])?(delete p[E.end],delete l[S.start],E===S?(E.ring.push(k),h(E.ring)):l[E.start]=p[S.end]={start:E.start,end:S.end,ring:E.ring.concat(S.ring)}):(delete p[E.end],E.ring.push(k),p[E.end=N]=E):(E=l[N])?(S=p[C])?(delete l[E.start],delete p[S.end],E===S?(E.ring.push(k),h(E.ring)):l[S.start]=p[E.end]={start:S.start,end:E.end,ring:S.ring.concat(E.ring)}):(delete l[E.start],E.ring.unshift(w),l[E.start=C]=E):l[C]=p[N]={start:C,end:N,ring:[w,k]}}}function f(u){return u[0]*2+u[1]*(t+1)*4}function s(u,c,h){u.forEach(function(l){var p=l[0],m=l[1],g=p|0,d=m|0,x=Ml(c[d*t+g]);p>0&&p<t&&g===p&&(l[0]=T1(p,Ml(c[d*t+g-1]),x,h)),m>0&&m<e&&d===m&&(l[1]=T1(m,Ml(c[(d-1)*t+g]),x,h))})}return o.contour=i,o.size=function(u){if(!arguments.length)return[t,e];var c=Math.floor(u[0]),h=Math.floor(u[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return t=c,e=h,o},o.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?Qe(Xf.call(u)):Qe(u),o):n},o.smooth=function(u){return arguments.length?(r=u?s:S1,o):r===s},o}function g6(t){return isFinite(t)?t:NaN}function Cr(t,e){return t==null?!1:+t>=e}function Ml(t){return t==null||isNaN(t=+t)?-1/0:t}function T1(t,e,n,r){let o=r-e,i=n-e,a=isFinite(o)||isFinite(i)?o/i:Math.sign(o)/Math.sign(i);return isNaN(a)?t:t+a-.5}function x6(t){return t[0]}function b6(t){return t[1]}function y6(){return 1}function A1(){var t=x6,e=b6,n=y6,r=960,o=500,i=20,a=2,f=i*3,s=r+f*2>>a,u=o+f*2>>a,c=Qe(20);function h(_){var y=new Float32Array(s*u),b=Math.pow(2,-a),v=-1;for(let R of _){var w=(t(R,++v,_)+f)*b,k=(e(R,v,_)+f)*b,C=+n(R,v,_);if(C&&w>=0&&w<s&&k>=0&&k<u){var N=Math.floor(w),E=Math.floor(k),S=w-N-.5,P=k-E-.5;y[N+E*s]+=(1-S)*(1-P)*C,y[N+1+E*s]+=S*(1-P)*C,y[N+1+(E+1)*s]+=S*P*C,y[N+(E+1)*s]+=(1-S)*P*C}}return Ga({data:y,width:s,height:u},i*b),y}function l(_){var y=h(_),b=c(y),v=Math.pow(2,2*a);return Array.isArray(b)||(b=ue(Number.MIN_VALUE,xn(y)/v,b)),Gi().size([s,u]).thresholds(b.map(w=>w*v))(y).map((w,k)=>(w.value=+b[k],p(w)))}l.contours=function(_){var y=h(_),b=Gi().size([s,u]),v=Math.pow(2,2*a),w=k=>{k=+k;var C=p(b.contour(y,k*v));return C.value=k,C};return Object.defineProperty(w,"max",{get:()=>xn(y)/v}),w};function p(_){return _.coordinates.forEach(m),_}function m(_){_.forEach(g)}function g(_){_.forEach(d)}function d(_){_[0]=_[0]*Math.pow(2,a)-f,_[1]=_[1]*Math.pow(2,a)-f}function x(){return f=i*3,s=r+f*2>>a,u=o+f*2>>a,l}return l.x=function(_){return arguments.length?(t=typeof _=="function"?_:Qe(+_),l):t},l.y=function(_){return arguments.length?(e=typeof _=="function"?_:Qe(+_),l):e},l.weight=function(_){return arguments.length?(n=typeof _=="function"?_:Qe(+_),l):n},l.size=function(_){if(!arguments.length)return[r,o];var y=+_[0],b=+_[1];if(!(y>=0&&b>=0))throw new Error("invalid size");return r=y,o=b,x()},l.cellSize=function(_){if(!arguments.length)return 1<<a;if(!((_=+_)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(_)/Math.LN2),x()},l.thresholds=function(_){return arguments.length?(c=typeof _=="function"?_:Array.isArray(_)?Qe(Xf.call(_)):Qe(_),l):c},l.bandwidth=function(_){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*_*_+1)-1)/2,x()},l}var st=11102230246251565e-32,Pt=134217729,Zi=(3+8*st)*st;function Rr(t,e,n,r,o){let i,a,f,s,u=e[0],c=r[0],h=0,l=0;c>u==c>-u?(i=u,u=e[++h]):(i=c,c=r[++l]);let p=0;if(h<t&&l<n)for(c>u==c>-u?(a=u+i,f=i-(a-u),u=e[++h]):(a=c+i,f=i-(a-c),c=r[++l]),i=a,f!==0&&(o[p++]=f);h<t&&l<n;)c>u==c>-u?(a=i+u,s=a-i,f=i-(a-s)+(u-s),u=e[++h]):(a=i+c,s=a-i,f=i-(a-s)+(c-s),c=r[++l]),i=a,f!==0&&(o[p++]=f);for(;h<t;)a=i+u,s=a-i,f=i-(a-s)+(u-s),u=e[++h],i=a,f!==0&&(o[p++]=f);for(;l<n;)a=i+c,s=a-i,f=i-(a-s)+(c-s),c=r[++l],i=a,f!==0&&(o[p++]=f);return(i!==0||p===0)&&(o[p++]=i),p}function ji(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function O(t){return new Float64Array(t)}var _6=(3+16*st)*st,v6=(2+12*st)*st,w6=(9+64*st)*st*st,Io=O(4),k1=O(8),E1=O(12),N1=O(16),te=O(4);function M6(t,e,n,r,o,i,a){let f,s,u,c,h,l,p,m,g,d,x,_,y,b,v,w,k,C,N=t-o,E=n-o,S=e-i,P=r-i;b=N*P,l=Pt*N,p=l-(l-N),m=N-p,l=Pt*P,g=l-(l-P),d=P-g,v=m*d-(b-p*g-m*g-p*d),w=S*E,l=Pt*S,p=l-(l-S),m=S-p,l=Pt*E,g=l-(l-E),d=E-g,k=m*d-(w-p*g-m*g-p*d),x=v-k,h=v-x,Io[0]=v-(x+h)+(h-k),_=b+x,h=_-b,y=b-(_-h)+(x-h),x=y-w,h=y-x,Io[1]=y-(x+h)+(h-w),C=_+x,h=C-_,Io[2]=_-(C-h)+(x-h),Io[3]=C;let R=ji(4,Io),M=v6*a;if(R>=M||-R>=M||(h=t-N,f=t-(N+h)+(h-o),h=n-E,u=n-(E+h)+(h-o),h=e-S,s=e-(S+h)+(h-i),h=r-P,c=r-(P+h)+(h-i),f===0&&s===0&&u===0&&c===0)||(M=w6*a+Zi*Math.abs(R),R+=N*c+P*f-(S*u+E*s),R>=M||-R>=M))return R;b=f*P,l=Pt*f,p=l-(l-f),m=f-p,l=Pt*P,g=l-(l-P),d=P-g,v=m*d-(b-p*g-m*g-p*d),w=s*E,l=Pt*s,p=l-(l-s),m=s-p,l=Pt*E,g=l-(l-E),d=E-g,k=m*d-(w-p*g-m*g-p*d),x=v-k,h=v-x,te[0]=v-(x+h)+(h-k),_=b+x,h=_-b,y=b-(_-h)+(x-h),x=y-w,h=y-x,te[1]=y-(x+h)+(h-w),C=_+x,h=C-_,te[2]=_-(C-h)+(x-h),te[3]=C;let A=Rr(4,Io,4,te,k1);b=N*c,l=Pt*N,p=l-(l-N),m=N-p,l=Pt*c,g=l-(l-c),d=c-g,v=m*d-(b-p*g-m*g-p*d),w=S*u,l=Pt*S,p=l-(l-S),m=S-p,l=Pt*u,g=l-(l-u),d=u-g,k=m*d-(w-p*g-m*g-p*d),x=v-k,h=v-x,te[0]=v-(x+h)+(h-k),_=b+x,h=_-b,y=b-(_-h)+(x-h),x=y-w,h=y-x,te[1]=y-(x+h)+(h-w),C=_+x,h=C-_,te[2]=_-(C-h)+(x-h),te[3]=C;let T=Rr(A,k1,4,te,E1);b=f*c,l=Pt*f,p=l-(l-f),m=f-p,l=Pt*c,g=l-(l-c),d=c-g,v=m*d-(b-p*g-m*g-p*d),w=s*u,l=Pt*s,p=l-(l-s),m=s-p,l=Pt*u,g=l-(l-u),d=u-g,k=m*d-(w-p*g-m*g-p*d),x=v-k,h=v-x,te[0]=v-(x+h)+(h-k),_=b+x,h=_-b,y=b-(_-h)+(x-h),x=y-w,h=y-x,te[1]=y-(x+h)+(h-w),C=_+x,h=C-_,te[2]=_-(C-h)+(x-h),te[3]=C;let I=Rr(T,E1,4,te,N1);return N1[I-1]}function Po(t,e,n,r,o,i){let a=(e-i)*(n-o),f=(t-o)*(r-i),s=a-f,u=Math.abs(a+f);return Math.abs(s)>=_6*u?s:-M6(t,e,n,r,o,i,u)}var II=(7+56*st)*st,PI=(3+28*st)*st,qI=(26+288*st)*st*st,OI=O(4),FI=O(4),DI=O(4),LI=O(4),$I=O(4),YI=O(4),UI=O(4),BI=O(4),zI=O(4),HI=O(8),XI=O(8),VI=O(8),WI=O(4),GI=O(8),ZI=O(8),jI=O(8),QI=O(12),KI=O(192),JI=O(192);var nP=(10+96*st)*st,rP=(4+48*st)*st,oP=(44+576*st)*st*st,iP=O(4),aP=O(4),fP=O(4),uP=O(4),sP=O(4),cP=O(4),lP=O(4),hP=O(4),pP=O(8),dP=O(8),mP=O(8),gP=O(8),xP=O(8),bP=O(8),yP=O(8),_P=O(8),vP=O(8),wP=O(4),MP=O(4),SP=O(4),TP=O(8),AP=O(16),kP=O(16),EP=O(16),NP=O(32),CP=O(32),RP=O(48),IP=O(64),PP=O(1152),qP=O(1152);var LP=(16+224*st)*st,$P=(5+72*st)*st,YP=(71+1408*st)*st*st,UP=O(4),BP=O(4),zP=O(4),HP=O(4),XP=O(4),VP=O(4),WP=O(4),GP=O(4),ZP=O(4),jP=O(4),QP=O(24),KP=O(24),JP=O(24),tq=O(24),eq=O(24),nq=O(24),rq=O(24),oq=O(24),iq=O(24),aq=O(24),fq=O(1152),uq=O(1152),sq=O(1152),cq=O(1152),lq=O(1152),hq=O(2304),pq=O(2304),dq=O(3456),mq=O(5760),gq=O(8),xq=O(8),bq=O(8),yq=O(16),_q=O(24),vq=O(48),wq=O(48),Mq=O(96),Sq=O(192),Tq=O(384),Aq=O(384),kq=O(384),Eq=O(768);var Nq=O(96),Cq=O(96),Rq=O(96),Iq=O(1152);var R1=Math.pow(2,-52),Vf=new Uint32Array(512),Oo=class t{static from(e,n=N6,r=C6){let o=e.length,i=new Float64Array(o*2);for(let a=0;a<o;a++){let f=e[a];i[2*a]=n(f),i[2*a+1]=r(f)}return new t(i)}constructor(e){let n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;let r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){let{coords:e,_hullPrev:n,_hullNext:r,_hullTri:o,_hullHash:i}=this,a=e.length>>1,f=1/0,s=1/0,u=-1/0,c=-1/0;for(let N=0;N<a;N++){let E=e[2*N],S=e[2*N+1];E<f&&(f=E),S<s&&(s=S),E>u&&(u=E),S>c&&(c=S),this._ids[N]=N}let h=(f+u)/2,l=(s+c)/2,p,m,g;for(let N=0,E=1/0;N<a;N++){let S=Sl(h,l,e[2*N],e[2*N+1]);S<E&&(p=N,E=S)}let d=e[2*p],x=e[2*p+1];for(let N=0,E=1/0;N<a;N++){if(N===p)continue;let S=Sl(d,x,e[2*N],e[2*N+1]);S<E&&S>0&&(m=N,E=S)}let _=e[2*m],y=e[2*m+1],b=1/0;for(let N=0;N<a;N++){if(N===p||N===m)continue;let E=k6(d,x,_,y,e[2*N],e[2*N+1]);E<b&&(g=N,b=E)}let v=e[2*g],w=e[2*g+1];if(b===1/0){for(let S=0;S<a;S++)this._dists[S]=e[2*S]-e[0]||e[2*S+1]-e[1];qo(this._ids,this._dists,0,a-1);let N=new Uint32Array(a),E=0;for(let S=0,P=-1/0;S<a;S++){let R=this._ids[S],M=this._dists[R];M>P&&(N[E++]=R,P=M)}this.hull=N.subarray(0,E),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Po(d,x,_,y,v,w)<0){let N=m,E=_,S=y;m=g,_=v,y=w,g=N,v=E,w=S}let k=E6(d,x,_,y,v,w);this._cx=k.x,this._cy=k.y;for(let N=0;N<a;N++)this._dists[N]=Sl(e[2*N],e[2*N+1],k.x,k.y);qo(this._ids,this._dists,0,a-1),this._hullStart=p;let C=3;r[p]=n[g]=m,r[m]=n[p]=g,r[g]=n[m]=p,o[p]=0,o[m]=1,o[g]=2,i.fill(-1),i[this._hashKey(d,x)]=p,i[this._hashKey(_,y)]=m,i[this._hashKey(v,w)]=g,this.trianglesLen=0,this._addTriangle(p,m,g,-1,-1,-1);for(let N=0,E,S;N<this._ids.length;N++){let P=this._ids[N],R=e[2*P],M=e[2*P+1];if(N>0&&Math.abs(R-E)<=R1&&Math.abs(M-S)<=R1||(E=R,S=M,P===p||P===m||P===g))continue;let A=0;for(let B=0,X=this._hashKey(R,M);B<this._hashSize&&(A=i[(X+B)%this._hashSize],!(A!==-1&&A!==r[A]));B++);A=n[A];let T=A,I;for(;I=r[T],Po(R,M,e[2*T],e[2*T+1],e[2*I],e[2*I+1])>=0;)if(T=I,T===A){T=-1;break}if(T===-1)continue;let F=this._addTriangle(T,P,r[T],-1,-1,o[T]);o[P]=this._legalize(F+2),o[T]=F,C++;let q=r[T];for(;I=r[q],Po(R,M,e[2*q],e[2*q+1],e[2*I],e[2*I+1])<0;)F=this._addTriangle(q,P,I,o[P],-1,o[q]),o[P]=this._legalize(F+2),r[q]=q,C--,q=I;if(T===A)for(;I=n[T],Po(R,M,e[2*I],e[2*I+1],e[2*T],e[2*T+1])<0;)F=this._addTriangle(I,P,T,-1,o[T],o[I]),this._legalize(F+2),o[I]=F,r[T]=T,C--,T=I;this._hullStart=n[P]=T,r[T]=n[q]=P,r[P]=q,i[this._hashKey(R,M)]=P,i[this._hashKey(e[2*T],e[2*T+1])]=T}this.hull=new Uint32Array(C);for(let N=0,E=this._hullStart;N<C;N++)this.hull[N]=E,E=r[E];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(T6(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:n,_halfedges:r,coords:o}=this,i=0,a=0;for(;;){let f=r[e],s=e-e%3;if(a=s+(e+2)%3,f===-1){if(i===0)break;e=Vf[--i];continue}let u=f-f%3,c=s+(e+1)%3,h=u+(f+2)%3,l=n[a],p=n[e],m=n[c],g=n[h];if(A6(o[2*l],o[2*l+1],o[2*p],o[2*p+1],o[2*m],o[2*m+1],o[2*g],o[2*g+1])){n[e]=g,n[f]=l;let x=r[h];if(x===-1){let y=this._hullStart;do{if(this._hullTri[y]===h){this._hullTri[y]=e;break}y=this._hullPrev[y]}while(y!==this._hullStart)}this._link(e,x),this._link(f,r[a]),this._link(a,h);let _=u+(f+1)%3;i<Vf.length&&(Vf[i++]=_)}else{if(i===0)break;e=Vf[--i]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,o,i,a){let f=this.trianglesLen;return this._triangles[f]=e,this._triangles[f+1]=n,this._triangles[f+2]=r,this._link(f,o),this._link(f+1,i),this._link(f+2,a),this.trianglesLen+=3,f}};function T6(t,e){let n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function Sl(t,e,n,r){let o=t-n,i=e-r;return o*o+i*i}function A6(t,e,n,r,o,i,a,f){let s=t-a,u=e-f,c=n-a,h=r-f,l=o-a,p=i-f,m=s*s+u*u,g=c*c+h*h,d=l*l+p*p;return s*(h*d-g*p)-u*(c*d-g*l)+m*(c*p-h*l)<0}function k6(t,e,n,r,o,i){let a=n-t,f=r-e,s=o-t,u=i-e,c=a*a+f*f,h=s*s+u*u,l=.5/(a*u-f*s),p=(u*c-f*h)*l,m=(a*h-s*c)*l;return p*p+m*m}function E6(t,e,n,r,o,i){let a=n-t,f=r-e,s=o-t,u=i-e,c=a*a+f*f,h=s*s+u*u,l=.5/(a*u-f*s),p=t+(u*c-f*h)*l,m=e+(a*h-s*c)*l;return{x:p,y:m}}function qo(t,e,n,r){if(r-n<=20)for(let o=n+1;o<=r;o++){let i=t[o],a=e[i],f=o-1;for(;f>=n&&e[t[f]]>a;)t[f+1]=t[f--];t[f+1]=i}else{let o=n+r>>1,i=n+1,a=r;Qi(t,o,i),e[t[n]]>e[t[r]]&&Qi(t,n,r),e[t[i]]>e[t[r]]&&Qi(t,i,r),e[t[n]]>e[t[i]]&&Qi(t,n,i);let f=t[i],s=e[f];for(;;){do i++;while(e[t[i]]<s);do a--;while(e[t[a]]>s);if(a<i)break;Qi(t,i,a)}t[n+1]=t[a],t[a]=f,r-i+1>=a-n?(qo(t,e,i,r),qo(t,e,n,a-1)):(qo(t,e,n,a-1),qo(t,e,i,r))}}function Qi(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function N6(t){return t[0]}function C6(t){return t[1]}var _e=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;let o=e+r,i=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${o},${i}`:(Math.abs(this._x1-o)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+o+","+i),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=o},${this._y1=i}`)}rect(e,n,r,o){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+o}h${-r}Z`}value(){return this._||null}};var Zn=class{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}};var Ir=class{constructor(e,[n,r,o,i]=[0,0,960,500]){if(!((o=+o)>=(n=+n))||!((i=+i)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=o,this.xmin=n,this.ymax=i,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:e,hull:n,triangles:r},vectors:o}=this,i,a,f=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,d=0,x=r.length,_,y;g<x;g+=3,d+=2){let b=r[g]*2,v=r[g+1]*2,w=r[g+2]*2,k=e[b],C=e[b+1],N=e[v],E=e[v+1],S=e[w],P=e[w+1],R=N-k,M=E-C,A=S-k,T=P-C,I=(R*T-M*A)*2;if(Math.abs(I)<1e-9){if(i===void 0){i=a=0;for(let q of n)i+=e[q*2],a+=e[q*2+1];i/=n.length,a/=n.length}let F=1e9*Math.sign((i-k)*T-(a-C)*A);_=(k+S)/2-F*T,y=(C+P)/2+F*A}else{let F=1/I,q=R*R+M*M,B=A*A+T*T;_=k+(T*q-M*B)*F,y=C+(R*B-A*q)*F}f[d]=_,f[d+1]=y}let s=n[n.length-1],u,c=s*4,h,l=e[2*s],p,m=e[2*s+1];o.fill(0);for(let g=0;g<n.length;++g)s=n[g],u=c,h=l,p=m,c=s*4,l=e[2*s],m=e[2*s+1],o[u+2]=o[c]=p-m,o[u+3]=o[c+1]=l-h}render(e){let n=e==null?e=new _e:void 0,{delaunay:{halfedges:r,inedges:o,hull:i},circumcenters:a,vectors:f}=this;if(i.length<=1)return null;for(let c=0,h=r.length;c<h;++c){let l=r[c];if(l<c)continue;let p=Math.floor(c/3)*2,m=Math.floor(l/3)*2,g=a[p],d=a[p+1],x=a[m],_=a[m+1];this._renderSegment(g,d,x,_,e)}let s,u=i[i.length-1];for(let c=0;c<i.length;++c){s=u,u=i[c];let h=Math.floor(o[u]/3)*2,l=a[h],p=a[h+1],m=s*4,g=this._project(l,p,f[m+2],f[m+3]);g&&this._renderSegment(l,p,g[0],g[1],e)}return n&&n.value()}renderBounds(e){let n=e==null?e=new _e:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){let r=n==null?n=new _e:void 0,o=this._clip(e);if(o===null||!o.length)return;n.moveTo(o[0],o[1]);let i=o.length;for(;o[0]===o[i-2]&&o[1]===o[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)(o[a]!==o[a-2]||o[a+1]!==o[a-1])&&n.lineTo(o[a],o[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){let o=this.cellPolygon(n);o&&(o.index=n,yield o)}}cellPolygon(e){let n=new Zn;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,o,i){let a,f=this._regioncode(e,n),s=this._regioncode(r,o);f===0&&s===0?(i.moveTo(e,n),i.lineTo(r,o)):(a=this._clipSegment(e,n,r,o,f,s))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){let n=this._clip(e);if(n)for(let r of this.delaunay.neighbors(e)){let o=this._clip(r);if(o){t:for(let i=0,a=n.length;i<a;i+=2)for(let f=0,s=o.length;f<s;f+=2)if(n[i]===o[f]&&n[i+1]===o[f+1]&&n[(i+2)%a]===o[(f+s-2)%s]&&n[(i+3)%a]===o[(f+s-1)%s]){yield r;break t}}}}_cell(e){let{circumcenters:n,delaunay:{inedges:r,halfedges:o,triangles:i}}=this,a=r[e];if(a===-1)return null;let f=[],s=a;do{let u=Math.floor(s/3);if(f.push(n[u*2],n[u*2+1]),s=s%3===2?s-2:s+1,i[s]!==e)break;s=o[s]}while(s!==a&&s!==-1);return f}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let n=this._cell(e);if(n===null)return null;let{vectors:r}=this,o=e*4;return this._simplify(r[o]||r[o+1]?this._clipInfinite(e,n,r[o],r[o+1],r[o+2],r[o+3]):this._clipFinite(e,n))}_clipFinite(e,n){let r=n.length,o=null,i,a,f=n[r-2],s=n[r-1],u,c=this._regioncode(f,s),h,l=0;for(let p=0;p<r;p+=2)if(i=f,a=s,f=n[p],s=n[p+1],u=c,c=this._regioncode(f,s),u===0&&c===0)h=l,l=0,o?o.push(f,s):o=[f,s];else{let m,g,d,x,_;if(u===0){if((m=this._clipSegment(i,a,f,s,u,c))===null)continue;[g,d,x,_]=m}else{if((m=this._clipSegment(f,s,i,a,c,u))===null)continue;[x,_,g,d]=m,h=l,l=this._edgecode(g,d),h&&l&&this._edge(e,h,l,o,o.length),o?o.push(g,d):o=[g,d]}h=l,l=this._edgecode(x,_),h&&l&&this._edge(e,h,l,o,o.length),o?o.push(x,_):o=[x,_]}if(o)h=l,l=this._edgecode(o[0],o[1]),h&&l&&this._edge(e,h,l,o,o.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(e,n,r,o,i,a){let f=i<a;for(f&&([e,n,r,o,i,a]=[r,o,e,n,a,i]);;){if(i===0&&a===0)return f?[r,o,e,n]:[e,n,r,o];if(i&a)return null;let s,u,c=i||a;c&8?(s=e+(r-e)*(this.ymax-n)/(o-n),u=this.ymax):c&4?(s=e+(r-e)*(this.ymin-n)/(o-n),u=this.ymin):c&2?(u=n+(o-n)*(this.xmax-e)/(r-e),s=this.xmax):(u=n+(o-n)*(this.xmin-e)/(r-e),s=this.xmin),i?(e=s,n=u,i=this._regioncode(e,n)):(r=s,o=u,a=this._regioncode(r,o))}}_clipInfinite(e,n,r,o,i,a){let f=Array.from(n),s;if((s=this._project(f[0],f[1],r,o))&&f.unshift(s[0],s[1]),(s=this._project(f[f.length-2],f[f.length-1],i,a))&&f.push(s[0],s[1]),f=this._clipFinite(e,f))for(let u=0,c=f.length,h,l=this._edgecode(f[c-2],f[c-1]);u<c;u+=2)h=l,l=this._edgecode(f[u],f[u+1]),h&&l&&(u=this._edge(e,h,l,f,u),c=f.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(f=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return f}_edge(e,n,r,o,i){for(;n!==r;){let a,f;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,f=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,f=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,f=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,f=this.ymin;break}(o[i]!==a||o[i+1]!==f)&&this.contains(e,a,f)&&(o.splice(i,0,a,f),i+=2)}return i}_project(e,n,r,o){let i=1/0,a,f,s;if(o<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/o)<i&&(s=this.ymin,f=e+(i=a)*r)}else if(o>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/o)<i&&(s=this.ymax,f=e+(i=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<i&&(f=this.xmax,s=n+(i=a)*o)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<i&&(f=this.xmin,s=n+(i=a)*o)}return[f,s]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){let r=(n+2)%e.length,o=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[o]||e[n+1]===e[r+1]&&e[r+1]===e[o+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}};var R6=2*Math.PI,Fo=Math.pow;function I6(t){return t[0]}function P6(t){return t[1]}function q6(t){let{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){let o=2*e[r],i=2*e[r+1],a=2*e[r+2];if((n[a]-n[o])*(n[i+1]-n[o+1])-(n[i]-n[o])*(n[a+1]-n[o+1])>1e-10)return!1}return!0}function O6(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var Ki=class t{static from(e,n=I6,r=P6,o){return new t("length"in e?F6(e,n,r,o):Float64Array.from(D6(e,n,r,o)))}constructor(e){this._delaunator=new Oo(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&q6(e)){this.collinear=Int32Array.from({length:n.length/2},(l,p)=>p).sort((l,p)=>n[2*l]-n[2*p]||n[2*l+1]-n[2*p+1]);let s=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*s],n[2*s+1],n[2*u],n[2*u+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let l=0,p=n.length/2;l<p;++l){let m=O6(n[2*l],n[2*l+1],h);n[2*l]=m[0],n[2*l+1]=m[1]}this._delaunator=new Oo(n)}else delete this.collinear;let r=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),f=this._hullIndex.fill(-1);for(let s=0,u=r.length;s<u;++s){let c=i[s%3===2?s-2:s+1];(r[s]===-1||a[c]===-1)&&(a[c]=s)}for(let s=0,u=o.length;s<u;++s)f[o[s]]=s;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],a[o[0]]=1,o.length===2&&(a[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(e){return new Ir(this,e)}*neighbors(e){let{inedges:n,hull:r,_hullIndex:o,halfedges:i,triangles:a,collinear:f}=this;if(f){let h=f.indexOf(e);h>0&&(yield f[h-1]),h<f.length-1&&(yield f[h+1]);return}let s=n[e];if(s===-1)return;let u=s,c=-1;do{if(yield c=a[u],u=u%3===2?u-2:u+1,a[u]!==e)return;if(u=i[u],u===-1){let h=r[(o[e]+1)%r.length];h!==c&&(yield h);return}}while(u!==s)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;let o=r,i;for(;(i=this._step(r,e,n))>=0&&i!==r&&i!==o;)r=i;return i}_step(e,n,r){let{inedges:o,hull:i,_hullIndex:a,halfedges:f,triangles:s,points:u}=this;if(o[e]===-1||!u.length)return(e+1)%(u.length>>1);let c=e,h=Fo(n-u[e*2],2)+Fo(r-u[e*2+1],2),l=o[e],p=l;do{let m=s[p],g=Fo(n-u[m*2],2)+Fo(r-u[m*2+1],2);if(g<h&&(h=g,c=m),p=p%3===2?p-2:p+1,s[p]!==e)break;if(p=f[p],p===-1){if(p=i[(a[e]+1)%i.length],p!==m&&Fo(n-u[p*2],2)+Fo(r-u[p*2+1],2)<h)return p;break}}while(p!==l);return c}render(e){let n=e==null?e=new _e:void 0,{points:r,halfedges:o,triangles:i}=this;for(let a=0,f=o.length;a<f;++a){let s=o[a];if(s<a)continue;let u=i[a]*2,c=i[s]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;let r=e==null?e=new _e:void 0,{points:o}=this;for(let i=0,a=o.length;i<a;i+=2){let f=o[i],s=o[i+1];e.moveTo(f+n,s),e.arc(f,s,n,0,R6)}return r&&r.value()}renderHull(e){let n=e==null?e=new _e:void 0,{hull:r,points:o}=this,i=r[0]*2,a=r.length;e.moveTo(o[i],o[i+1]);for(let f=1;f<a;++f){let s=2*r[f];e.lineTo(o[s],o[s+1])}return e.closePath(),n&&n.value()}hullPolygon(){let e=new Zn;return this.renderHull(e),e.value()}renderTriangle(e,n){let r=n==null?n=new _e:void 0,{points:o,triangles:i}=this,a=i[e*=3]*2,f=i[e+1]*2,s=i[e+2]*2;return n.moveTo(o[a],o[a+1]),n.lineTo(o[f],o[f+1]),n.lineTo(o[s],o[s+1]),n.closePath(),r&&r.value()}*trianglePolygons(){let{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){let n=new Zn;return this.renderTriangle(e,n),n.value()}};function F6(t,e,n,r){let o=t.length,i=new Float64Array(o*2);for(let a=0;a<o;++a){let f=t[a];i[a*2]=e.call(r,f,a,t),i[a*2+1]=n.call(r,f,a,t)}return i}function*D6(t,e,n,r){let o=0;for(let i of t)yield e.call(r,i,o,t),yield n.call(r,i,o,t),++o}var I1={},Tl={},Al=34,Ji=10,kl=13;function q1(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function L6(t,e){var n=q1(t);return function(r,o){return e(n(r),o,t)}}function P1(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var o in r)o in e||n.push(e[o]=o)}),n}function se(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function $6(t){return t<0?"-"+se(-t,6):t>9999?"+"+se(t,6):se(t,4)}function Y6(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":$6(t.getUTCFullYear(),4)+"-"+se(t.getUTCMonth()+1,2)+"-"+se(t.getUTCDate(),2)+(o?"T"+se(e,2)+":"+se(n,2)+":"+se(r,2)+"."+se(o,3)+"Z":r?"T"+se(e,2)+":"+se(n,2)+":"+se(r,2)+"Z":n||e?"T"+se(e,2)+":"+se(n,2)+"Z":"")}function jn(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(h,l){var p,m,g=o(h,function(d,x){if(p)return p(d,x-1);m=d,p=l?L6(d,l):q1(d)});return g.columns=m||[],g}function o(h,l){var p=[],m=h.length,g=0,d=0,x,_=m<=0,y=!1;h.charCodeAt(m-1)===Ji&&--m,h.charCodeAt(m-1)===kl&&--m;function b(){if(_)return Tl;if(y)return y=!1,I1;var w,k=g,C;if(h.charCodeAt(k)===Al){for(;g++<m&&h.charCodeAt(g)!==Al||h.charCodeAt(++g)===Al;);return(w=g)>=m?_=!0:(C=h.charCodeAt(g++))===Ji?y=!0:C===kl&&(y=!0,h.charCodeAt(g)===Ji&&++g),h.slice(k+1,w-1).replace(/""/g,'"')}for(;g<m;){if((C=h.charCodeAt(w=g++))===Ji)y=!0;else if(C===kl)y=!0,h.charCodeAt(g)===Ji&&++g;else if(C!==n)continue;return h.slice(k,w)}return _=!0,h.slice(k,m)}for(;(x=b())!==Tl;){for(var v=[];x!==I1&&x!==Tl;)v.push(x),x=b();l&&(v=l(v,d++))==null||p.push(v)}return p}function i(h,l){return h.map(function(p){return l.map(function(m){return c(p[m])}).join(t)})}function a(h,l){return l==null&&(l=P1(h)),[l.map(c).join(t)].concat(i(h,l)).join(`
`)}function f(h,l){return l==null&&(l=P1(h)),i(h,l).join(`
`)}function s(h){return h.map(u).join(`
`)}function u(h){return h.map(c).join(t)}function c(h){return h==null?"":h instanceof Date?Y6(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:o,format:a,formatBody:f,formatRows:s,formatRow:u,formatValue:c}}var Pr=jn(","),Wf=Pr.parse,O1=Pr.parseRows,F1=Pr.format,D1=Pr.formatBody,L1=Pr.formatRows,$1=Pr.formatRow,Y1=Pr.formatValue;var qr=jn("	"),Gf=qr.parse,U1=qr.parseRows,B1=qr.format,z1=qr.formatBody,H1=qr.formatRows,X1=qr.formatRow,V1=qr.formatValue;function El(t){for(var e in t){var n=t[e].trim(),r,o;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(o=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))U6&&o[4]&&!o[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}var U6=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function B6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function W1(t,e){return fetch(t,e).then(B6)}function z6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function G1(t,e){return fetch(t,e).then(z6)}function H6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Or(t,e){return fetch(t,e).then(H6)}function Z1(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Or(e,n).then(function(o){return t(o,r)})}}function Nl(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var o=jn(t);return Or(e,n).then(function(i){return o.parse(i,r)})}var j1=Z1(Wf),Q1=Z1(Gf);function K1(t,e){return new Promise(function(n,r){var o=new Image;for(var i in e)o[i]=e[i];o.onerror=r,o.onload=function(){n(o)},o.src=t})}function X6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function J1(t,e){return fetch(t,e).then(X6)}function Cl(t){return(e,n)=>Or(e,n).then(r=>new DOMParser().parseFromString(r,t))}var tg=Cl("application/xml"),eg=Cl("text/html"),ng=Cl("image/svg+xml");function rg(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function o(){var i,a=n.length,f,s=0,u=0;for(i=0;i<a;++i)f=n[i],s+=f.x,u+=f.y;for(s=(s/a-t)*r,u=(u/a-e)*r,i=0;i<a;++i)f=n[i],f.x-=s,f.y-=u}return o.initialize=function(i){n=i},o.x=function(i){return arguments.length?(t=+i,o):t},o.y=function(i){return arguments.length?(e=+i,o):e},o.strength=function(i){return arguments.length?(r=+i,o):r},o}function og(t){let e=+this._x.call(null,t),n=+this._y.call(null,t);return ig(this.cover(e,n),e,n,t)}function ig(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i=t._root,a={data:r},f=t._x0,s=t._y0,u=t._x1,c=t._y1,h,l,p,m,g,d,x,_;if(!i)return t._root=a,t;for(;i.length;)if((g=e>=(h=(f+u)/2))?f=h:u=h,(d=n>=(l=(s+c)/2))?s=l:c=l,o=i,!(i=i[x=d<<1|g]))return o[x]=a,t;if(p=+t._x.call(null,i.data),m=+t._y.call(null,i.data),e===p&&n===m)return a.next=i,o?o[x]=a:t._root=a,t;do o=o?o[x]=new Array(4):t._root=new Array(4),(g=e>=(h=(f+u)/2))?f=h:u=h,(d=n>=(l=(s+c)/2))?s=l:c=l;while((x=d<<1|g)===(_=(m>=l)<<1|p>=h));return o[_]=i,o[x]=a,t}function ag(t){var e,n,r=t.length,o,i,a=new Array(r),f=new Array(r),s=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=o,f[n]=i,o<s&&(s=o),o>c&&(c=o),i<u&&(u=i),i>h&&(h=i));if(s>c||u>h)return this;for(this.cover(s,u).cover(c,h),n=0;n<r;++n)ig(this,a[n],f[n],t[n]);return this}function fg(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var a=o-n||1,f=this._root,s,u;n>t||t>=o||r>e||e>=i;)switch(u=(e<r)<<1|t<n,s=new Array(4),s[u]=f,f=s,a*=2,u){case 0:o=n+a,i=r+a;break;case 1:n=o-a,i=r+a;break;case 2:o=n+a,r=i-a;break;case 3:n=o-a,r=i-a;break}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this}function ug(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function sg(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Yt(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function cg(t,e,n){var r,o=this._x0,i=this._y0,a,f,s,u,c=this._x1,h=this._y1,l=[],p=this._root,m,g;for(p&&l.push(new Yt(p,o,i,c,h)),n==null?n=1/0:(o=t-n,i=e-n,c=t+n,h=e+n,n*=n);m=l.pop();)if(!(!(p=m.node)||(a=m.x0)>c||(f=m.y0)>h||(s=m.x1)<o||(u=m.y1)<i))if(p.length){var d=(a+s)/2,x=(f+u)/2;l.push(new Yt(p[3],d,x,s,u),new Yt(p[2],a,x,d,u),new Yt(p[1],d,f,s,x),new Yt(p[0],a,f,d,x)),(g=(e>=x)<<1|t>=d)&&(m=l[l.length-1],l[l.length-1]=l[l.length-1-g],l[l.length-1-g]=m)}else{var _=t-+this._x.call(null,p.data),y=e-+this._y.call(null,p.data),b=_*_+y*y;if(b<n){var v=Math.sqrt(n=b);o=t-v,i=e-v,c=t+v,h=e+v,r=p.data}}return r}function lg(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,o,i,a=this._x0,f=this._y0,s=this._x1,u=this._y1,c,h,l,p,m,g,d,x;if(!n)return this;if(n.length)for(;;){if((m=c>=(l=(a+s)/2))?a=l:s=l,(g=h>=(p=(f+u)/2))?f=p:u=p,e=n,!(n=n[d=g<<1|m]))return this;if(!n.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(r=e,x=d)}for(;n.data!==t;)if(o=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,o?(i?o.next=i:delete o.next,this):e?(i?e[d]=i:delete e[d],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=i,this)}function hg(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function pg(){return this._root}function dg(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function mg(t){var e=[],n,r=this._root,o,i,a,f,s;for(r&&e.push(new Yt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,i=n.x0,a=n.y0,f=n.x1,s=n.y1)&&r.length){var u=(i+f)/2,c=(a+s)/2;(o=r[3])&&e.push(new Yt(o,u,c,f,s)),(o=r[2])&&e.push(new Yt(o,i,c,u,s)),(o=r[1])&&e.push(new Yt(o,u,a,f,c)),(o=r[0])&&e.push(new Yt(o,i,a,u,c))}return this}function gg(t){var e=[],n=[],r;for(this._root&&e.push(new Yt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var o=r.node;if(o.length){var i,a=r.x0,f=r.y0,s=r.x1,u=r.y1,c=(a+s)/2,h=(f+u)/2;(i=o[0])&&e.push(new Yt(i,a,f,c,h)),(i=o[1])&&e.push(new Yt(i,c,f,s,h)),(i=o[2])&&e.push(new Yt(i,a,h,c,u)),(i=o[3])&&e.push(new Yt(i,c,h,s,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function xg(t){return t[0]}function bg(t){return arguments.length?(this._x=t,this):this._x}function yg(t){return t[1]}function _g(t){return arguments.length?(this._y=t,this):this._y}function Qn(t,e,n){var r=new Rl(e==null?xg:e,n==null?yg:n,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Rl(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function vg(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ee=Qn.prototype=Rl.prototype;ee.copy=function(){var t=new Rl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=vg(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var o=0;o<4;++o)(r=e.source[o])&&(r.length?n.push({source:r,target:e.target[o]=new Array(4)}):e.target[o]=vg(r));return t};ee.add=og;ee.addAll=ag;ee.cover=fg;ee.data=ug;ee.extent=sg;ee.find=cg;ee.remove=lg;ee.removeAll=hg;ee.root=pg;ee.size=dg;ee.visit=mg;ee.visitAfter=gg;ee.x=bg;ee.y=_g;function Mt(t){return function(){return t}}function Oe(t){return(t()-.5)*1e-6}function V6(t){return t.x+t.vx}function W6(t){return t.y+t.vy}function wg(t){var e,n,r,o=1,i=1;typeof t!="function"&&(t=Mt(t==null?1:+t));function a(){for(var u,c=e.length,h,l,p,m,g,d,x=0;x<i;++x)for(h=Qn(e,V6,W6).visitAfter(f),u=0;u<c;++u)l=e[u],g=n[l.index],d=g*g,p=l.x+l.vx,m=l.y+l.vy,h.visit(_);function _(y,b,v,w,k){var C=y.data,N=y.r,E=g+N;if(C){if(C.index>l.index){var S=p-C.x-C.vx,P=m-C.y-C.vy,R=S*S+P*P;R<E*E&&(S===0&&(S=Oe(r),R+=S*S),P===0&&(P=Oe(r),R+=P*P),R=(E-(R=Math.sqrt(R)))/R*o,l.vx+=(S*=R)*(E=(N*=N)/(d+N)),l.vy+=(P*=R)*E,C.vx-=S*(E=1-E),C.vy-=P*E)}return}return b>p+E||w<p-E||v>m+E||k<m-E}}function f(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function s(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return a.initialize=function(u,c){e=u,r=c,s()},a.iterations=function(u){return arguments.length?(i=+u,a):i},a.strength=function(u){return arguments.length?(o=+u,a):o},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Mt(+u),s(),a):t},a}function G6(t){return t.index}function Mg(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Sg(t){var e=G6,n=h,r,o=Mt(30),i,a,f,s,u,c=1;t==null&&(t=[]);function h(d){return 1/Math.min(f[d.source.index],f[d.target.index])}function l(d){for(var x=0,_=t.length;x<c;++x)for(var y=0,b,v,w,k,C,N,E;y<_;++y)b=t[y],v=b.source,w=b.target,k=w.x+w.vx-v.x-v.vx||Oe(u),C=w.y+w.vy-v.y-v.vy||Oe(u),N=Math.sqrt(k*k+C*C),N=(N-i[y])/N*d*r[y],k*=N,C*=N,w.vx-=k*(E=s[y]),w.vy-=C*E,v.vx+=k*(E=1-E),v.vy+=C*E}function p(){if(a){var d,x=a.length,_=t.length,y=new Map(a.map((v,w)=>[e(v,w,a),v])),b;for(d=0,f=new Array(x);d<_;++d)b=t[d],b.index=d,typeof b.source!="object"&&(b.source=Mg(y,b.source)),typeof b.target!="object"&&(b.target=Mg(y,b.target)),f[b.source.index]=(f[b.source.index]||0)+1,f[b.target.index]=(f[b.target.index]||0)+1;for(d=0,s=new Array(_);d<_;++d)b=t[d],s[d]=f[b.source.index]/(f[b.source.index]+f[b.target.index]);r=new Array(_),m(),i=new Array(_),g()}}function m(){if(a)for(var d=0,x=t.length;d<x;++d)r[d]=+n(t[d],d,t)}function g(){if(a)for(var d=0,x=t.length;d<x;++d)i[d]=+o(t[d],d,t)}return l.initialize=function(d,x){a=d,u=x,p()},l.links=function(d){return arguments.length?(t=d,p(),l):t},l.id=function(d){return arguments.length?(e=d,l):e},l.iterations=function(d){return arguments.length?(c=+d,l):c},l.strength=function(d){return arguments.length?(n=typeof d=="function"?d:Mt(+d),m(),l):n},l.distance=function(d){return arguments.length?(o=typeof d=="function"?d:Mt(+d),g(),l):o},l}function Tg(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}function Ag(t){return t.x}function kg(t){return t.y}var Z6=10,j6=Math.PI*(3-Math.sqrt(5));function Eg(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,f=new Map,s=Ar(h),u=be("tick","end"),c=Tg();t==null&&(t=[]);function h(){l(),u.call("tick",e),n<r&&(s.stop(),u.call("end",e))}function l(g){var d,x=t.length,_;g===void 0&&(g=1);for(var y=0;y<g;++y)for(n+=(i-n)*o,f.forEach(function(b){b(n)}),d=0;d<x;++d)_=t[d],_.fx==null?_.x+=_.vx*=a:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=a:(_.y=_.fy,_.vy=0);return e}function p(){for(var g=0,d=t.length,x;g<d;++g){if(x=t[g],x.index=g,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var _=Z6*Math.sqrt(.5+g),y=g*j6;x.x=_*Math.cos(y),x.y=_*Math.sin(y)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function m(g){return g.initialize&&g.initialize(t,c),g}return p(),e={tick:l,restart:function(){return s.restart(h),e},stop:function(){return s.stop(),e},nodes:function(g){return arguments.length?(t=g,p(),f.forEach(m),e):t},alpha:function(g){return arguments.length?(n=+g,e):n},alphaMin:function(g){return arguments.length?(r=+g,e):r},alphaDecay:function(g){return arguments.length?(o=+g,e):+o},alphaTarget:function(g){return arguments.length?(i=+g,e):i},velocityDecay:function(g){return arguments.length?(a=1-g,e):1-a},randomSource:function(g){return arguments.length?(c=g,f.forEach(m),e):c},force:function(g,d){return arguments.length>1?(d==null?f.delete(g):f.set(g,m(d)),e):f.get(g)},find:function(g,d,x){var _=0,y=t.length,b,v,w,k,C;for(x==null?x=1/0:x*=x,_=0;_<y;++_)k=t[_],b=g-k.x,v=d-k.y,w=b*b+v*v,w<x&&(C=k,x=w);return C},on:function(g,d){return arguments.length>1?(u.on(g,d),e):u.on(g)}}}function Ng(){var t,e,n,r,o=Mt(-30),i,a=1,f=1/0,s=.81;function u(p){var m,g=t.length,d=Qn(t,Ag,kg).visitAfter(h);for(r=p,m=0;m<g;++m)e=t[m],d.visit(l)}function c(){if(t){var p,m=t.length,g;for(i=new Array(m),p=0;p<m;++p)g=t[p],i[g.index]=+o(g,p,t)}}function h(p){var m=0,g,d,x=0,_,y,b;if(p.length){for(_=y=b=0;b<4;++b)(g=p[b])&&(d=Math.abs(g.value))&&(m+=g.value,x+=d,_+=d*g.x,y+=d*g.y);p.x=_/x,p.y=y/x}else{g=p,g.x=g.data.x,g.y=g.data.y;do m+=i[g.data.index];while(g=g.next)}p.value=m}function l(p,m,g,d){if(!p.value)return!0;var x=p.x-e.x,_=p.y-e.y,y=d-m,b=x*x+_*_;if(y*y/s<b)return b<f&&(x===0&&(x=Oe(n),b+=x*x),_===0&&(_=Oe(n),b+=_*_),b<a&&(b=Math.sqrt(a*b)),e.vx+=x*p.value*r/b,e.vy+=_*p.value*r/b),!0;if(p.length||b>=f)return;(p.data!==e||p.next)&&(x===0&&(x=Oe(n),b+=x*x),_===0&&(_=Oe(n),b+=_*_),b<a&&(b=Math.sqrt(a*b)));do p.data!==e&&(y=i[p.data.index]*r/b,e.vx+=x*y,e.vy+=_*y);while(p=p.next)}return u.initialize=function(p,m){t=p,n=m,c()},u.strength=function(p){return arguments.length?(o=typeof p=="function"?p:Mt(+p),c(),u):o},u.distanceMin=function(p){return arguments.length?(a=p*p,u):Math.sqrt(a)},u.distanceMax=function(p){return arguments.length?(f=p*p,u):Math.sqrt(f)},u.theta=function(p){return arguments.length?(s=p*p,u):Math.sqrt(s)},u}function Cg(t,e,n){var r,o=Mt(.1),i,a;typeof t!="function"&&(t=Mt(+t)),e==null&&(e=0),n==null&&(n=0);function f(u){for(var c=0,h=r.length;c<h;++c){var l=r[c],p=l.x-e||1e-6,m=l.y-n||1e-6,g=Math.sqrt(p*p+m*m),d=(a[c]-g)*i[c]*u/g;l.vx+=p*d,l.vy+=m*d}}function s(){if(r){var u,c=r.length;for(i=new Array(c),a=new Array(c),u=0;u<c;++u)a[u]=+t(r[u],u,r),i[u]=isNaN(a[u])?0:+o(r[u],u,r)}}return f.initialize=function(u){r=u,s()},f.strength=function(u){return arguments.length?(o=typeof u=="function"?u:Mt(+u),s(),f):o},f.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Mt(+u),s(),f):t},f.x=function(u){return arguments.length?(e=+u,f):e},f.y=function(u){return arguments.length?(n=+u,f):n},f}function Rg(t){var e=Mt(.1),n,r,o;typeof t!="function"&&(t=Mt(t==null?0:+t));function i(f){for(var s=0,u=n.length,c;s<u;++s)c=n[s],c.vx+=(o[s]-c.x)*r[s]*f}function a(){if(n){var f,s=n.length;for(r=new Array(s),o=new Array(s),f=0;f<s;++f)r[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return i.initialize=function(f){n=f,a()},i.strength=function(f){return arguments.length?(e=typeof f=="function"?f:Mt(+f),a(),i):e},i.x=function(f){return arguments.length?(t=typeof f=="function"?f:Mt(+f),a(),i):t},i}function Ig(t){var e=Mt(.1),n,r,o;typeof t!="function"&&(t=Mt(t==null?0:+t));function i(f){for(var s=0,u=n.length,c;s<u;++s)c=n[s],c.vy+=(o[s]-c.y)*r[s]*f}function a(){if(n){var f,s=n.length;for(r=new Array(s),o=new Array(s),f=0;f<s;++f)r[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return i.initialize=function(f){n=f,a()},i.strength=function(f){return arguments.length?(e=typeof f=="function"?f:Mt(+f),a(),i):e},i.y=function(f){return arguments.length?(t=typeof f=="function"?f:Mt(+f),a(),i):t},i}function Pg(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ke(t){return t=Fr(Math.abs(t)),t?t[1]:NaN}function qg(t,e){return function(n,r){for(var o=n.length,i=[],a=0,f=t[0],s=0;o>0&&f>0&&(s+f+1>r&&(f=Math.max(1,r-s)),i.push(n.substring(o-=f,o+f)),!((s+=f+1)>r));)f=t[a=(a+1)%t.length];return i.reverse().join(e)}}function Og(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Q6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fe(t){if(!(e=Q6.exec(t)))throw new Error("invalid format: "+t);var e;return new ta({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fe.prototype=ta.prototype;function ta(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ta.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fg(t){t:for(var e=t.length,n=1,r=-1,o;n<e;++n)switch(t[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var Il;function Dg(t,e){var n=Fr(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(Il=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Fr(t,Math.max(0,e+i-1))[0]}function Pl(t,e){var n=Fr(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}var ql={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pg,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Pl(t*100,e),r:Pl,s:Dg,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ol(t){return t}var Lg=Array.prototype.map,$g=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Zf(t){var e=t.grouping===void 0||t.thousands===void 0?Ol:qg(Lg.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Ol:Og(Lg.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"\u2212":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Fe(h);var l=h.fill,p=h.align,m=h.sign,g=h.symbol,d=h.zero,x=h.width,_=h.comma,y=h.precision,b=h.trim,v=h.type;v==="n"?(_=!0,v="g"):ql[v]||(y===void 0&&(y=12),b=!0,v="g"),(d||l==="0"&&p==="=")&&(d=!0,l="0",p="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",k=g==="$"?r:/[%p]/.test(v)?a:"",C=ql[v],N=/[defgprs%]/.test(v);y=y===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function E(S){var P=w,R=k,M,A,T;if(v==="c")R=C(S)+R,S="";else{S=+S;var I=S<0||1/S<0;if(S=isNaN(S)?s:C(Math.abs(S),y),b&&(S=Fg(S)),I&&+S==0&&m!=="+"&&(I=!1),P=(I?m==="("?m:f:m==="-"||m==="("?"":m)+P,R=(v==="s"?$g[8+Il/3]:"")+R+(I&&m==="("?")":""),N){for(M=-1,A=S.length;++M<A;)if(T=S.charCodeAt(M),48>T||T>57){R=(T===46?o+S.slice(M+1):S.slice(M))+R,S=S.slice(0,M);break}}}_&&!d&&(S=e(S,1/0));var F=P.length+S.length+R.length,q=F<x?new Array(x-F+1).join(l):"";switch(_&&d&&(S=e(q+S,q.length?x-R.length:1/0),q=""),p){case"<":S=P+S+R+q;break;case"=":S=P+q+S+R;break;case"^":S=q.slice(0,F=q.length>>1)+P+S+R+q.slice(F);break;default:S=q+P+S+R;break}return i(S)}return E.toString=function(){return h+""},E}function c(h,l){var p=u((h=Fe(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Ke(l)/3)))*3,g=Math.pow(10,-m),d=$g[8+m/3];return function(x){return p(g*x)+d}}return{format:u,formatPrefix:c}}var jf,Dr,ea;Qf({thousands:",",grouping:[3],currency:["$",""]});function Qf(t){return jf=Zf(t),Dr=jf.format,ea=jf.formatPrefix,jf}function Kf(t){return Math.max(0,-Ke(Math.abs(t)))}function Jf(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ke(e)/3)))*3-Ke(Math.abs(t)))}function tu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ke(e)-Ke(t))+1}var H=1e-6,Tn=1e-12,tt=Math.PI,yt=tt/2,Do=tt/4,Ct=tt*2,at=180/tt,V=tt/180,j=Math.abs,ve=Math.atan,_t=Math.atan2,$=Math.cos,na=Math.ceil,eu=Math.exp;var nu=Math.hypot,Lr=Math.log,ru=Math.pow,L=Math.sin,Qt=Math.sign||function(t){return t>0?1:t<0?-1:0},lt=Math.sqrt,Lo=Math.tan;function ou(t){return t>1?0:t<-1?tt:Math.acos(t)}function vt(t){return t>1?yt:t<-1?-yt:Math.asin(t)}function Fl(t){return(t=L(t/2))*t}function pt(){}function iu(t,e){t&&Ug.hasOwnProperty(t.type)&&Ug[t.type](t,e)}var Yg={Feature:function(t,e){iu(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)iu(n[r].geometry,e)}},Ug={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Dl(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Dl(n[r],e,0)},Polygon:function(t,e){Bg(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Bg(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)iu(n[r],e)}};function Dl(t,e,n){var r=-1,o=t.length-n,i;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Bg(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Dl(t[n],e,1);e.polygonEnd()}function Ut(t,e){t&&Yg.hasOwnProperty(t.type)?Yg[t.type](t,e):iu(t,e)}var ra=new gt,au=new gt,zg,Hg,Ll,$l,Yl,De={point:pt,lineStart:pt,lineEnd:pt,polygonStart:function(){ra=new gt,De.lineStart=K6,De.lineEnd=J6},polygonEnd:function(){var t=+ra;au.add(t<0?Ct+t:t),this.lineStart=this.lineEnd=this.point=pt},sphere:function(){au.add(Ct)}};function K6(){De.point=t4}function J6(){Xg(zg,Hg)}function t4(t,e){De.point=Xg,zg=t,Hg=e,t*=V,e*=V,Ll=t,$l=$(e=e/2+Do),Yl=L(e)}function Xg(t,e){t*=V,e*=V,e=e/2+Do;var n=t-Ll,r=n>=0?1:-1,o=r*n,i=$(e),a=L(e),f=Yl*a,s=$l*i+f*$(o),u=f*r*L(o);ra.add(_t(u,s)),Ll=t,$l=i,Yl=a}function Vg(t){return au=new gt,Ut(t,De),au*2}function $r(t){return[_t(t[1],t[0]),vt(t[2])]}function we(t){var e=t[0],n=t[1],r=$(n);return[r*$(e),r*L(e),L(n)]}function oa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function An(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function fu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ia(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Yr(t){var e=lt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var kt,ce,Nt,de,Ur,jg,Qg,$o,aa,Kn,En,kn={point:Ul,lineStart:Wg,lineEnd:Gg,polygonStart:function(){kn.point=Jg,kn.lineStart=e4,kn.lineEnd=n4,aa=new gt,De.polygonStart()},polygonEnd:function(){De.polygonEnd(),kn.point=Ul,kn.lineStart=Wg,kn.lineEnd=Gg,ra<0?(kt=-(Nt=180),ce=-(de=90)):aa>H?de=90:aa<-H&&(ce=-90),En[0]=kt,En[1]=Nt},sphere:function(){kt=-(Nt=180),ce=-(de=90)}};function Ul(t,e){Kn.push(En=[kt=t,Nt=t]),e<ce&&(ce=e),e>de&&(de=e)}function Kg(t,e){var n=we([t*V,e*V]);if($o){var r=An($o,n),o=[r[1],-r[0],0],i=An(o,r);Yr(i),i=$r(i);var a=t-Ur,f=a>0?1:-1,s=i[0]*at*f,u,c=j(a)>180;c^(f*Ur<s&&s<f*t)?(u=i[1]*at,u>de&&(de=u)):(s=(s+360)%360-180,c^(f*Ur<s&&s<f*t)?(u=-i[1]*at,u<ce&&(ce=u)):(e<ce&&(ce=e),e>de&&(de=e))),c?t<Ur?pe(kt,t)>pe(kt,Nt)&&(Nt=t):pe(t,Nt)>pe(kt,Nt)&&(kt=t):Nt>=kt?(t<kt&&(kt=t),t>Nt&&(Nt=t)):t>Ur?pe(kt,t)>pe(kt,Nt)&&(Nt=t):pe(t,Nt)>pe(kt,Nt)&&(kt=t)}else Kn.push(En=[kt=t,Nt=t]);e<ce&&(ce=e),e>de&&(de=e),$o=n,Ur=t}function Wg(){kn.point=Kg}function Gg(){En[0]=kt,En[1]=Nt,kn.point=Ul,$o=null}function Jg(t,e){if($o){var n=t-Ur;aa.add(j(n)>180?n+(n>0?360:-360):n)}else jg=t,Qg=e;De.point(t,e),Kg(t,e)}function e4(){De.lineStart()}function n4(){Jg(jg,Qg),De.lineEnd(),j(aa)>H&&(kt=-(Nt=180)),En[0]=kt,En[1]=Nt,$o=null}function pe(t,e){return(e-=t)<0?e+360:e}function r4(t,e){return t[0]-e[0]}function Zg(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function tx(t){var e,n,r,o,i,a,f;if(de=Nt=-(kt=ce=1/0),Kn=[],Ut(t,kn),n=Kn.length){for(Kn.sort(r4),e=1,r=Kn[0],i=[r];e<n;++e)o=Kn[e],Zg(r,o[0])||Zg(r,o[1])?(pe(r[0],o[1])>pe(r[0],r[1])&&(r[1]=o[1]),pe(o[0],r[1])>pe(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,n=i.length-1,e=0,r=i[n];e<=n;r=o,++e)o=i[e],(f=pe(r[1],o[0]))>a&&(a=f,kt=o[0],Nt=r[1])}return Kn=En=null,kt===1/0||ce===1/0?[[NaN,NaN],[NaN,NaN]]:[[kt,ce],[Nt,de]]}var fa,uu,su,cu,lu,hu,pu,du,Bl,zl,Hl,rx,ox,ne,re,oe,Le={sphere:pt,point:Xl,lineStart:ex,lineEnd:nx,polygonStart:function(){Le.lineStart=a4,Le.lineEnd=f4},polygonEnd:function(){Le.lineStart=ex,Le.lineEnd=nx}};function Xl(t,e){t*=V,e*=V;var n=$(e);ua(n*$(t),n*L(t),L(e))}function ua(t,e,n){++fa,su+=(t-su)/fa,cu+=(e-cu)/fa,lu+=(n-lu)/fa}function ex(){Le.point=o4}function o4(t,e){t*=V,e*=V;var n=$(e);ne=n*$(t),re=n*L(t),oe=L(e),Le.point=i4,ua(ne,re,oe)}function i4(t,e){t*=V,e*=V;var n=$(e),r=n*$(t),o=n*L(t),i=L(e),a=_t(lt((a=re*i-oe*o)*a+(a=oe*r-ne*i)*a+(a=ne*o-re*r)*a),ne*r+re*o+oe*i);uu+=a,hu+=a*(ne+(ne=r)),pu+=a*(re+(re=o)),du+=a*(oe+(oe=i)),ua(ne,re,oe)}function nx(){Le.point=Xl}function a4(){Le.point=u4}function f4(){ix(rx,ox),Le.point=Xl}function u4(t,e){rx=t,ox=e,t*=V,e*=V,Le.point=ix;var n=$(e);ne=n*$(t),re=n*L(t),oe=L(e),ua(ne,re,oe)}function ix(t,e){t*=V,e*=V;var n=$(e),r=n*$(t),o=n*L(t),i=L(e),a=re*i-oe*o,f=oe*r-ne*i,s=ne*o-re*r,u=nu(a,f,s),c=vt(u),h=u&&-c/u;Bl.add(h*a),zl.add(h*f),Hl.add(h*s),uu+=c,hu+=c*(ne+(ne=r)),pu+=c*(re+(re=o)),du+=c*(oe+(oe=i)),ua(ne,re,oe)}function ax(t){fa=uu=su=cu=lu=hu=pu=du=0,Bl=new gt,zl=new gt,Hl=new gt,Ut(t,Le);var e=+Bl,n=+zl,r=+Hl,o=nu(e,n,r);return o<Tn&&(e=hu,n=pu,r=du,uu<H&&(e=su,n=cu,r=lu),o=nu(e,n,r),o<Tn)?[NaN,NaN]:[_t(n,e)*at,vt(r/o)*at]}function Br(t){return function(){return t}}function sa(t,e){function n(r,o){return r=t(r,o),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,o){return r=e.invert(r,o),r&&t.invert(r[0],r[1])}),n}function Vl(t,e){return j(t)>tt&&(t-=Math.round(t/Ct)*Ct),[t,e]}Vl.invert=Vl;function ca(t,e,n){return(t%=Ct)?e||n?sa(ux(t),sx(e,n)):ux(t):e||n?sx(e,n):Vl}function fx(t){return function(e,n){return e+=t,j(e)>tt&&(e-=Math.round(e/Ct)*Ct),[e,n]}}function ux(t){var e=fx(t);return e.invert=fx(-t),e}function sx(t,e){var n=$(t),r=L(t),o=$(e),i=L(e);function a(f,s){var u=$(s),c=$(f)*u,h=L(f)*u,l=L(s),p=l*n+c*r;return[_t(h*o-p*i,c*n-l*r),vt(p*o+h*i)]}return a.invert=function(f,s){var u=$(s),c=$(f)*u,h=L(f)*u,l=L(s),p=l*o-h*i;return[_t(h*o+l*i,c*n+p*r),vt(p*n-c*r)]},a}function mu(t){t=ca(t[0]*V,t[1]*V,t.length>2?t[2]*V:0);function e(n){return n=t(n[0]*V,n[1]*V),n[0]*=at,n[1]*=at,n}return e.invert=function(n){return n=t.invert(n[0]*V,n[1]*V),n[0]*=at,n[1]*=at,n},e}function Wl(t,e,n,r,o,i){if(n){var a=$(e),f=L(e),s=r*n;o==null?(o=e+r*Ct,i=e-s/2):(o=cx(a,o),i=cx(a,i),(r>0?o<i:o>i)&&(o+=r*Ct));for(var u,c=o;r>0?c>i:c<i;c-=s)u=$r([a,-f*$(c),-f*L(c)]),t.point(u[0],u[1])}}function cx(t,e){e=we(e),e[0]-=t,Yr(e);var n=ou(-e[1]);return((-e[2]<0?-n:n)+Ct-H)%Ct}function lx(){var t=Br([0,0]),e=Br(90),n=Br(2),r,o,i={point:a};function a(s,u){r.push(s=o(s,u)),s[0]*=at,s[1]*=at}function f(){var s=t.apply(this,arguments),u=e.apply(this,arguments)*V,c=n.apply(this,arguments)*V;return r=[],o=ca(-s[0]*V,-s[1]*V,0).invert,Wl(i,u,c,1),s={type:"Polygon",coordinates:[r]},r=o=null,s}return f.center=function(s){return arguments.length?(t=typeof s=="function"?s:Br([+s[0],+s[1]]),f):t},f.radius=function(s){return arguments.length?(e=typeof s=="function"?s:Br(+s),f):e},f.precision=function(s){return arguments.length?(n=typeof s=="function"?s:Br(+s),f):n},f}function gu(){var t=[],e;return{point:function(n,r,o){e.push([n,r,o])},lineStart:function(){t.push(e=[])},lineEnd:pt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Yo(t,e){return j(t[0]-e[0])<H&&j(t[1]-e[1])<H}function xu(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function bu(t,e,n,r,o){var i=[],a=[],f,s;if(t.forEach(function(m){if(!((g=m.length-1)<=0)){var g,d=m[0],x=m[g],_;if(Yo(d,x)){if(!d[2]&&!x[2]){for(o.lineStart(),f=0;f<g;++f)o.point((d=m[f])[0],d[1]);o.lineEnd();return}x[0]+=2*H}i.push(_=new xu(d,m,null,!0)),a.push(_.o=new xu(d,null,_,!1)),i.push(_=new xu(x,m,null,!1)),a.push(_.o=new xu(x,null,_,!0))}}),!!i.length){for(a.sort(e),hx(i),hx(a),f=0,s=a.length;f<s;++f)a[f].e=n=!n;for(var u=i[0],c,h;;){for(var l=u,p=!0;l.v;)if((l=l.n)===u)return;c=l.z,o.lineStart();do{if(l.v=l.o.v=!0,l.e){if(p)for(f=0,s=c.length;f<s;++f)o.point((h=c[f])[0],h[1]);else r(l.x,l.n.x,1,o);l=l.n}else{if(p)for(c=l.p.z,f=c.length-1;f>=0;--f)o.point((h=c[f])[0],h[1]);else r(l.x,l.p.x,-1,o);l=l.p}l=l.o,c=l.z,p=!p}while(!l.v);o.lineEnd()}}}function hx(t){if(e=t.length){for(var e,n=0,r=t[0],o;++n<e;)r.n=o=t[n],o.p=r,r=o;r.n=o=t[0],o.p=r}}function Gl(t){return j(t[0])<=tt?t[0]:Qt(t[0])*((j(t[0])+tt)%Ct-tt)}function yu(t,e){var n=Gl(e),r=e[1],o=L(r),i=[L(n),-$(n),0],a=0,f=0,s=new gt;o===1?r=yt+H:o===-1&&(r=-yt-H);for(var u=0,c=t.length;u<c;++u)if(l=(h=t[u]).length)for(var h,l,p=h[l-1],m=Gl(p),g=p[1]/2+Do,d=L(g),x=$(g),_=0;_<l;++_,m=b,d=w,x=k,p=y){var y=h[_],b=Gl(y),v=y[1]/2+Do,w=L(v),k=$(v),C=b-m,N=C>=0?1:-1,E=N*C,S=E>tt,P=d*w;if(s.add(_t(P*N*L(E),x*k+P*$(E))),a+=S?C+N*Ct:C,S^m>=n^b>=n){var R=An(we(p),we(y));Yr(R);var M=An(i,R);Yr(M);var A=(S^C>=0?-1:1)*vt(M[2]);(r>A||r===A&&(R[0]||R[1]))&&(f+=S^C>=0?1:-1)}}return(a<-H||a<H&&s<-Tn)^f&1}function _u(t,e,n,r){return function(o){var i=e(o),a=gu(),f=e(a),s=!1,u,c,h,l={point:p,lineStart:g,lineEnd:d,polygonStart:function(){l.point=x,l.lineStart=_,l.lineEnd=y,c=[],u=[]},polygonEnd:function(){l.point=p,l.lineStart=g,l.lineEnd=d,c=gr(c);var b=yu(u,r);c.length?(s||(o.polygonStart(),s=!0),bu(c,c4,b,n,o)):b&&(s||(o.polygonStart(),s=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),s&&(o.polygonEnd(),s=!1),c=u=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(b,v){t(b,v)&&o.point(b,v)}function m(b,v){i.point(b,v)}function g(){l.point=m,i.lineStart()}function d(){l.point=p,i.lineEnd()}function x(b,v){h.push([b,v]),f.point(b,v)}function _(){f.lineStart(),h=[]}function y(){x(h[0][0],h[0][1]),f.lineEnd();var b=f.clean(),v=a.result(),w,k=v.length,C,N,E;if(h.pop(),u.push(h),h=null,!!k){if(b&1){if(N=v[0],(C=N.length-1)>0){for(s||(o.polygonStart(),s=!0),o.lineStart(),w=0;w<C;++w)o.point((E=N[w])[0],E[1]);o.lineEnd()}return}k>1&&b&2&&v.push(v.pop().concat(v.shift())),c.push(v.filter(s4))}}return l}}function s4(t){return t.length>1}function c4(t,e){return((t=t.x)[0]<0?t[1]-yt-H:yt-t[1])-((e=e.x)[0]<0?e[1]-yt-H:yt-e[1])}var la=_u(function(){return!0},l4,p4,[-tt,-yt]);function l4(t){var e=NaN,n=NaN,r=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(i,a){var f=i>0?tt:-tt,s=j(i-e);j(s-tt)<H?(t.point(e,n=(n+a)/2>0?yt:-yt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(i,n),o=0):r!==f&&s>=tt&&(j(e-r)<H&&(e-=r*H),j(i-f)<H&&(i-=f*H),n=h4(e,n,i,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=i,n=a),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function h4(t,e,n,r){var o,i,a=L(t-n);return j(a)>H?ve((L(e)*(i=$(r))*L(n)-L(r)*(o=$(e))*L(t))/(o*i*a)):(e+r)/2}function p4(t,e,n,r){var o;if(t==null)o=n*yt,r.point(-tt,o),r.point(0,o),r.point(tt,o),r.point(tt,0),r.point(tt,-o),r.point(0,-o),r.point(-tt,-o),r.point(-tt,0),r.point(-tt,o);else if(j(t[0]-e[0])>H){var i=t[0]<e[0]?tt:-tt;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}function vu(t){var e=$(t),n=2*V,r=e>0,o=j(e)>H;function i(c,h,l,p){Wl(p,t,n,l,c,h)}function a(c,h){return $(c)*$(h)>e}function f(c){var h,l,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(d,x){var _=[d,x],y,b=a(d,x),v=r?b?0:u(d,x):b?u(d+(d<0?tt:-tt),x):0;if(!h&&(m=p=b)&&c.lineStart(),b!==p&&(y=s(h,_),(!y||Yo(h,y)||Yo(_,y))&&(_[2]=1)),b!==p)g=0,b?(c.lineStart(),y=s(_,h),c.point(y[0],y[1])):(y=s(h,_),c.point(y[0],y[1],2),c.lineEnd()),h=y;else if(o&&h&&r^b){var w;!(v&l)&&(w=s(_,h,!0))&&(g=0,r?(c.lineStart(),c.point(w[0][0],w[0][1]),c.point(w[1][0],w[1][1]),c.lineEnd()):(c.point(w[1][0],w[1][1]),c.lineEnd(),c.lineStart(),c.point(w[0][0],w[0][1],3)))}b&&(!h||!Yo(h,_))&&c.point(_[0],_[1]),h=_,p=b,l=v},lineEnd:function(){p&&c.lineEnd(),h=null},clean:function(){return g|(m&&p)<<1}}}function s(c,h,l){var p=we(c),m=we(h),g=[1,0,0],d=An(p,m),x=oa(d,d),_=d[0],y=x-_*_;if(!y)return!l&&c;var b=e*x/y,v=-e*_/y,w=An(g,d),k=ia(g,b),C=ia(d,v);fu(k,C);var N=w,E=oa(k,N),S=oa(N,N),P=E*E-S*(oa(k,k)-1);if(!(P<0)){var R=lt(P),M=ia(N,(-E-R)/S);if(fu(M,k),M=$r(M),!l)return M;var A=c[0],T=h[0],I=c[1],F=h[1],q;T<A&&(q=A,A=T,T=q);var B=T-A,X=j(B-tt)<H,W=X||B<H;if(!X&&F<I&&(q=I,I=F,F=q),W?X?I+F>0^M[1]<(j(M[0]-A)<H?I:F):I<=M[1]&&M[1]<=F:B>tt^(A<=M[0]&&M[0]<=T)){var ht=ia(N,(-E+R)/S);return fu(ht,k),[M,$r(ht)]}}}function u(c,h){var l=r?t:tt-t,p=0;return c<-l?p|=1:c>l&&(p|=2),h<-l?p|=4:h>l&&(p|=8),p}return _u(a,f,i,r?[0,-t]:[-tt,t-tt])}function px(t,e,n,r,o,i){var a=t[0],f=t[1],s=e[0],u=e[1],c=0,h=1,l=s-a,p=u-f,m;if(m=n-a,!(!l&&m>0)){if(m/=l,l<0){if(m<c)return;m<h&&(h=m)}else if(l>0){if(m>h)return;m>c&&(c=m)}if(m=o-a,!(!l&&m<0)){if(m/=l,l<0){if(m>h)return;m>c&&(c=m)}else if(l>0){if(m<c)return;m<h&&(h=m)}if(m=r-f,!(!p&&m>0)){if(m/=p,p<0){if(m<c)return;m<h&&(h=m)}else if(p>0){if(m>h)return;m>c&&(c=m)}if(m=i-f,!(!p&&m<0)){if(m/=p,p<0){if(m>h)return;m>c&&(c=m)}else if(p>0){if(m<c)return;m<h&&(h=m)}return c>0&&(t[0]=a+c*l,t[1]=f+c*p),h<1&&(e[0]=a+h*l,e[1]=f+h*p),!0}}}}}var ha=1e9,wu=-ha;function Nn(t,e,n,r){function o(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function i(u,c,h,l){var p=0,m=0;if(u==null||(p=a(u,h))!==(m=a(c,h))||s(u,c)<0^h>0)do l.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+h+4)%4)!==m);else l.point(c[0],c[1])}function a(u,c){return j(u[0]-t)<H?c>0?0:3:j(u[0]-n)<H?c>0?2:1:j(u[1]-e)<H?c>0?1:0:c>0?3:2}function f(u,c){return s(u.x,c.x)}function s(u,c){var h=a(u,1),l=a(c,1);return h!==l?h-l:h===0?c[1]-u[1]:h===1?u[0]-c[0]:h===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,h=gu(),l,p,m,g,d,x,_,y,b,v,w,k={point:C,lineStart:P,lineEnd:R,polygonStart:E,polygonEnd:S};function C(A,T){o(A,T)&&c.point(A,T)}function N(){for(var A=0,T=0,I=p.length;T<I;++T)for(var F=p[T],q=1,B=F.length,X=F[0],W,ht,it=X[0],K=X[1];q<B;++q)W=it,ht=K,X=F[q],it=X[0],K=X[1],ht<=r?K>r&&(it-W)*(r-ht)>(K-ht)*(t-W)&&++A:K<=r&&(it-W)*(r-ht)<(K-ht)*(t-W)&&--A;return A}function E(){c=h,l=[],p=[],w=!0}function S(){var A=N(),T=w&&A,I=(l=gr(l)).length;(T||I)&&(u.polygonStart(),T&&(u.lineStart(),i(null,null,1,u),u.lineEnd()),I&&bu(l,f,A,i,u),u.polygonEnd()),c=u,l=p=m=null}function P(){k.point=M,p&&p.push(m=[]),v=!0,b=!1,_=y=NaN}function R(){l&&(M(g,d),x&&b&&h.rejoin(),l.push(h.result())),k.point=C,b&&c.lineEnd()}function M(A,T){var I=o(A,T);if(p&&m.push([A,T]),v)g=A,d=T,x=I,v=!1,I&&(c.lineStart(),c.point(A,T));else if(I&&b)c.point(A,T);else{var F=[_=Math.max(wu,Math.min(ha,_)),y=Math.max(wu,Math.min(ha,y))],q=[A=Math.max(wu,Math.min(ha,A)),T=Math.max(wu,Math.min(ha,T))];px(F,q,t,e,n,r)?(b||(c.lineStart(),c.point(F[0],F[1])),c.point(q[0],q[1]),I||c.lineEnd(),w=!1):I&&(c.lineStart(),c.point(A,T),w=!1)}_=A,y=T,b=I}return k}}function dx(){var t=0,e=0,n=960,r=500,o,i,a;return a={stream:function(f){return o&&i===f?o:o=Nn(t,e,n,r)(i=f)},extent:function(f){return arguments.length?(t=+f[0][0],e=+f[0][1],n=+f[1][0],r=+f[1][1],o=i=null,a):[[t,e],[n,r]]}}}var Zl,jl,Mu,Su,Uo={sphere:pt,point:pt,lineStart:d4,lineEnd:pt,polygonStart:pt,polygonEnd:pt};function d4(){Uo.point=g4,Uo.lineEnd=m4}function m4(){Uo.point=Uo.lineEnd=pt}function g4(t,e){t*=V,e*=V,jl=t,Mu=L(e),Su=$(e),Uo.point=x4}function x4(t,e){t*=V,e*=V;var n=L(e),r=$(e),o=j(t-jl),i=$(o),a=L(o),f=r*a,s=Su*n-Mu*r*i,u=Mu*n+Su*r*i;Zl.add(_t(lt(f*f+s*s),u)),jl=t,Mu=n,Su=r}function Tu(t){return Zl=new gt,Ut(t,Uo),+Zl}var Ql=[null,null],b4={type:"LineString",coordinates:Ql};function Bo(t,e){return Ql[0]=t,Ql[1]=e,Tu(b4)}var mx={Feature:function(t,e){return Au(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)if(Au(n[r].geometry,e))return!0;return!1}},gx={Sphere:function(){return!0},Point:function(t,e){return xx(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(xx(n[r],e))return!0;return!1},LineString:function(t,e){return bx(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(bx(n[r],e))return!0;return!1},Polygon:function(t,e){return yx(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(yx(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)if(Au(n[r],e))return!0;return!1}};function Au(t,e){return t&&gx.hasOwnProperty(t.type)?gx[t.type](t,e):!1}function xx(t,e){return Bo(t,e)===0}function bx(t,e){for(var n,r,o,i=0,a=t.length;i<a;i++){if(r=Bo(t[i],e),r===0||i>0&&(o=Bo(t[i],t[i-1]),o>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<Tn*o))return!0;n=r}return!1}function yx(t,e){return!!yu(t.map(y4),_x(e))}function y4(t){return t=t.map(_x),t.pop(),t}function _x(t){return[t[0]*V,t[1]*V]}function vx(t,e){return(t&&mx.hasOwnProperty(t.type)?mx[t.type]:Au)(t,e)}function wx(t,e,n){var r=xe(t,e-H,n).concat(e);return function(o){return r.map(function(i){return[o,i]})}}function Mx(t,e,n){var r=xe(t,e-H,n).concat(e);return function(o){return r.map(function(i){return[i,o]})}}function ku(){var t,e,n,r,o,i,a,f,s=10,u=s,c=90,h=360,l,p,m,g,d=2.5;function x(){return{type:"MultiLineString",coordinates:_()}}function _(){return xe(na(r/c)*c,n,c).map(m).concat(xe(na(f/h)*h,a,h).map(g)).concat(xe(na(e/s)*s,t,s).filter(function(y){return j(y%c)>H}).map(l)).concat(xe(na(i/u)*u,o,u).filter(function(y){return j(y%h)>H}).map(p))}return x.lines=function(){return _().map(function(y){return{type:"LineString",coordinates:y}})},x.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(a).slice(1),m(n).reverse().slice(1),g(f).reverse().slice(1))]}},x.extent=function(y){return arguments.length?x.extentMajor(y).extentMinor(y):x.extentMinor()},x.extentMajor=function(y){return arguments.length?(r=+y[0][0],n=+y[1][0],f=+y[0][1],a=+y[1][1],r>n&&(y=r,r=n,n=y),f>a&&(y=f,f=a,a=y),x.precision(d)):[[r,f],[n,a]]},x.extentMinor=function(y){return arguments.length?(e=+y[0][0],t=+y[1][0],i=+y[0][1],o=+y[1][1],e>t&&(y=e,e=t,t=y),i>o&&(y=i,i=o,o=y),x.precision(d)):[[e,i],[t,o]]},x.step=function(y){return arguments.length?x.stepMajor(y).stepMinor(y):x.stepMinor()},x.stepMajor=function(y){return arguments.length?(c=+y[0],h=+y[1],x):[c,h]},x.stepMinor=function(y){return arguments.length?(s=+y[0],u=+y[1],x):[s,u]},x.precision=function(y){return arguments.length?(d=+y,l=wx(i,o,90),p=Mx(e,t,d),m=wx(f,a,90),g=Mx(r,n,d),x):d},x.extentMajor([[-180,-90+H],[180,90-H]]).extentMinor([[-180,-80-H],[180,80+H]])}function Sx(){return ku()()}function Tx(t,e){var n=t[0]*V,r=t[1]*V,o=e[0]*V,i=e[1]*V,a=$(r),f=L(r),s=$(i),u=L(i),c=a*$(n),h=a*L(n),l=s*$(o),p=s*L(o),m=2*vt(lt(Fl(i-r)+a*s*Fl(o-n))),g=L(m),d=m?function(x){var _=L(x*=m)/g,y=L(m-x)/g,b=y*c+_*l,v=y*h+_*p,w=y*f+_*u;return[_t(v,b)*at,_t(w,lt(b*b+v*v))*at]}:function(){return[n*at,r*at]};return d.distance=m,d}var Jn=t=>t;var Kl=new gt,Jl=new gt,Ax,kx,th,eh,tr={point:pt,lineStart:pt,lineEnd:pt,polygonStart:function(){tr.lineStart=_4,tr.lineEnd=w4},polygonEnd:function(){tr.lineStart=tr.lineEnd=tr.point=pt,Kl.add(j(Jl)),Jl=new gt},result:function(){var t=Kl/2;return Kl=new gt,t}};function _4(){tr.point=v4}function v4(t,e){tr.point=Ex,Ax=th=t,kx=eh=e}function Ex(t,e){Jl.add(eh*t-th*e),th=t,eh=e}function w4(){Ex(Ax,kx)}var nh=tr;var zo=1/0,Eu=zo,pa=-zo,Nu=pa,M4={point:S4,lineStart:pt,lineEnd:pt,polygonStart:pt,polygonEnd:pt,result:function(){var t=[[zo,Eu],[pa,Nu]];return pa=Nu=-(Eu=zo=1/0),t}};function S4(t,e){t<zo&&(zo=t),t>pa&&(pa=t),e<Eu&&(Eu=e),e>Nu&&(Nu=e)}var Ho=M4;var rh=0,oh=0,da=0,Cu=0,Ru=0,Xo=0,ih=0,ah=0,ma=0,Rx,Ix,Je,tn,$e={point:zr,lineStart:Nx,lineEnd:Cx,polygonStart:function(){$e.lineStart=k4,$e.lineEnd=E4},polygonEnd:function(){$e.point=zr,$e.lineStart=Nx,$e.lineEnd=Cx},result:function(){var t=ma?[ih/ma,ah/ma]:Xo?[Cu/Xo,Ru/Xo]:da?[rh/da,oh/da]:[NaN,NaN];return rh=oh=da=Cu=Ru=Xo=ih=ah=ma=0,t}};function zr(t,e){rh+=t,oh+=e,++da}function Nx(){$e.point=T4}function T4(t,e){$e.point=A4,zr(Je=t,tn=e)}function A4(t,e){var n=t-Je,r=e-tn,o=lt(n*n+r*r);Cu+=o*(Je+t)/2,Ru+=o*(tn+e)/2,Xo+=o,zr(Je=t,tn=e)}function Cx(){$e.point=zr}function k4(){$e.point=N4}function E4(){Px(Rx,Ix)}function N4(t,e){$e.point=Px,zr(Rx=Je=t,Ix=tn=e)}function Px(t,e){var n=t-Je,r=e-tn,o=lt(n*n+r*r);Cu+=o*(Je+t)/2,Ru+=o*(tn+e)/2,Xo+=o,o=tn*t-Je*e,ih+=o*(Je+t),ah+=o*(tn+e),ma+=o*3,zr(Je=t,tn=e)}var fh=$e;function Iu(t){this._context=t}Iu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ct);break}}},result:pt};var sh=new gt,uh,qx,Ox,ga,xa,Pu={point:pt,lineStart:function(){Pu.point=C4},lineEnd:function(){uh&&Fx(qx,Ox),Pu.point=pt},polygonStart:function(){uh=!0},polygonEnd:function(){uh=null},result:function(){var t=+sh;return sh=new gt,t}};function C4(t,e){Pu.point=Fx,qx=ga=t,Ox=xa=e}function Fx(t,e){ga-=t,xa-=e,sh.add(lt(ga*ga+xa*xa)),ga=t,xa=e}var ch=Pu;var Dx,qu,Lx,$x,Vo=class{constructor(e){this._append=e==null?Yx:R4(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Lx||this._append!==qu){let r=this._radius,o=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Lx=r,qu=this._append,$x=this._,this._=o}this._+=$x;break}}}result(){let e=this._;return this._="",e.length?e:null}};function Yx(t){let e=1;this._+=t[0];for(let n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function R4(t){let e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Yx;if(e!==Dx){let n=10**e;Dx=e,qu=function(o){let i=1;this._+=o[0];for(let a=o.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}return qu}function Ux(t,e){let n=3,r=4.5,o,i;function a(f){return f&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),Ut(f,o(i))),i.result()}return a.area=function(f){return Ut(f,o(nh)),nh.result()},a.measure=function(f){return Ut(f,o(ch)),ch.result()},a.bounds=function(f){return Ut(f,o(Ho)),Ho.result()},a.centroid=function(f){return Ut(f,o(fh)),fh.result()},a.projection=function(f){return arguments.length?(o=f==null?(t=null,Jn):(t=f).stream,a):t},a.context=function(f){return arguments.length?(i=f==null?(e=null,new Vo(n)):new Iu(e=f),typeof r!="function"&&i.pointRadius(r),a):e},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(i.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{let s=Math.floor(f);if(!(s>=0))throw new RangeError(`invalid digits: ${f}`);n=s}return e===null&&(i=new Vo(n)),a},a.projection(t).digits(n).context(e)}function Bx(t){return{stream:er(t)}}function er(t){return function(e){var n=new lh;for(var r in t)n[r]=t[r];return n.stream=e,n}}function lh(){}lh.prototype={constructor:lh,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function hh(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Ut(n,t.stream(Ho)),e(Ho.result()),r!=null&&t.clipExtent(r),t}function Hr(t,e,n){return hh(t,function(r){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(o/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),f=+e[0][0]+(o-a*(r[1][0]+r[0][0]))/2,s=+e[0][1]+(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,s])},n)}function Wo(t,e,n){return Hr(t,[[0,0],e],n)}function Go(t,e,n){return hh(t,function(r){var o=+e,i=o/(r[1][0]-r[0][0]),a=(o-i*(r[1][0]+r[0][0]))/2,f=-i*r[0][1];t.scale(150*i).translate([a,f])},n)}function Zo(t,e,n){return hh(t,function(r){var o=+e,i=o/(r[1][1]-r[0][1]),a=-i*r[0][0],f=(o-i*(r[1][1]+r[0][1]))/2;t.scale(150*i).translate([a,f])},n)}var zx=16,I4=$(30*V);function ph(t,e){return+e?q4(t,e):P4(t)}function P4(t){return er({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function q4(t,e){function n(r,o,i,a,f,s,u,c,h,l,p,m,g,d){var x=u-r,_=c-o,y=x*x+_*_;if(y>4*e&&g--){var b=a+l,v=f+p,w=s+m,k=lt(b*b+v*v+w*w),C=vt(w/=k),N=j(j(w)-1)<H||j(i-h)<H?(i+h)/2:_t(v,b),E=t(N,C),S=E[0],P=E[1],R=S-r,M=P-o,A=_*R-x*M;(A*A/y>e||j((x*R+_*M)/y-.5)>.3||a*l+f*p+s*m<I4)&&(n(r,o,i,a,f,s,S,P,N,b/=k,v/=k,w,g,d),d.point(S,P),n(S,P,N,b,v,w,u,c,h,l,p,m,g,d))}}return function(r){var o,i,a,f,s,u,c,h,l,p,m,g,d={point:x,lineStart:_,lineEnd:b,polygonStart:function(){r.polygonStart(),d.lineStart=v},polygonEnd:function(){r.polygonEnd(),d.lineStart=_}};function x(C,N){C=t(C,N),r.point(C[0],C[1])}function _(){h=NaN,d.point=y,r.lineStart()}function y(C,N){var E=we([C,N]),S=t(C,N);n(h,l,c,p,m,g,h=S[0],l=S[1],c=C,p=E[0],m=E[1],g=E[2],zx,r),r.point(h,l)}function b(){d.point=x,r.lineEnd()}function v(){_(),d.point=w,d.lineEnd=k}function w(C,N){y(o=C,N),i=h,a=l,f=p,s=m,u=g,d.point=y}function k(){n(h,l,c,p,m,g,i,a,o,f,s,u,zx,r),d.lineEnd=b,b()}return d}}var O4=er({point:function(t,e){this.stream.point(t*V,e*V)}});function F4(t){return er({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function D4(t,e,n,r,o){function i(a,f){return a*=r,f*=o,[e+t*a,n-t*f]}return i.invert=function(a,f){return[(a-e)/t*r,(n-f)/t*o]},i}function Hx(t,e,n,r,o,i){if(!i)return D4(t,e,n,r,o);var a=$(i),f=L(i),s=a*t,u=f*t,c=a/t,h=f/t,l=(f*n-a*e)/t,p=(f*e+a*n)/t;function m(g,d){return g*=r,d*=o,[s*g-u*d+e,n-u*g-s*d]}return m.invert=function(g,d){return[r*(c*g-h*d+l),o*(p-h*g-c*d)]},m}function Rt(t){return ba(function(){return t})()}function ba(t){var e,n=150,r=480,o=250,i=0,a=0,f=0,s=0,u=0,c,h=0,l=1,p=1,m=null,g=la,d=null,x,_,y,b=Jn,v=.5,w,k,C,N,E;function S(A){return C(A[0]*V,A[1]*V)}function P(A){return A=C.invert(A[0],A[1]),A&&[A[0]*at,A[1]*at]}S.stream=function(A){return N&&E===A?N:N=O4(F4(c)(g(w(b(E=A)))))},S.preclip=function(A){return arguments.length?(g=A,m=void 0,M()):g},S.postclip=function(A){return arguments.length?(b=A,d=x=_=y=null,M()):b},S.clipAngle=function(A){return arguments.length?(g=+A?vu(m=A*V):(m=null,la),M()):m*at},S.clipExtent=function(A){return arguments.length?(b=A==null?(d=x=_=y=null,Jn):Nn(d=+A[0][0],x=+A[0][1],_=+A[1][0],y=+A[1][1]),M()):d==null?null:[[d,x],[_,y]]},S.scale=function(A){return arguments.length?(n=+A,R()):n},S.translate=function(A){return arguments.length?(r=+A[0],o=+A[1],R()):[r,o]},S.center=function(A){return arguments.length?(i=A[0]%360*V,a=A[1]%360*V,R()):[i*at,a*at]},S.rotate=function(A){return arguments.length?(f=A[0]%360*V,s=A[1]%360*V,u=A.length>2?A[2]%360*V:0,R()):[f*at,s*at,u*at]},S.angle=function(A){return arguments.length?(h=A%360*V,R()):h*at},S.reflectX=function(A){return arguments.length?(l=A?-1:1,R()):l<0},S.reflectY=function(A){return arguments.length?(p=A?-1:1,R()):p<0},S.precision=function(A){return arguments.length?(w=ph(k,v=A*A),M()):lt(v)},S.fitExtent=function(A,T){return Hr(S,A,T)},S.fitSize=function(A,T){return Wo(S,A,T)},S.fitWidth=function(A,T){return Go(S,A,T)},S.fitHeight=function(A,T){return Zo(S,A,T)};function R(){var A=Hx(n,0,0,l,p,h).apply(null,e(i,a)),T=Hx(n,r-A[0],o-A[1],l,p,h);return c=ca(f,s,u),k=sa(e,T),C=sa(c,k),w=ph(k,v),M()}function M(){return N=E=null,S}return function(){return e=t.apply(this,arguments),S.invert=e.invert&&P,R()}}function jo(t){var e=0,n=tt/3,r=ba(t),o=r(e,n);return o.parallels=function(i){return arguments.length?r(e=i[0]*V,n=i[1]*V):[e*at,n*at]},o}function Xx(t){var e=$(t);function n(r,o){return[r*e,L(o)/e]}return n.invert=function(r,o){return[r/e,vt(o*e)]},n}function dh(t,e){var n=L(t),r=(n+L(e))/2;if(j(r)<H)return Xx(t);var o=1+n*(2*r-n),i=lt(o)/r;function a(f,s){var u=lt(o-2*r*L(s))/r;return[u*L(f*=r),i-u*$(f)]}return a.invert=function(f,s){var u=i-s,c=_t(f,j(u))*Qt(u);return u*r<0&&(c-=tt*Qt(f)*Qt(u)),[c/r,vt((o-(f*f+u*u)*r*r)/(2*r))]},a}function Xr(){return jo(dh).scale(155.424).center([0,33.6442])}function Ou(){return Xr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function L4(t){var e=t.length;return{point:function(n,r){for(var o=-1;++o<e;)t[o].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Vx(){var t,e,n=Ou(),r,o=Xr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,a=Xr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s,u={point:function(l,p){s=[l,p]}};function c(l){var p=l[0],m=l[1];return s=null,r.point(p,m),s||(i.point(p,m),s)||(f.point(p,m),s)}c.invert=function(l){var p=n.scale(),m=n.translate(),g=(l[0]-m[0])/p,d=(l[1]-m[1])/p;return(d>=.12&&d<.234&&g>=-.425&&g<-.214?o:d>=.166&&d<.234&&g>=-.214&&g<-.115?a:n).invert(l)},c.stream=function(l){return t&&e===l?t:t=L4([n.stream(e=l),o.stream(l),a.stream(l)])},c.precision=function(l){return arguments.length?(n.precision(l),o.precision(l),a.precision(l),h()):n.precision()},c.scale=function(l){return arguments.length?(n.scale(l),o.scale(l*.35),a.scale(l),c.translate(n.translate())):n.scale()},c.translate=function(l){if(!arguments.length)return n.translate();var p=n.scale(),m=+l[0],g=+l[1];return r=n.translate(l).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(u),i=o.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+H,g+.12*p+H],[m-.214*p-H,g+.234*p-H]]).stream(u),f=a.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+H,g+.166*p+H],[m-.115*p-H,g+.234*p-H]]).stream(u),h()},c.fitExtent=function(l,p){return Hr(c,l,p)},c.fitSize=function(l,p){return Wo(c,l,p)},c.fitWidth=function(l,p){return Go(c,l,p)},c.fitHeight=function(l,p){return Zo(c,l,p)};function h(){return t=e=null,c}return c.scale(1070)}function Fu(t){return function(e,n){var r=$(e),o=$(n),i=t(r*o);return i===1/0?[2,0]:[i*o*L(e),i*L(n)]}}function en(t){return function(e,n){var r=lt(e*e+n*n),o=t(r),i=L(o),a=$(o);return[_t(e*i,r*a),vt(r&&n*i/r)]}}var Du=Fu(function(t){return lt(2/(1+t))});Du.invert=en(function(t){return 2*vt(t/2)});function Wx(){return Rt(Du).scale(124.75).clipAngle(180-.001)}var Lu=Fu(function(t){return(t=ou(t))&&t/L(t)});Lu.invert=en(function(t){return t});function Gx(){return Rt(Lu).scale(79.4188).clipAngle(180-.001)}function Vr(t,e){return[t,Lr(Lo((yt+e)/2))]}Vr.invert=function(t,e){return[t,2*ve(eu(e))-yt]};function Zx(){return mh(Vr).scale(961/Ct)}function mh(t){var e=Rt(t),n=e.center,r=e.scale,o=e.translate,i=e.clipExtent,a=null,f,s,u;e.scale=function(h){return arguments.length?(r(h),c()):r()},e.translate=function(h){return arguments.length?(o(h),c()):o()},e.center=function(h){return arguments.length?(n(h),c()):n()},e.clipExtent=function(h){return arguments.length?(h==null?a=f=s=u=null:(a=+h[0][0],f=+h[0][1],s=+h[1][0],u=+h[1][1]),c()):a==null?null:[[a,f],[s,u]]};function c(){var h=tt*r(),l=e(mu(e.rotate()).invert([0,0]));return i(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===Vr?[[Math.max(l[0]-h,a),f],[Math.min(l[0]+h,s),u]]:[[a,Math.max(l[1]-h,f)],[s,Math.min(l[1]+h,u)]])}return c()}function $u(t){return Lo((yt+t)/2)}function gh(t,e){var n=$(t),r=t===e?L(t):Lr(n/$(e))/Lr($u(e)/$u(t)),o=n*ru($u(t),r)/r;if(!r)return Vr;function i(a,f){o>0?f<-yt+H&&(f=-yt+H):f>yt-H&&(f=yt-H);var s=o/ru($u(f),r);return[s*L(r*a),o-s*$(r*a)]}return i.invert=function(a,f){var s=o-f,u=Qt(r)*lt(a*a+s*s),c=_t(a,j(s))*Qt(s);return s*r<0&&(c-=tt*Qt(a)*Qt(s)),[c/r,2*ve(ru(o/u,1/r))-yt]},i}function jx(){return jo(gh).scale(109.5).parallels([30,30])}function Wr(t,e){return[t,e]}Wr.invert=Wr;function Qx(){return Rt(Wr).scale(152.63)}function xh(t,e){var n=$(t),r=t===e?L(t):(n-$(e))/(e-t),o=n/r+t;if(j(r)<H)return Wr;function i(a,f){var s=o-f,u=r*a;return[s*L(u),o-s*$(u)]}return i.invert=function(a,f){var s=o-f,u=_t(a,j(s))*Qt(s);return s*r<0&&(u-=tt*Qt(a)*Qt(s)),[u/r,o-Qt(r)*lt(a*a+s*s)]},i}function Kx(){return jo(xh).scale(131.154).center([0,13.9389])}var ya=1.340264,_a=-.081106,va=893e-6,wa=.003796,Yu=lt(3)/2,$4=12;function Uu(t,e){var n=vt(Yu*L(e)),r=n*n,o=r*r*r;return[t*$(n)/(Yu*(ya+3*_a*r+o*(7*va+9*wa*r))),n*(ya+_a*r+o*(va+wa*r))]}Uu.invert=function(t,e){for(var n=e,r=n*n,o=r*r*r,i=0,a,f,s;i<$4&&(f=n*(ya+_a*r+o*(va+wa*r))-e,s=ya+3*_a*r+o*(7*va+9*wa*r),n-=a=f/s,r=n*n,o=r*r*r,!(j(a)<Tn));++i);return[Yu*t*(ya+3*_a*r+o*(7*va+9*wa*r))/$(n),vt(L(n)/Yu)]};function Jx(){return Rt(Uu).scale(177.158)}function Bu(t,e){var n=$(e),r=$(t)*n;return[n*L(t)/r,L(e)/r]}Bu.invert=en(ve);function t2(){return Rt(Bu).scale(144.049).clipAngle(60)}function e2(){var t=1,e=0,n=0,r=1,o=1,i=0,a,f,s=null,u,c,h,l=1,p=1,m=er({point:function(b,v){var w=y([b,v]);this.stream.point(w[0],w[1])}}),g=Jn,d,x;function _(){return l=t*r,p=t*o,d=x=null,y}function y(b){var v=b[0]*l,w=b[1]*p;if(i){var k=w*a-v*f;v=v*a+w*f,w=k}return[v+e,w+n]}return y.invert=function(b){var v=b[0]-e,w=b[1]-n;if(i){var k=w*a+v*f;v=v*a-w*f,w=k}return[v/l,w/p]},y.stream=function(b){return d&&x===b?d:d=m(g(x=b))},y.postclip=function(b){return arguments.length?(g=b,s=u=c=h=null,_()):g},y.clipExtent=function(b){return arguments.length?(g=b==null?(s=u=c=h=null,Jn):Nn(s=+b[0][0],u=+b[0][1],c=+b[1][0],h=+b[1][1]),_()):s==null?null:[[s,u],[c,h]]},y.scale=function(b){return arguments.length?(t=+b,_()):t},y.translate=function(b){return arguments.length?(e=+b[0],n=+b[1],_()):[e,n]},y.angle=function(b){return arguments.length?(i=b%360*V,f=L(i),a=$(i),_()):i*at},y.reflectX=function(b){return arguments.length?(r=b?-1:1,_()):r<0},y.reflectY=function(b){return arguments.length?(o=b?-1:1,_()):o<0},y.fitExtent=function(b,v){return Hr(y,b,v)},y.fitSize=function(b,v){return Wo(y,b,v)},y.fitWidth=function(b,v){return Go(y,b,v)},y.fitHeight=function(b,v){return Zo(y,b,v)},y}function zu(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}zu.invert=function(t,e){var n=e,r=25,o;do{var i=n*n,a=i*i;n-=o=(n*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-e)/(1.007226+i*(.015085*3+a*(-.044475*7+.028874*9*i-.005916*11*a)))}while(j(o)>H&&--r>0);return[t/(.8707+(i=n*n)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),n]};function n2(){return Rt(zu).scale(175.295)}function Hu(t,e){return[$(e)*L(t),L(e)]}Hu.invert=en(vt);function r2(){return Rt(Hu).scale(249.5).clipAngle(90+H)}function Xu(t,e){var n=$(e),r=1+$(t)*n;return[n*L(t)/r,L(e)/r]}Xu.invert=en(function(t){return 2*ve(t)});function o2(){return Rt(Xu).scale(250).clipAngle(142)}function Vu(t,e){return[Lr(Lo((yt+e)/2)),-t]}Vu.invert=function(t,e){return[-e,2*ve(eu(t))-yt]};function i2(){var t=mh(Vu),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Y4(t,e){return t.parent===e.parent?1:2}function U4(t){return t.reduce(B4,0)/t.length}function B4(t,e){return t+e.x}function z4(t){return 1+t.reduce(H4,0)}function H4(t,e){return Math.max(t,e.y)}function X4(t){for(var e;e=t.children;)t=e[0];return t}function V4(t){for(var e;e=t.children;)t=e[e.length-1];return t}function a2(){var t=Y4,e=1,n=1,r=!1;function o(i){var a,f=0;i.eachAfter(function(l){var p=l.children;p?(l.x=U4(p),l.y=z4(p)):(l.x=a?f+=t(l,a):0,l.y=0,a=l)});var s=X4(i),u=V4(i),c=s.x-t(s,u)/2,h=u.x+t(u,s)/2;return i.eachAfter(r?function(l){l.x=(l.x-i.x)*e,l.y=(i.y-l.y)*n}:function(l){l.x=(l.x-c)/(h-c)*e,l.y=(1-(i.y?l.y/i.y:1))*n})}return o.separation=function(i){return arguments.length?(t=i,o):t},o.size=function(i){return arguments.length?(r=!1,e=+i[0],n=+i[1],o):r?null:[e,n]},o.nodeSize=function(i){return arguments.length?(r=!0,e=+i[0],n=+i[1],o):r?[e,n]:null},o}function W4(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function f2(){return this.eachAfter(W4)}function u2(t,e){let n=-1;for(let r of this)t.call(e,r,++n,this);return this}function s2(t,e){for(var n=this,r=[n],o,i,a=-1;n=r.pop();)if(t.call(e,n,++a,this),o=n.children)for(i=o.length-1;i>=0;--i)r.push(o[i]);return this}function c2(t,e){for(var n=this,r=[n],o=[],i,a,f,s=-1;n=r.pop();)if(o.push(n),i=n.children)for(a=0,f=i.length;a<f;++a)r.push(i[a]);for(;n=o.pop();)t.call(e,n,++s,this);return this}function l2(t,e){let n=-1;for(let r of this)if(t.call(e,r,++n,this))return r}function h2(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,o=r&&r.length;--o>=0;)n+=r[o].value;e.value=n})}function p2(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function d2(t){for(var e=this,n=G4(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var o=r.length;t!==n;)r.splice(o,0,t),t=t.parent;return r}function G4(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),o=null;for(t=n.pop(),e=r.pop();t===e;)o=t,t=n.pop(),e=r.pop();return o}function m2(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function g2(){return Array.from(this)}function x2(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function b2(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*y2(){var t=this,e,n=[t],r,o,i;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(o=0,i=r.length;o<i;++o)n.push(r[o]);while(n.length)}function Ma(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Q4)):e===void 0&&(e=j4);for(var n=new nn(t),r,o=[n],i,a,f,s;r=o.pop();)if((a=e(r.data))&&(s=(a=Array.from(a)).length))for(r.children=a,f=s-1;f>=0;--f)o.push(i=a[f]=new nn(a[f])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(bh)}function Z4(){return Ma(this).eachBefore(K4)}function j4(t){return t.children}function Q4(t){return Array.isArray(t)?t[1]:null}function K4(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function bh(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function nn(t){this.data=t,this.depth=this.height=0,this.parent=null}nn.prototype=Ma.prototype={constructor:nn,count:f2,each:u2,eachAfter:c2,eachBefore:s2,find:l2,sum:h2,sort:p2,path:d2,ancestors:m2,descendants:g2,leaves:x2,links:b2,copy:Z4,[Symbol.iterator]:y2};function Qo(t){return t==null?null:yh(t)}function yh(t){if(typeof t!="function")throw new Error;return t}function Cn(){return 0}function nr(t){return function(){return t}}function Ko(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}function _2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function v2(t,e){let n=t.length,r,o;for(;n;)o=e()*n--|0,r=t[n],t[n]=t[o],t[o]=r;return t}function w2(t){return vh(t,Ko())}function vh(t,e){for(var n=0,r=(t=v2(Array.from(t),e)).length,o=[],i,a;n<r;)i=t[n],a&&M2(a,i)?++n:(a=t8(o=J4(o,i)),n=0);return a}function J4(t,e){var n,r;if(_h(e,t))return[e];for(n=0;n<t.length;++n)if(Wu(e,t[n])&&_h(Sa(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Wu(Sa(t[n],t[r]),e)&&Wu(Sa(t[n],e),t[r])&&Wu(Sa(t[r],e),t[n])&&_h(S2(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Wu(t,e){var n=t.r-e.r,r=e.x-t.x,o=e.y-t.y;return n<0||n*n<r*r+o*o}function M2(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function _h(t,e){for(var n=0;n<e.length;++n)if(!M2(t,e[n]))return!1;return!0}function t8(t){switch(t.length){case 1:return e8(t[0]);case 2:return Sa(t[0],t[1]);case 3:return S2(t[0],t[1],t[2])}}function e8(t){return{x:t.x,y:t.y,r:t.r}}function Sa(t,e){var n=t.x,r=t.y,o=t.r,i=e.x,a=e.y,f=e.r,s=i-n,u=a-r,c=f-o,h=Math.sqrt(s*s+u*u);return{x:(n+i+s/h*c)/2,y:(r+a+u/h*c)/2,r:(h+o+f)/2}}function S2(t,e,n){var r=t.x,o=t.y,i=t.r,a=e.x,f=e.y,s=e.r,u=n.x,c=n.y,h=n.r,l=r-a,p=r-u,m=o-f,g=o-c,d=s-i,x=h-i,_=r*r+o*o-i*i,y=_-a*a-f*f+s*s,b=_-u*u-c*c+h*h,v=p*m-l*g,w=(m*b-g*y)/(v*2)-r,k=(g*d-m*x)/v,C=(p*y-l*b)/(v*2)-o,N=(l*x-p*d)/v,E=k*k+N*N-1,S=2*(i+w*k+C*N),P=w*w+C*C-i*i,R=-(Math.abs(E)>1e-6?(S+Math.sqrt(S*S-4*E*P))/(2*E):P/S);return{x:r+w+k*R,y:o+C+N*R,r:R}}function T2(t,e,n){var r=t.x-e.x,o,i,a=t.y-e.y,f,s,u=r*r+a*a;u?(i=e.r+n.r,i*=i,s=t.r+n.r,s*=s,i>s?(o=(u+s-i)/(2*u),f=Math.sqrt(Math.max(0,s/u-o*o)),n.x=t.x-o*r-f*a,n.y=t.y-o*a+f*r):(o=(u+i-s)/(2*u),f=Math.sqrt(Math.max(0,i/u-o*o)),n.x=e.x+o*r-f*a,n.y=e.y+o*a+f*r)):(n.x=e.x+n.r,n.y=e.y)}function A2(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function k2(t){var e=t._,n=t.next._,r=e.r+n.r,o=(e.x*n.r+n.x*e.r)/r,i=(e.y*n.r+n.y*e.r)/r;return o*o+i*i}function Gu(t){this._=t,this.next=null,this.previous=null}function wh(t,e){if(!(i=(t=_2(t)).length))return 0;var n,r,o,i,a,f,s,u,c,h,l;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(i>2))return n.r+r.r;T2(r,n,o=t[2]),n=new Gu(n),r=new Gu(r),o=new Gu(o),n.next=o.previous=r,r.next=n.previous=o,o.next=r.previous=n;t:for(s=3;s<i;++s){T2(n._,r._,o=t[s]),o=new Gu(o),u=r.next,c=n.previous,h=r._.r,l=n._.r;do if(h<=l){if(A2(u._,o._)){r=u,n.next=r,r.previous=n,--s;continue t}h+=u._.r,u=u.next}else{if(A2(c._,o._)){n=c,n.next=r,r.previous=n,--s;continue t}l+=c._.r,c=c.previous}while(u!==c.next);for(o.previous=n,o.next=r,n.next=r.previous=r=o,a=k2(n);(o=o.next)!==r;)(f=k2(o))<a&&(n=o,a=f);r=n.next}for(n=[r._],o=r;(o=o.next)!==r;)n.push(o._);for(o=vh(n,e),s=0;s<i;++s)n=t[s],n.x-=o.x,n.y-=o.y;return o.r}function E2(t){return wh(t,Ko()),t}function n8(t){return Math.sqrt(t.value)}function R2(){var t=null,e=1,n=1,r=Cn;function o(i){let a=Ko();return i.x=e/2,i.y=n/2,t?i.eachBefore(N2(t)).eachAfter(Mh(r,.5,a)).eachBefore(C2(1)):i.eachBefore(N2(n8)).eachAfter(Mh(Cn,1,a)).eachAfter(Mh(r,i.r/Math.min(e,n),a)).eachBefore(C2(Math.min(e,n)/(2*i.r))),i}return o.radius=function(i){return arguments.length?(t=Qo(i),o):t},o.size=function(i){return arguments.length?(e=+i[0],n=+i[1],o):[e,n]},o.padding=function(i){return arguments.length?(r=typeof i=="function"?i:nr(+i),o):r},o}function N2(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Mh(t,e,n){return function(r){if(o=r.children){var o,i,a=o.length,f=t(r)*e||0,s;if(f)for(i=0;i<a;++i)o[i].r+=f;if(s=wh(o,n),f)for(i=0;i<a;++i)o[i].r-=f;r.r=s+f}}}function C2(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Zu(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function rn(t,e,n,r,o){for(var i=t.children,a,f=-1,s=i.length,u=t.value&&(r-e)/t.value;++f<s;)a=i[f],a.y0=n,a.y1=o,a.x0=e,a.x1=e+=a.value*u}function I2(){var t=1,e=1,n=0,r=!1;function o(a){var f=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/f,a.eachBefore(i(e,f)),r&&a.eachBefore(Zu),a}function i(a,f){return function(s){s.children&&rn(s,s.x0,a*(s.depth+1)/f,s.x1,a*(s.depth+2)/f);var u=s.x0,c=s.y0,h=s.x1-n,l=s.y1-n;h<u&&(u=h=(u+h)/2),l<c&&(c=l=(c+l)/2),s.x0=u,s.y0=c,s.x1=h,s.y1=l}}return o.round=function(a){return arguments.length?(r=!!a,o):r},o.size=function(a){return arguments.length?(t=+a[0],e=+a[1],o):[t,e]},o.padding=function(a){return arguments.length?(n=+a,o):n},o}var r8={depth:-1},P2={},Sh={};function o8(t){return t.id}function i8(t){return t.parentId}function O2(){var t=o8,e=i8,n;function r(o){var i=Array.from(o),a=t,f=e,s,u,c,h,l,p,m,g,d=new Map;if(n!=null){let x=i.map((b,v)=>a8(n(b,v,o))),_=x.map(q2),y=new Set(x).add("");for(let b of _)y.has(b)||(y.add(b),x.push(b),_.push(q2(b)),i.push(Sh));a=(b,v)=>x[v],f=(b,v)=>_[v]}for(c=0,s=i.length;c<s;++c)u=i[c],p=i[c]=new nn(u),(m=a(u,c,o))!=null&&(m+="")&&(g=p.id=m,d.set(g,d.has(g)?P2:p)),(m=f(u,c,o))!=null&&(m+="")&&(p.parent=m);for(c=0;c<s;++c)if(p=i[c],m=p.parent){if(l=d.get(m),!l)throw new Error("missing: "+m);if(l===P2)throw new Error("ambiguous: "+m);l.children?l.children.push(p):l.children=[p],p.parent=l}else{if(h)throw new Error("multiple roots");h=p}if(!h)throw new Error("no root");if(n!=null){for(;h.data===Sh&&h.children.length===1;)h=h.children[0],--s;for(let x=i.length-1;x>=0&&(p=i[x],p.data===Sh);--x)p.data=null}if(h.parent=r8,h.eachBefore(function(x){x.depth=x.parent.depth+1,--s}).eachBefore(bh),h.parent=null,s>0)throw new Error("cycle");return h}return r.id=function(o){return arguments.length?(t=Qo(o),r):t},r.parentId=function(o){return arguments.length?(e=Qo(o),r):e},r.path=function(o){return arguments.length?(n=Qo(o),r):n},r}function a8(t){t=`${t}`;let e=t.length;return Th(t,e-1)&&!Th(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function q2(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Th(t,e););return t.slice(0,e)}function Th(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if((n&1)===0)return!0}return!1}function f8(t,e){return t.parent===e.parent?1:2}function Ah(t){var e=t.children;return e?e[0]:t.t}function kh(t){var e=t.children;return e?e[e.length-1]:t.t}function u8(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function s8(t){for(var e=0,n=0,r=t.children,o=r.length,i;--o>=0;)i=r[o],i.z+=e,i.m+=e,e+=i.s+(n+=i.c)}function c8(t,e,n){return t.a.parent===e.parent?t.a:n}function ju(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}ju.prototype=Object.create(nn.prototype);function l8(t){for(var e=new ju(t,0),n,r=[e],o,i,a,f;n=r.pop();)if(i=n._.children)for(n.children=new Array(f=i.length),a=f-1;a>=0;--a)r.push(o=n.children[a]=new ju(i[a],a)),o.parent=n;return(e.parent=new ju(null,0)).children=[e],e}function F2(){var t=f8,e=1,n=1,r=null;function o(u){var c=l8(u);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(a),r)u.eachBefore(s);else{var h=u,l=u,p=u;u.eachBefore(function(_){_.x<h.x&&(h=_),_.x>l.x&&(l=_),_.depth>p.depth&&(p=_)});var m=h===l?1:t(h,l)/2,g=m-h.x,d=e/(l.x+m+g),x=n/(p.depth||1);u.eachBefore(function(_){_.x=(_.x+g)*d,_.y=_.depth*x})}return u}function i(u){var c=u.children,h=u.parent.children,l=u.i?h[u.i-1]:null;if(c){s8(u);var p=(c[0].z+c[c.length-1].z)/2;l?(u.z=l.z+t(u._,l._),u.m=u.z-p):u.z=p}else l&&(u.z=l.z+t(u._,l._));u.parent.A=f(u,l,u.parent.A||h[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function f(u,c,h){if(c){for(var l=u,p=u,m=c,g=l.parent.children[0],d=l.m,x=p.m,_=m.m,y=g.m,b;m=kh(m),l=Ah(l),m&&l;)g=Ah(g),p=kh(p),p.a=u,b=m.z+_-l.z-d+t(m._,l._),b>0&&(u8(c8(m,u,h),u,b),d+=b,x+=b),_+=m.m,d+=l.m,y+=g.m,x+=p.m;m&&!kh(p)&&(p.t=m,p.m+=_-x),l&&!Ah(g)&&(g.t=l,g.m+=d-y,h=u)}return h}function s(u){u.x*=e,u.y=u.depth*n}return o.separation=function(u){return arguments.length?(t=u,o):t},o.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],o):r?null:[e,n]},o.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],o):r?[e,n]:null},o}function rr(t,e,n,r,o){for(var i=t.children,a,f=-1,s=i.length,u=t.value&&(o-n)/t.value;++f<s;)a=i[f],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var Eh=(1+Math.sqrt(5))/2;function Nh(t,e,n,r,o,i){for(var a=[],f=e.children,s,u,c=0,h=0,l=f.length,p,m,g=e.value,d,x,_,y,b,v,w;c<l;){p=o-n,m=i-r;do d=f[h++].value;while(!d&&h<l);for(x=_=d,v=Math.max(m/p,p/m)/(g*t),w=d*d*v,b=Math.max(_/w,w/x);h<l;++h){if(d+=u=f[h].value,u<x&&(x=u),u>_&&(_=u),w=d*d*v,y=Math.max(_/w,w/x),y>b){d-=u;break}b=y}a.push(s={value:d,dice:p<m,children:f.slice(c,h)}),s.dice?rn(s,n,r,o,g?r+=m*d/g:i):rr(s,n,r,g?n+=p*d/g:o,i),g-=d,c=h}return a}var Qu=(function t(e){function n(r,o,i,a,f){Nh(e,r,o,i,a,f)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(Eh);function D2(){var t=Qu,e=!1,n=1,r=1,o=[0],i=Cn,a=Cn,f=Cn,s=Cn,u=Cn;function c(l){return l.x0=l.y0=0,l.x1=n,l.y1=r,l.eachBefore(h),o=[0],e&&l.eachBefore(Zu),l}function h(l){var p=o[l.depth],m=l.x0+p,g=l.y0+p,d=l.x1-p,x=l.y1-p;d<m&&(m=d=(m+d)/2),x<g&&(g=x=(g+x)/2),l.x0=m,l.y0=g,l.x1=d,l.y1=x,l.children&&(p=o[l.depth+1]=i(l)/2,m+=u(l)-p,g+=a(l)-p,d-=f(l)-p,x-=s(l)-p,d<m&&(m=d=(m+d)/2),x<g&&(g=x=(g+x)/2),t(l,m,g,d,x))}return c.round=function(l){return arguments.length?(e=!!l,c):e},c.size=function(l){return arguments.length?(n=+l[0],r=+l[1],c):[n,r]},c.tile=function(l){return arguments.length?(t=yh(l),c):t},c.padding=function(l){return arguments.length?c.paddingInner(l).paddingOuter(l):c.paddingInner()},c.paddingInner=function(l){return arguments.length?(i=typeof l=="function"?l:nr(+l),c):i},c.paddingOuter=function(l){return arguments.length?c.paddingTop(l).paddingRight(l).paddingBottom(l).paddingLeft(l):c.paddingTop()},c.paddingTop=function(l){return arguments.length?(a=typeof l=="function"?l:nr(+l),c):a},c.paddingRight=function(l){return arguments.length?(f=typeof l=="function"?l:nr(+l),c):f},c.paddingBottom=function(l){return arguments.length?(s=typeof l=="function"?l:nr(+l),c):s},c.paddingLeft=function(l){return arguments.length?(u=typeof l=="function"?l:nr(+l),c):u},c}function L2(t,e,n,r,o){var i=t.children,a,f=i.length,s,u=new Array(f+1);for(u[0]=s=a=0;a<f;++a)u[a+1]=s+=i[a].value;c(0,f,t.value,e,n,r,o);function c(h,l,p,m,g,d,x){if(h>=l-1){var _=i[h];_.x0=m,_.y0=g,_.x1=d,_.y1=x;return}for(var y=u[h],b=p/2+y,v=h+1,w=l-1;v<w;){var k=v+w>>>1;u[k]<b?v=k+1:w=k}b-u[v-1]<u[v]-b&&h+1<v&&--v;var C=u[v]-y,N=p-C;if(d-m>x-g){var E=p?(m*N+d*C)/p:d;c(h,v,C,m,g,E,x),c(v,l,N,E,g,d,x)}else{var S=p?(g*N+x*C)/p:x;c(h,v,C,m,g,d,S),c(v,l,N,m,S,d,x)}}}function $2(t,e,n,r,o){(t.depth&1?rr:rn)(t,e,n,r,o)}var Y2=(function t(e){function n(r,o,i,a,f){if((s=r._squarify)&&s.ratio===e)for(var s,u,c,h,l=-1,p,m=s.length,g=r.value;++l<m;){for(u=s[l],c=u.children,h=u.value=0,p=c.length;h<p;++h)u.value+=c[h].value;u.dice?rn(u,o,i,a,g?i+=(f-i)*u.value/g:f):rr(u,o,i,g?o+=(a-o)*u.value/g:a,f),g-=u.value}else r._squarify=s=Nh(e,r,o,i,a,f),s.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(Eh);function U2(t){for(var e=-1,n=t.length,r,o=t[n-1],i=0;++e<n;)r=o,o=t[e],i+=r[1]*o[0]-r[0]*o[1];return i/2}function B2(t){for(var e=-1,n=t.length,r=0,o=0,i,a=t[n-1],f,s=0;++e<n;)i=a,a=t[e],s+=f=i[0]*a[1]-a[0]*i[1],r+=(i[0]+a[0])*f,o+=(i[1]+a[1])*f;return s*=3,[r/s,o/s]}function z2(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function h8(t,e){return t[0]-e[0]||t[1]-e[1]}function H2(t){let e=t.length,n=[0,1],r=2,o;for(o=2;o<e;++o){for(;r>1&&z2(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function X2(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),o=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(h8),e=0;e<n;++e)o[e]=[r[e][0],-r[e][1]];var i=H2(r),a=H2(o),f=a[0]===i[0],s=a[a.length-1]===i[i.length-1],u=[];for(e=i.length-1;e>=0;--e)u.push(t[r[i[e]][2]]);for(e=+f;e<a.length-s;++e)u.push(t[r[a[e]][2]]);return u}function V2(t,e){for(var n=t.length,r=t[n-1],o=e[0],i=e[1],a=r[0],f=r[1],s,u,c=!1,h=0;h<n;++h)r=t[h],s=r[0],u=r[1],u>i!=f>i&&o<(a-s)*(i-u)/(f-u)+s&&(c=!c),a=s,f=u;return c}function W2(t){for(var e=-1,n=t.length,r=t[n-1],o,i,a=r[0],f=r[1],s=0;++e<n;)o=a,i=f,r=t[e],a=r[0],f=r[1],o-=a,i-=f,s+=Math.hypot(o,i);return s}var ct=Math.random;var G2=(function t(e){function n(r,o){return r=r==null?0:+r,o=o==null?1:+o,arguments.length===1?(o=r,r=0):o-=r,function(){return e()*o+r}}return n.source=t,n})(ct);var Z2=(function t(e){function n(r,o){return arguments.length<2&&(o=r,r=0),r=Math.floor(r),o=Math.floor(o)-r,function(){return Math.floor(e()*o+r)}}return n.source=t,n})(ct);var Jo=(function t(e){function n(r,o){var i,a;return r=r==null?0:+r,o=o==null?1:+o,function(){var f;if(i!=null)f=i,i=null;else do i=e()*2-1,f=e()*2-1,a=i*i+f*f;while(!a||a>1);return r+o*f*Math.sqrt(-2*Math.log(a)/a)}}return n.source=t,n})(ct);var j2=(function t(e){var n=Jo.source(e);function r(){var o=n.apply(this,arguments);return function(){return Math.exp(o())}}return r.source=t,r})(ct);var Ku=(function t(e){function n(r){return(r=+r)<=0?()=>0:function(){for(var o=0,i=r;i>1;--i)o+=e();return o+i*e()}}return n.source=t,n})(ct);var Q2=(function t(e){var n=Ku.source(e);function r(o){if((o=+o)==0)return e;var i=n(o);return function(){return i()/o}}return r.source=t,r})(ct);var K2=(function t(e){function n(r){return function(){return-Math.log1p(-e())/r}}return n.source=t,n})(ct);var J2=(function t(e){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-e(),r)}}return n.source=t,n})(ct);var tb=(function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+r)}}return n.source=t,n})(ct);var Ju=(function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-e())/r)})}return n.source=t,n})(ct);var ti=(function t(e){var n=Jo.source(e)();function r(o,i){if((o=+o)<0)throw new RangeError("invalid k");if(o===0)return()=>0;if(i=i==null?1:+i,o===1)return()=>-Math.log1p(-e())*i;var a=(o<1?o+1:o)-1/3,f=1/(3*Math.sqrt(a)),s=o<1?()=>Math.pow(e(),1/o):()=>1;return function(){do{do var u=n(),c=1+f*u;while(c<=0);c*=c*c;var h=1-e()}while(h>=1-.0331*u*u*u*u&&Math.log(h)>=.5*u*u+a*(1-c+Math.log(c)));return a*c*s()*i}}return r.source=t,r})(ct);var ts=(function t(e){var n=ti.source(e);function r(o,i){var a=n(o),f=n(i);return function(){var s=a();return s===0?0:s/(s+f())}}return r.source=t,r})(ct);var es=(function t(e){var n=Ju.source(e),r=ts.source(e);function o(i,a){return i=+i,(a=+a)>=1?()=>i:a<=0?()=>0:function(){for(var f=0,s=i,u=a;s*u>16&&s*(1-u)>16;){var c=Math.floor((s+1)*u),h=r(c,s-c+1)();h<=u?(f+=c,s-=c,u=(u-h)/(1-h)):(s=c-1,u/=h)}for(var l=u<.5,p=l?u:1-u,m=n(p),g=m(),d=0;g<=s;++d)g+=m();return f+(l?d:s-d)}}return o.source=t,o})(ct);var eb=(function t(e){function n(r,o,i){var a;return(r=+r)==0?a=f=>-Math.log(f):(r=1/r,a=f=>Math.pow(f,r)),o=o==null?0:+o,i=i==null?1:+i,function(){return o+i*a(-Math.log1p(-e()))}}return n.source=t,n})(ct);var nb=(function t(e){function n(r,o){return r=r==null?0:+r,o=o==null?1:+o,function(){return r+o*Math.tan(Math.PI*e())}}return n.source=t,n})(ct);var rb=(function t(e){function n(r,o){return r=r==null?0:+r,o=o==null?1:+o,function(){var i=e();return r+o*Math.log(i/(1-i))}}return n.source=t,n})(ct);var ob=(function t(e){var n=ti.source(e),r=es.source(e);function o(i){return function(){for(var a=0,f=i;f>16;){var s=Math.floor(.875*f),u=n(s)();if(u>f)return a+r(s-1,f/u)();a+=s,f-=u}for(var c=-Math.log1p(-e()),h=0;c<=f;++h)c-=Math.log1p(-e());return a+h}}return o.source=t,o})(ct);var ib=23283064365386963e-26;function Ch(t=Math.random()){let e=(0<=t&&t<1?t/ib:Math.abs(t))|0;return()=>(e=1664525*e+1013904223|0,ib*(e>>>0))}function At(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Me(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}var ns=Symbol("implicit");function ei(){var t=new Ce,e=[],n=[],r=ns;function o(i){let a=t.get(i);if(a===void 0){if(r!==ns)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return o.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Ce;for(let a of i)t.has(a)||t.set(a,e.push(a)-1);return o},o.range=function(i){return arguments.length?(n=Array.from(i),o):n.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return ei(e,n).unknown(r)},At.apply(o,arguments),o}function Ta(){var t=ei().unknown(void 0),e=t.domain,n=t.range,r=0,o=1,i,a,f=!1,s=0,u=0,c=.5;delete t.unknown;function h(){var l=e().length,p=o<r,m=p?o:r,g=p?r:o;i=(g-m)/Math.max(1,l-s+u*2),f&&(i=Math.floor(i)),m+=(g-m-i*(l-s))*c,a=i*(1-s),f&&(m=Math.round(m),a=Math.round(a));var d=xe(l).map(function(x){return m+i*x});return n(p?d.reverse():d)}return t.domain=function(l){return arguments.length?(e(l),h()):e()},t.range=function(l){return arguments.length?([r,o]=l,r=+r,o=+o,h()):[r,o]},t.rangeRound=function(l){return[r,o]=l,r=+r,o=+o,f=!0,h()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(l){return arguments.length?(f=!!l,h()):f},t.padding=function(l){return arguments.length?(s=Math.min(1,u=+l),h()):s},t.paddingInner=function(l){return arguments.length?(s=Math.min(1,l),h()):s},t.paddingOuter=function(l){return arguments.length?(u=+l,h()):u},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),h()):c},t.copy=function(){return Ta(e(),[r,o]).round(f).paddingInner(s).paddingOuter(u).align(c)},At.apply(h(),arguments)}function ab(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ab(e())},t}function fb(){return ab(Ta.apply(null,arguments).paddingInner(1))}function Rh(t){return function(){return t}}function or(t){return+t}var ub=[0,1];function Ft(t){return t}function Ih(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Rh(isNaN(e)?NaN:.5)}function p8(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function d8(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=Ih(o,r),i=n(a,i)):(r=Ih(r,o),i=n(i,a)),function(f){return i(r(f))}}function m8(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Ih(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(f){var s=ae(t,f,1,r)-1;return i[s](o[s](f))}}function on(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gr(){var t=ub,e=ub,n=Gt,r,o,i,a=Ft,f,s,u;function c(){var l=Math.min(t.length,e.length);return a!==Ft&&(a=p8(t[0],t[l-1])),f=l>2?m8:d8,s=u=null,h}function h(l){return l==null||isNaN(l=+l)?i:(s||(s=f(t.map(r),e,n)))(r(a(l)))}return h.invert=function(l){return a(o((u||(u=f(e,t.map(r),$t)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,or),c()):t.slice()},h.range=function(l){return arguments.length?(e=Array.from(l),c()):e.slice()},h.rangeRound=function(l){return e=Array.from(l),n=Xn,c()},h.clamp=function(l){return arguments.length?(a=l?!0:Ft,c()):a!==Ft},h.interpolate=function(l){return arguments.length?(n=l,c()):n},h.unknown=function(l){return arguments.length?(i=l,h):i},function(l,p){return r=l,o=p,c()}}function Zr(){return Gr()(Ft,Ft)}function Aa(t,e,n,r){var o=cr(t,e,n),i;switch(r=Fe(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=Jf(o,a))&&(r.precision=i),ea(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=tu(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Kf(o))&&(r.precision=i-(r.type==="%")*2);break}}return Dr(r)}function ie(t){var e=t.domain;return t.ticks=function(n){var r=e();return ue(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var o=e();return Aa(o[0],o[o.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),o=0,i=r.length-1,a=r[o],f=r[i],s,u,c=10;for(f<a&&(u=a,a=f,f=u,u=o,o=i,i=u);c-- >0;){if(u=Re(a,f,n),u===s)return r[o]=a,r[i]=f,e(r);if(u>0)a=Math.floor(a/u)*u,f=Math.ceil(f/u)*u;else if(u<0)a=Math.ceil(a*u)/u,f=Math.floor(f*u)/u;else break;s=u}return t},t}function rs(){var t=Zr();return t.copy=function(){return on(t,rs())},At.apply(t,arguments),ie(t)}function os(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,or),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return os(t).unknown(e)},t=arguments.length?Array.from(t,or):[0,1],ie(n)}function ka(t,e){t=t.slice();var n=0,r=t.length-1,o=t[n],i=t[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),t[n]=e.floor(o),t[r]=e.ceil(i),t}function sb(t){return Math.log(t)}function cb(t){return Math.exp(t)}function g8(t){return-Math.log(-t)}function x8(t){return-Math.exp(-t)}function b8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function y8(t){return t===10?b8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lb(t){return(e,n)=>-t(-e,n)}function Ea(t){let e=t(sb,cb),n=e.domain,r=10,o,i;function a(){return o=_8(r),i=y8(r),n()[0]<0?(o=lb(o),i=lb(i),t(g8,x8)):t(sb,cb),e}return e.base=function(f){return arguments.length?(r=+f,a()):r},e.domain=function(f){return arguments.length?(n(f),a()):n()},e.ticks=f=>{let s=n(),u=s[0],c=s[s.length-1],h=c<u;h&&([u,c]=[c,u]);let l=o(u),p=o(c),m,g,d=f==null?10:+f,x=[];if(!(r%1)&&p-l<d){if(l=Math.floor(l),p=Math.ceil(p),u>0){for(;l<=p;++l)for(m=1;m<r;++m)if(g=l<0?m/i(-l):m*i(l),!(g<u)){if(g>c)break;x.push(g)}}else for(;l<=p;++l)for(m=r-1;m>=1;--m)if(g=l>0?m/i(-l):m*i(l),!(g<u)){if(g>c)break;x.push(g)}x.length*2<d&&(x=ue(u,c,d))}else x=ue(l,p,Math.min(p-l,d)).map(i);return h?x.reverse():x},e.tickFormat=(f,s)=>{if(f==null&&(f=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Fe(s)).precision==null&&(s.trim=!0),s=Dr(s)),f===1/0)return s;let u=Math.max(1,r*f/e.ticks().length);return c=>{let h=c/i(Math.round(o(c)));return h*r<r-.5&&(h*=r),h<=u?s(c):""}},e.nice=()=>n(ka(n(),{floor:f=>i(Math.floor(o(f))),ceil:f=>i(Math.ceil(o(f)))})),e}function is(){let t=Ea(Gr()).domain([1,10]);return t.copy=()=>on(t,is()).base(t.base()),At.apply(t,arguments),t}function hb(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function pb(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Na(t){var e=1,n=t(hb(e),pb(e));return n.constant=function(r){return arguments.length?t(hb(e=+r),pb(e)):e},ie(n)}function as(){var t=Na(Gr());return t.copy=function(){return on(t,as()).constant(t.constant())},At.apply(t,arguments)}function db(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function v8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function w8(t){return t<0?-t*t:t*t}function Ca(t){var e=t(Ft,Ft),n=1;function r(){return n===1?t(Ft,Ft):n===.5?t(v8,w8):t(db(n),db(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,r()):n},ie(e)}function Ra(){var t=Ca(Gr());return t.copy=function(){return on(t,Ra()).exponent(t.exponent())},At.apply(t,arguments),t}function mb(){return Ra.apply(null,arguments).exponent(.5)}function gb(t){return Math.sign(t)*t*t}function M8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fs(){var t=Zr(),e=[0,1],n=!1,r;function o(i){var a=M8(t(i));return isNaN(a)?r:n?Math.round(a):a}return o.invert=function(i){return t.invert(gb(i))},o.domain=function(i){return arguments.length?(t.domain(i),o):t.domain()},o.range=function(i){return arguments.length?(t.range((e=Array.from(i,or)).map(gb)),o):e.slice()},o.rangeRound=function(i){return o.range(i).round(!0)},o.round=function(i){return arguments.length?(n=!!i,o):n},o.clamp=function(i){return arguments.length?(t.clamp(i),o):t.clamp()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return fs(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},At.apply(o,arguments),ie(o)}function us(){var t=[],e=[],n=[],r;function o(){var a=0,f=Math.max(1,e.length);for(n=new Array(f-1);++a<f;)n[a-1]=Ka(t,a/f);return i}function i(a){return a==null||isNaN(a=+a)?r:e[ae(n,a)]}return i.invertExtent=function(a){var f=e.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(ot),o()},i.range=function(a){return arguments.length?(e=Array.from(a),o()):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return us().domain(t).range(e).unknown(r)},At.apply(i,arguments)}function ss(){var t=0,e=1,n=1,r=[.5],o=[0,1],i;function a(s){return s!=null&&s<=s?o[ae(r,s,0,n)]:i}function f(){var s=-1;for(r=new Array(n);++s<n;)r[s]=((s+1)*e-(s-n)*t)/(n+1);return a}return a.domain=function(s){return arguments.length?([t,e]=s,t=+t,e=+e,f()):[t,e]},a.range=function(s){return arguments.length?(n=(o=Array.from(s)).length-1,f()):o.slice()},a.invertExtent=function(s){var u=o.indexOf(s);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(s){return arguments.length&&(i=s),a},a.thresholds=function(){return r.slice()},a.copy=function(){return ss().domain([t,e]).range(o).unknown(i)},At.apply(ie(a),arguments)}function cs(){var t=[.5],e=[0,1],n,r=1;function o(i){return i!=null&&i<=i?e[ae(t,i,0,r)]:n}return o.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return cs().domain(t).range(e).unknown(n)},At.apply(o,arguments)}var Ph=new Date,qh=new Date;function xt(t,e,n,r){function o(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(t(i=new Date(+i)),i),o.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),o.round=i=>{let a=o(i),f=o.ceil(i);return i-a<f-i?a:f},o.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,f)=>{let s=[];if(i=o.ceil(i),f=f==null?1:Math.floor(f),!(i<a)||!(f>0))return s;let u;do s.push(u=new Date(+i)),e(i,f),t(i);while(u<i&&i<a);return s},o.filter=i=>xt(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;e(a,-1),!i(a););else for(;--f>=0;)for(;e(a,1),!i(a););}),n&&(o.count=(i,a)=>(Ph.setTime(+i),qh.setTime(+a),t(Ph),t(qh),Math.floor(n(Ph,qh))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}var ir=xt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ir.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ir);var Oh=ir.range;var me=xt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),Fh=me.range;var Qr=xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),xb=Qr.range,Kr=xt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),bb=Kr.range;var to=xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),yb=to.range,eo=xt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),_b=eo.range;var fn=xt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),vb=fn.range,ar=xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),wb=ar.range,Pa=xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),Mb=Pa.range;function no(t){return xt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var un=no(0),ro=no(1),Dh=no(2),Lh=no(3),Rn=no(4),$h=no(5),Yh=no(6),Uh=un.range,Tb=ro.range,Ab=Dh.range,kb=Lh.range,Eb=Rn.range,Nb=$h.range,Cb=Yh.range;function oo(t){return xt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/6048e5)}var sn=oo(0),io=oo(1),Bh=oo(2),zh=oo(3),In=oo(4),Hh=oo(5),Xh=oo(6),Vh=sn.range,Rb=io.range,Ib=Bh.range,Pb=zh.range,qb=In.range,Ob=Hh.range,Fb=Xh.range;var ao=xt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),Db=ao.range,fo=xt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),Lb=fo.range;var le=xt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());le.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});var $b=le.range,he=xt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());he.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});var Yb=he.range;function Bb(t,e,n,r,o,i){let a=[[me,1,1e3],[me,5,5*1e3],[me,15,15*1e3],[me,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function f(u,c,h){let l=c<u;l&&([u,c]=[c,u]);let p=h&&typeof h.range=="function"?h:s(u,c,h),m=p?p.range(u,+c+1):[];return l?m.reverse():m}function s(u,c,h){let l=Math.abs(c-u)/h,p=qn(([,,d])=>d).right(a,l);if(p===a.length)return t.every(cr(u/31536e6,c/31536e6,h));if(p===0)return ir.every(Math.max(cr(u,c,h),1));let[m,g]=a[l/a[p-1][2]<a[p][2]/l?p-1:p];return m.every(g)}return[f,s]}var[ls,hs]=Bb(he,fo,sn,Pa,eo,Kr),[ps,ds]=Bb(le,ao,un,fn,to,Qr);function Wh(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gh(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qa(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Da(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,f=t.months,s=t.shortMonths,u=Oa(o),c=Fa(o),h=Oa(i),l=Fa(i),p=Oa(a),m=Fa(a),g=Oa(f),d=Fa(f),x=Oa(s),_=Fa(s),y={a:I,A:F,b:q,B,c:null,d:Gb,e:Gb,f:W8,g:r5,G:i5,H:H8,I:X8,j:V8,L:Jb,m:G8,M:Z8,p:X,q:W,Q:Qb,s:Kb,S:j8,u:Q8,U:K8,V:J8,w:t5,W:e5,x:null,X:null,y:n5,Y:o5,Z:a5,"%":jb},b={a:ht,A:it,b:K,B:bt,c:null,d:Zb,e:Zb,f:c5,g:_5,G:w5,H:f5,I:u5,j:s5,L:ey,m:l5,M:h5,p:rt,q:St,Q:Qb,s:Kb,S:p5,u:d5,U:m5,V:g5,w:x5,W:b5,x:null,X:null,y:y5,Y:v5,Z:M5,"%":jb},v={a:E,A:S,b:P,B:R,c:M,d:Vb,e:Vb,f:Y8,g:Xb,G:Hb,H:Wb,I:Wb,j:F8,L:$8,m:O8,M:D8,p:N,q:q8,Q:B8,s:z8,S:L8,u:N8,U:C8,V:R8,w:E8,W:I8,x:A,X:T,y:Xb,Y:Hb,Z:P8,"%":U8};y.x=w(n,y),y.X=w(r,y),y.c=w(e,y),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b);function w(z,J){return function(et){var D=[],ft=-1,mt=0,qt=z.length,Dt,Y,ut;for(et instanceof Date||(et=new Date(+et));++ft<qt;)z.charCodeAt(ft)===37&&(D.push(z.slice(mt,ft)),(Y=zb[Dt=z.charAt(++ft)])!=null?Dt=z.charAt(++ft):Y=Dt==="e"?" ":"0",(ut=J[Dt])&&(Dt=ut(et,Y)),D.push(Dt),mt=ft+1);return D.push(z.slice(mt,ft)),D.join("")}}function k(z,J){return function(et){var D=qa(1900,void 0,1),ft=C(D,z,et+="",0),mt,qt;if(ft!=et.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(J&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(mt=Gh(qa(D.y,0,1)),qt=mt.getUTCDay(),mt=qt>4||qt===0?io.ceil(mt):io(mt),mt=ar.offset(mt,(D.V-1)*7),D.y=mt.getUTCFullYear(),D.m=mt.getUTCMonth(),D.d=mt.getUTCDate()+(D.w+6)%7):(mt=Wh(qa(D.y,0,1)),qt=mt.getDay(),mt=qt>4||qt===0?ro.ceil(mt):ro(mt),mt=fn.offset(mt,(D.V-1)*7),D.y=mt.getFullYear(),D.m=mt.getMonth(),D.d=mt.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),qt="Z"in D?Gh(qa(D.y,0,1)).getUTCDay():Wh(qa(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(qt+5)%7:D.w+D.U*7-(qt+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Gh(D)):Wh(D)}}function C(z,J,et,D){for(var ft=0,mt=J.length,qt=et.length,Dt,Y;ft<mt;){if(D>=qt)return-1;if(Dt=J.charCodeAt(ft++),Dt===37){if(Dt=J.charAt(ft++),Y=v[Dt in zb?J.charAt(ft++):Dt],!Y||(D=Y(z,et,D))<0)return-1}else if(Dt!=et.charCodeAt(D++))return-1}return D}function N(z,J,et){var D=u.exec(J.slice(et));return D?(z.p=c.get(D[0].toLowerCase()),et+D[0].length):-1}function E(z,J,et){var D=p.exec(J.slice(et));return D?(z.w=m.get(D[0].toLowerCase()),et+D[0].length):-1}function S(z,J,et){var D=h.exec(J.slice(et));return D?(z.w=l.get(D[0].toLowerCase()),et+D[0].length):-1}function P(z,J,et){var D=x.exec(J.slice(et));return D?(z.m=_.get(D[0].toLowerCase()),et+D[0].length):-1}function R(z,J,et){var D=g.exec(J.slice(et));return D?(z.m=d.get(D[0].toLowerCase()),et+D[0].length):-1}function M(z,J,et){return C(z,e,J,et)}function A(z,J,et){return C(z,n,J,et)}function T(z,J,et){return C(z,r,J,et)}function I(z){return a[z.getDay()]}function F(z){return i[z.getDay()]}function q(z){return s[z.getMonth()]}function B(z){return f[z.getMonth()]}function X(z){return o[+(z.getHours()>=12)]}function W(z){return 1+~~(z.getMonth()/3)}function ht(z){return a[z.getUTCDay()]}function it(z){return i[z.getUTCDay()]}function K(z){return s[z.getUTCMonth()]}function bt(z){return f[z.getUTCMonth()]}function rt(z){return o[+(z.getUTCHours()>=12)]}function St(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var J=w(z+="",y);return J.toString=function(){return z},J},parse:function(z){var J=k(z+="",!1);return J.toString=function(){return z},J},utcFormat:function(z){var J=w(z+="",b);return J.toString=function(){return z},J},utcParse:function(z){var J=k(z+="",!0);return J.toString=function(){return z},J}}}var zb={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,T8=/^%/,A8=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function k8(t){return t.replace(A8,"\\$&")}function Oa(t){return new RegExp("^(?:"+t.map(k8).join("|")+")","i")}function Fa(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function E8(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function N8(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function C8(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function R8(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function I8(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Hb(t,e,n){var r=Bt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Xb(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function P8(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function q8(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function O8(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Vb(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function F8(t,e,n){var r=Bt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Wb(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function D8(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function L8(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function $8(t,e,n){var r=Bt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Y8(t,e,n){var r=Bt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function U8(t,e,n){var r=T8.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function B8(t,e,n){var r=Bt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function z8(t,e,n){var r=Bt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Gb(t,e){return dt(t.getDate(),e,2)}function H8(t,e){return dt(t.getHours(),e,2)}function X8(t,e){return dt(t.getHours()%12||12,e,2)}function V8(t,e){return dt(1+fn.count(le(t),t),e,3)}function Jb(t,e){return dt(t.getMilliseconds(),e,3)}function W8(t,e){return Jb(t,e)+"000"}function G8(t,e){return dt(t.getMonth()+1,e,2)}function Z8(t,e){return dt(t.getMinutes(),e,2)}function j8(t,e){return dt(t.getSeconds(),e,2)}function Q8(t){var e=t.getDay();return e===0?7:e}function K8(t,e){return dt(un.count(le(t)-1,t),e,2)}function ty(t){var e=t.getDay();return e>=4||e===0?Rn(t):Rn.ceil(t)}function J8(t,e){return t=ty(t),dt(Rn.count(le(t),t)+(le(t).getDay()===4),e,2)}function t5(t){return t.getDay()}function e5(t,e){return dt(ro.count(le(t)-1,t),e,2)}function n5(t,e){return dt(t.getFullYear()%100,e,2)}function r5(t,e){return t=ty(t),dt(t.getFullYear()%100,e,2)}function o5(t,e){return dt(t.getFullYear()%1e4,e,4)}function i5(t,e){var n=t.getDay();return t=n>=4||n===0?Rn(t):Rn.ceil(t),dt(t.getFullYear()%1e4,e,4)}function a5(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function Zb(t,e){return dt(t.getUTCDate(),e,2)}function f5(t,e){return dt(t.getUTCHours(),e,2)}function u5(t,e){return dt(t.getUTCHours()%12||12,e,2)}function s5(t,e){return dt(1+ar.count(he(t),t),e,3)}function ey(t,e){return dt(t.getUTCMilliseconds(),e,3)}function c5(t,e){return ey(t,e)+"000"}function l5(t,e){return dt(t.getUTCMonth()+1,e,2)}function h5(t,e){return dt(t.getUTCMinutes(),e,2)}function p5(t,e){return dt(t.getUTCSeconds(),e,2)}function d5(t){var e=t.getUTCDay();return e===0?7:e}function m5(t,e){return dt(sn.count(he(t)-1,t),e,2)}function ny(t){var e=t.getUTCDay();return e>=4||e===0?In(t):In.ceil(t)}function g5(t,e){return t=ny(t),dt(In.count(he(t),t)+(he(t).getUTCDay()===4),e,2)}function x5(t){return t.getUTCDay()}function b5(t,e){return dt(io.count(he(t)-1,t),e,2)}function y5(t,e){return dt(t.getUTCFullYear()%100,e,2)}function _5(t,e){return t=ny(t),dt(t.getUTCFullYear()%100,e,2)}function v5(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function w5(t,e){var n=t.getUTCDay();return t=n>=4||n===0?In(t):In.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function M5(){return"+0000"}function jb(){return"%"}function Qb(t){return+t}function Kb(t){return Math.floor(+t/1e3)}var ni,La,Zh,uo,$a;ms({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ms(t){return ni=Da(t),La=ni.format,Zh=ni.parse,uo=ni.utcFormat,$a=ni.utcParse,ni}var jh="%Y-%m-%dT%H:%M:%S.%LZ";function S5(t){return t.toISOString()}var T5=Date.prototype.toISOString?S5:uo(jh),ry=T5;function A5(t){var e=new Date(t);return isNaN(e)?null:e}var k5=+new Date("2000-01-01T00:00:00.000Z")?A5:$a(jh),oy=k5;function E5(t){return new Date(t)}function N5(t){return t instanceof Date?+t:+new Date(+t)}function gs(t,e,n,r,o,i,a,f,s,u){var c=Zr(),h=c.invert,l=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),d=u("%I %p"),x=u("%a %d"),_=u("%b %d"),y=u("%B"),b=u("%Y");function v(w){return(s(w)<w?p:f(w)<w?m:a(w)<w?g:i(w)<w?d:r(w)<w?o(w)<w?x:_:n(w)<w?y:b)(w)}return c.invert=function(w){return new Date(h(w))},c.domain=function(w){return arguments.length?l(Array.from(w,N5)):l().map(E5)},c.ticks=function(w){var k=l();return t(k[0],k[k.length-1],w==null?10:w)},c.tickFormat=function(w,k){return k==null?v:u(k)},c.nice=function(w){var k=l();return(!w||typeof w.range!="function")&&(w=e(k[0],k[k.length-1],w==null?10:w)),w?l(ka(k,w)):c},c.copy=function(){return on(c,gs(t,e,n,r,o,i,a,f,s,u))},c}function Qh(){return At.apply(gs(ps,ds,le,ao,un,fn,to,Qr,me,La).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kh(){return At.apply(gs(ls,hs,he,fo,sn,ar,eo,Kr,me,uo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xs(){var t=0,e=1,n,r,o,i,a=Ft,f=!1,s;function u(h){return h==null||isNaN(h=+h)?s:a(o===0?.5:(h=(i(h)-n)*o,f?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=i(t=+t),r=i(e=+e),o=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(f=!!h,u):f},u.interpolator=function(h){return arguments.length?(a=h,u):a};function c(h){return function(l){var p,m;return arguments.length?([p,m]=l,a=h(p,m),u):[a(0),a(1)]}}return u.range=c(Gt),u.rangeRound=c(Xn),u.unknown=function(h){return arguments.length?(s=h,u):s},function(h){return i=h,n=h(t),r=h(e),o=n===r?0:1/(r-n),u}}function Pn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bs(){var t=ie(xs()(Ft));return t.copy=function(){return Pn(t,bs())},Me.apply(t,arguments)}function Jh(){var t=Ea(xs()).domain([1,10]);return t.copy=function(){return Pn(t,Jh()).base(t.base())},Me.apply(t,arguments)}function tp(){var t=Na(xs());return t.copy=function(){return Pn(t,tp()).constant(t.constant())},Me.apply(t,arguments)}function ys(){var t=Ca(xs());return t.copy=function(){return Pn(t,ys()).exponent(t.exponent())},Me.apply(t,arguments)}function iy(){return ys.apply(null,arguments).exponent(.5)}function _s(){var t=[],e=Ft;function n(r){if(r!=null&&!isNaN(r=+r))return e((ae(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let o of r)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ot),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,o)=>e(o/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(o,i)=>He(t,i/r))},n.copy=function(){return _s(e).domain(t)},Me.apply(n,arguments)}function vs(){var t=0,e=.5,n=1,r=1,o,i,a,f,s,u=Ft,c,h=!1,l;function p(g){return isNaN(g=+g)?l:(g=.5+((g=+c(g))-i)*(r*g<r*i?f:s),u(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,o=c(t=+t),i=c(e=+e),a=c(n=+n),f=o===i?0:.5/(i-o),s=i===a?0:.5/(a-i),r=i<o?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(d){var x,_,y;return arguments.length?([x,_,y]=d,u=Fi(g,[x,_,y]),p):[u(0),u(.5),u(1)]}}return p.range=m(Gt),p.rangeRound=m(Xn),p.unknown=function(g){return arguments.length?(l=g,p):l},function(g){return c=g,o=g(t),i=g(e),a=g(n),f=o===i?0:.5/(i-o),s=i===a?0:.5/(a-i),r=i<o?-1:1,p}}function ws(){var t=ie(vs()(Ft));return t.copy=function(){return Pn(t,ws())},Me.apply(t,arguments)}function ep(){var t=Ea(vs()).domain([.1,1,10]);return t.copy=function(){return Pn(t,ep()).base(t.base())},Me.apply(t,arguments)}function np(){var t=Na(vs());return t.copy=function(){return Pn(t,np()).constant(t.constant())},Me.apply(t,arguments)}function Ms(){var t=Ca(vs());return t.copy=function(){return Pn(t,Ms()).exponent(t.exponent())},Me.apply(t,arguments)}function ay(){return Ms.apply(null,arguments).exponent(.5)}function U(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}var fy=U("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var uy=U("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var sy=U("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var cy=U("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");var ly=U("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var hy=U("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var py=U("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var dy=U("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var my=U("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var gy=U("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var xy=U("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var Z=t=>_f(t[t.length-1]);var rp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(U),by=Z(rp);var op=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(U),yy=Z(op);var ip=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(U),_y=Z(ip);var ap=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(U),vy=Z(ap);var fp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(U),wy=Z(fp);var up=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(U),My=Z(up);var sp=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(U),Sy=Z(sp);var cp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(U),Ty=Z(cp);var lp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(U),Ay=Z(lp);var hp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(U),ky=Z(hp);var pp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(U),Ey=Z(pp);var dp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(U),Ny=Z(dp);var mp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(U),Cy=Z(mp);var gp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(U),Ry=Z(gp);var xp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(U),Iy=Z(xp);var bp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(U),Py=Z(bp);var yp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(U),qy=Z(yp);var _p=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(U),Oy=Z(_p);var vp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(U),Fy=Z(vp);var wp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(U),Dy=Z(wp);var Mp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(U),Ly=Z(Mp);var Sp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(U),$y=Z(Sp);var Tp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(U),Yy=Z(Tp);var Ap=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(U),Uy=Z(Ap);var kp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(U),By=Z(kp);var Ep=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(U),zy=Z(Ep);var Np=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(U),Hy=Z(Np);function Xy(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var Vy=Mr(Wt(300,.5,0),Wt(-240,.5,1));var Wy=Mr(Wt(-100,.75,.35),Wt(80,1.5,.8)),Gy=Mr(Wt(260,.75,.35),Wt(80,1.5,.8)),Ss=Wt();function Zy(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ss.h=360*t-100,Ss.s=1.5-1.5*e,Ss.l=.8-.9*e,Ss+""}var Ts=_n(),C5=Math.PI/3,R5=Math.PI*2/3;function jy(t){var e;return t=(.5-t)*Math.PI,Ts.r=255*(e=Math.sin(t))*e,Ts.g=255*(e=Math.sin(t+C5))*e,Ts.b=255*(e=Math.sin(t+R5))*e,Ts+""}function Qy(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function As(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Ky=As(U("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Jy=As(U("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),t_=As(U("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),e_=As(U("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Q(t){return function(){return t}}var Cp=Math.abs,Vt=Math.atan2,Ye=Math.cos,n_=Math.max,cn=Math.min,Kt=Math.sin,nt=Math.sqrt,zt=1e-12,Ue=Math.PI,Ya=Ue/2,Se=2*Ue;function r_(t){return t>1?0:t<-1?Ue:Math.acos(t)}function Rp(t){return t>=1?Ya:t<=-1?-Ya:Math.asin(t)}function ln(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Mn(e)}function I5(t){return t.innerRadius}function P5(t){return t.outerRadius}function q5(t){return t.startAngle}function O5(t){return t.endAngle}function F5(t){return t&&t.padAngle}function D5(t,e,n,r,o,i,a,f){var s=n-t,u=r-e,c=a-o,h=f-i,l=h*s-c*u;if(!(l*l<zt))return l=(c*(e-i)-h*(t-o))/l,[t+l*s,e+l*u]}function ks(t,e,n,r,o,i,a){var f=t-n,s=e-r,u=(a?i:-i)/nt(f*f+s*s),c=u*s,h=-u*f,l=t+c,p=e+h,m=n+c,g=r+h,d=(l+m)/2,x=(p+g)/2,_=m-l,y=g-p,b=_*_+y*y,v=o-i,w=l*g-m*p,k=(y<0?-1:1)*nt(n_(0,v*v*b-w*w)),C=(w*y-_*k)/b,N=(-w*_-y*k)/b,E=(w*y+_*k)/b,S=(-w*_+y*k)/b,P=C-d,R=N-x,M=E-d,A=S-x;return P*P+R*R>M*M+A*A&&(C=E,N=S),{cx:C,cy:N,x01:-c,y01:-h,x11:C*(o/v-1),y11:N*(o/v-1)}}function o_(){var t=I5,e=P5,n=Q(0),r=null,o=q5,i=O5,a=F5,f=null,s=ln(u);function u(){var c,h,l=+t.apply(this,arguments),p=+e.apply(this,arguments),m=o.apply(this,arguments)-Ya,g=i.apply(this,arguments)-Ya,d=Cp(g-m),x=g>m;if(f||(f=c=s()),p<l&&(h=p,p=l,l=h),!(p>zt))f.moveTo(0,0);else if(d>Se-zt)f.moveTo(p*Ye(m),p*Kt(m)),f.arc(0,0,p,m,g,!x),l>zt&&(f.moveTo(l*Ye(g),l*Kt(g)),f.arc(0,0,l,g,m,x));else{var _=m,y=g,b=m,v=g,w=d,k=d,C=a.apply(this,arguments)/2,N=C>zt&&(r?+r.apply(this,arguments):nt(l*l+p*p)),E=cn(Cp(p-l)/2,+n.apply(this,arguments)),S=E,P=E,R,M;if(N>zt){var A=Rp(N/l*Kt(C)),T=Rp(N/p*Kt(C));(w-=A*2)>zt?(A*=x?1:-1,b+=A,v-=A):(w=0,b=v=(m+g)/2),(k-=T*2)>zt?(T*=x?1:-1,_+=T,y-=T):(k=0,_=y=(m+g)/2)}var I=p*Ye(_),F=p*Kt(_),q=l*Ye(v),B=l*Kt(v);if(E>zt){var X=p*Ye(y),W=p*Kt(y),ht=l*Ye(b),it=l*Kt(b),K;if(d<Ue)if(K=D5(I,F,ht,it,X,W,q,B)){var bt=I-K[0],rt=F-K[1],St=X-K[0],z=W-K[1],J=1/Kt(r_((bt*St+rt*z)/(nt(bt*bt+rt*rt)*nt(St*St+z*z)))/2),et=nt(K[0]*K[0]+K[1]*K[1]);S=cn(E,(l-et)/(J-1)),P=cn(E,(p-et)/(J+1))}else S=P=0}k>zt?P>zt?(R=ks(ht,it,I,F,p,P,x),M=ks(X,W,q,B,p,P,x),f.moveTo(R.cx+R.x01,R.cy+R.y01),P<E?f.arc(R.cx,R.cy,P,Vt(R.y01,R.x01),Vt(M.y01,M.x01),!x):(f.arc(R.cx,R.cy,P,Vt(R.y01,R.x01),Vt(R.y11,R.x11),!x),f.arc(0,0,p,Vt(R.cy+R.y11,R.cx+R.x11),Vt(M.cy+M.y11,M.cx+M.x11),!x),f.arc(M.cx,M.cy,P,Vt(M.y11,M.x11),Vt(M.y01,M.x01),!x))):(f.moveTo(I,F),f.arc(0,0,p,_,y,!x)):f.moveTo(I,F),!(l>zt)||!(w>zt)?f.lineTo(q,B):S>zt?(R=ks(q,B,X,W,l,-S,x),M=ks(I,F,ht,it,l,-S,x),f.lineTo(R.cx+R.x01,R.cy+R.y01),S<E?f.arc(R.cx,R.cy,S,Vt(R.y01,R.x01),Vt(M.y01,M.x01),!x):(f.arc(R.cx,R.cy,S,Vt(R.y01,R.x01),Vt(R.y11,R.x11),!x),f.arc(0,0,l,Vt(R.cy+R.y11,R.cx+R.x11),Vt(M.cy+M.y11,M.cx+M.x11),x),f.arc(M.cx,M.cy,S,Vt(M.y11,M.x11),Vt(M.y01,M.x01),!x))):f.arc(0,0,l,v,b,x)}if(f.closePath(),c)return f=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Ue/2;return[Ye(h)*c,Kt(h)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Q(+c),u):t},u.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Q(+c),u):e},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Q(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Q(+c),u):r},u.startAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Q(+c),u):o},u.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Q(+c),u):i},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Q(+c),u):a},u.context=function(c){return arguments.length?(f=c==null?null:c,u):f},u}var i_=Array.prototype.slice;function fr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function a_(t){this._context=t}a_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ur(t){return new a_(t)}function ri(t){return t[0]}function oi(t){return t[1]}function ii(t,e){var n=Q(!0),r=null,o=ur,i=null,a=ln(f);t=typeof t=="function"?t:t===void 0?ri:Q(t),e=typeof e=="function"?e:e===void 0?oi:Q(e);function f(s){var u,c=(s=fr(s)).length,h,l=!1,p;for(r==null&&(i=o(p=a())),u=0;u<=c;++u)!(u<c&&n(h=s[u],u,s))===l&&((l=!l)?i.lineStart():i.lineEnd()),l&&i.point(+t(h,u,s),+e(h,u,s));if(p)return i=null,p+""||null}return f.x=function(s){return arguments.length?(t=typeof s=="function"?s:Q(+s),f):t},f.y=function(s){return arguments.length?(e=typeof s=="function"?s:Q(+s),f):e},f.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Q(!!s),f):n},f.curve=function(s){return arguments.length?(o=s,r!=null&&(i=o(r)),f):o},f.context=function(s){return arguments.length?(s==null?r=i=null:i=o(r=s),f):r},f}function Es(t,e,n){var r=null,o=Q(!0),i=null,a=ur,f=null,s=ln(u);t=typeof t=="function"?t:t===void 0?ri:Q(+t),e=typeof e=="function"?e:e===void 0?Q(0):Q(+e),n=typeof n=="function"?n:n===void 0?oi:Q(+n);function u(h){var l,p,m,g=(h=fr(h)).length,d,x=!1,_,y=new Array(g),b=new Array(g);for(i==null&&(f=a(_=s())),l=0;l<=g;++l){if(!(l<g&&o(d=h[l],l,h))===x)if(x=!x)p=l,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),m=l-1;m>=p;--m)f.point(y[m],b[m]);f.lineEnd(),f.areaEnd()}x&&(y[l]=+t(d,l,h),b[l]=+e(d,l,h),f.point(r?+r(d,l,h):y[l],n?+n(d,l,h):b[l]))}if(_)return f=null,_+""||null}function c(){return ii().defined(o).curve(a).context(i)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Q(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Q(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Q(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Q(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Q(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Q(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(o=typeof h=="function"?h:Q(!!h),u):o},u.curve=function(h){return arguments.length?(a=h,i!=null&&(f=a(i)),u):a},u.context=function(h){return arguments.length?(h==null?i=f=null:f=a(i=h),u):i},u}function f_(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function u_(t){return t}function s_(){var t=u_,e=f_,n=null,r=Q(0),o=Q(Se),i=Q(0);function a(f){var s,u=(f=fr(f)).length,c,h,l=0,p=new Array(u),m=new Array(u),g=+r.apply(this,arguments),d=Math.min(Se,Math.max(-Se,o.apply(this,arguments)-g)),x,_=Math.min(Math.abs(d)/u,i.apply(this,arguments)),y=_*(d<0?-1:1),b;for(s=0;s<u;++s)(b=m[p[s]=s]=+t(f[s],s,f))>0&&(l+=b);for(e!=null?p.sort(function(v,w){return e(m[v],m[w])}):n!=null&&p.sort(function(v,w){return n(f[v],f[w])}),s=0,h=l?(d-u*y)/l:0;s<u;++s,g=x)c=p[s],b=m[c],x=g+(b>0?b*h:0)+y,m[c]={data:f[c],index:s,value:b,startAngle:g,endAngle:x,padAngle:_};return m}return a.value=function(f){return arguments.length?(t=typeof f=="function"?f:Q(+f),a):t},a.sortValues=function(f){return arguments.length?(e=f,n=null,a):e},a.sort=function(f){return arguments.length?(n=f,e=null,a):n},a.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:Q(+f),a):r},a.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Q(+f),a):o},a.padAngle=function(f){return arguments.length?(i=typeof f=="function"?f:Q(+f),a):i},a}var Ns=ai(ur);function c_(t){this._curve=t}c_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function ai(t){function e(n){return new c_(t(n))}return e._curve=t,e}function fi(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(ai(n)):e()._curve},t}function Ip(){return fi(ii().curve(Ns))}function Pp(){var t=Es().curve(Ns),e=t.curve,n=t.lineX0,r=t.lineX1,o=t.lineY0,i=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return fi(n())},delete t.lineX0,t.lineEndAngle=function(){return fi(r())},delete t.lineX1,t.lineInnerRadius=function(){return fi(o())},delete t.lineY0,t.lineOuterRadius=function(){return fi(i())},delete t.lineY1,t.curve=function(a){return arguments.length?e(ai(a)):e()._curve},t}function so(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var Cs=class{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}},qp=class{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{let r=so(this._x0,this._y0),o=so(this._x0,this._y0=(this._y0+n)/2),i=so(e,this._y0),a=so(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...o,...i,...a)}this._x0=e,this._y0=n}};function Rs(t){return new Cs(t,!0)}function Is(t){return new Cs(t,!1)}function l_(t){return new qp(t)}function L5(t){return t.source}function $5(t){return t.target}function Ua(t){let e=L5,n=$5,r=ri,o=oi,i=null,a=null,f=ln(s);function s(){let u,c=i_.call(arguments),h=e.apply(this,c),l=n.apply(this,c);if(i==null&&(a=t(u=f())),a.lineStart(),c[0]=h,a.point(+r.apply(this,c),+o.apply(this,c)),c[0]=l,a.point(+r.apply(this,c),+o.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return s.source=function(u){return arguments.length?(e=u,s):e},s.target=function(u){return arguments.length?(n=u,s):n},s.x=function(u){return arguments.length?(r=typeof u=="function"?u:Q(+u),s):r},s.y=function(u){return arguments.length?(o=typeof u=="function"?u:Q(+u),s):o},s.context=function(u){return arguments.length?(u==null?i=a=null:a=t(i=u),s):i},s}function h_(){return Ua(Rs)}function p_(){return Ua(Is)}function d_(){let t=Ua(l_);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Y5=nt(3),Ps={draw(t,e){let n=nt(e+cn(e/28,.75))*.59436,r=n/2,o=r*Y5;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-o,-r),t.lineTo(o,r),t.moveTo(-o,r),t.lineTo(o,-r)}};var ui={draw(t,e){let n=nt(e/Ue);t.moveTo(n,0),t.arc(0,0,n,0,Se)}};var qs={draw(t,e){let n=nt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var m_=nt(1/3),U5=m_*2,Os={draw(t,e){let n=nt(e/U5),r=n*m_;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var Fs={draw(t,e){let n=nt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}};var Ds={draw(t,e){let n=nt(e-cn(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}};var Ls={draw(t,e){let n=nt(e),r=-n/2;t.rect(r,r,n,n)}};var $s={draw(t,e){let n=nt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}};var B5=.8908130915292852,g_=Kt(Ue/10)/Kt(7*Ue/10),z5=Kt(Se/10)*g_,H5=-Ye(Se/10)*g_,Ys={draw(t,e){let n=nt(e*B5),r=z5*n,o=H5*n;t.moveTo(0,-n),t.lineTo(r,o);for(let i=1;i<5;++i){let a=Se*i/5,f=Ye(a),s=Kt(a);t.lineTo(s*n,-f*n),t.lineTo(f*r-s*o,s*r+f*o)}t.closePath()}};var Op=nt(3),Us={draw(t,e){let n=-nt(e/(Op*3));t.moveTo(0,n*2),t.lineTo(-Op*n,-n),t.lineTo(Op*n,-n),t.closePath()}};var X5=nt(3),Bs={draw(t,e){let n=nt(e)*.6824,r=n/2,o=n*X5/2;t.moveTo(0,-n),t.lineTo(o,r),t.lineTo(-o,r),t.closePath()}};var Te=-.5,Ae=nt(3)/2,Fp=1/nt(12),V5=(Fp/2+1)*3,zs={draw(t,e){let n=nt(e/V5),r=n/2,o=n*Fp,i=r,a=n*Fp+n,f=-i,s=a;t.moveTo(r,o),t.lineTo(i,a),t.lineTo(f,s),t.lineTo(Te*r-Ae*o,Ae*r+Te*o),t.lineTo(Te*i-Ae*a,Ae*i+Te*a),t.lineTo(Te*f-Ae*s,Ae*f+Te*s),t.lineTo(Te*r+Ae*o,Te*o-Ae*r),t.lineTo(Te*i+Ae*a,Te*a-Ae*i),t.lineTo(Te*f+Ae*s,Te*s-Ae*f),t.closePath()}};var Ba={draw(t,e){let n=nt(e-cn(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};var Dp=[ui,qs,Os,Ls,Ys,Us,zs],x_=[ui,Ds,Ba,Bs,Ps,$s,Fs];function Lp(t,e){let n=null,r=ln(o);t=typeof t=="function"?t:Q(t||ui),e=typeof e=="function"?e:Q(e===void 0?64:+e);function o(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return o.type=function(i){return arguments.length?(t=typeof i=="function"?i:Q(i),o):t},o.size=function(i){return arguments.length?(e=typeof i=="function"?i:Q(+i),o):e},o.context=function(i){return arguments.length?(n=i==null?null:i,o):n},o}function ke(){}function si(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function za(t){this._context=t}za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:si(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:si(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function b_(t){return new za(t)}function y_(t){this._context=t}y_.prototype={areaStart:ke,areaEnd:ke,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:si(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function __(t){return new y_(t)}function v_(t){this._context=t}v_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:si(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function w_(t){return new v_(t)}function M_(t,e){this._basis=new za(t),this._beta=e}M_.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],o=e[0],i=t[n]-r,a=e[n]-o,f=-1,s;++f<=n;)s=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+s*i),this._beta*e[f]+(1-this._beta)*(o+s*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var S_=(function t(e){function n(r){return e===1?new za(r):new M_(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function ci(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Hs(t,e){this._context=t,this._k=(1-e)/6}Hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ci(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ci(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var T_=(function t(e){function n(r){return new Hs(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Xs(t,e){this._context=t,this._k=(1-e)/6}Xs.prototype={areaStart:ke,areaEnd:ke,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ci(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var A_=(function t(e){function n(r){return new Xs(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Vs(t,e){this._context=t,this._k=(1-e)/6}Vs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ci(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var k_=(function t(e){function n(r){return new Vs(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Ha(t,e,n){var r=t._x1,o=t._y1,i=t._x2,a=t._y2;if(t._l01_a>zt){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>zt){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*u+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,o,i,a,t._x2,t._y2)}function E_(t,e){this._context=t,this._alpha=e}E_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ha(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var N_=(function t(e){function n(r){return e?new E_(r,e):new Hs(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function C_(t,e){this._context=t,this._alpha=e}C_.prototype={areaStart:ke,areaEnd:ke,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ha(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var R_=(function t(e){function n(r){return e?new C_(r,e):new Xs(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function I_(t,e){this._context=t,this._alpha=e}I_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ha(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var P_=(function t(e){function n(r){return e?new I_(r,e):new Vs(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function q_(t){this._context=t}q_.prototype={areaStart:ke,areaEnd:ke,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function O_(t){return new q_(t)}function F_(t){return t<0?-1:1}function D_(t,e,n){var r=t._x1-t._x0,o=e-t._x1,i=(t._y1-t._y0)/(r||o<0&&-0),a=(n-t._y1)/(o||r<0&&-0),f=(i*o+a*r)/(r+o);return(F_(i)+F_(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(f))||0}function L_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $p(t,e,n){var r=t._x0,o=t._y0,i=t._x1,a=t._y1,f=(i-r)/3;t._context.bezierCurveTo(r+f,o+f*e,i-f,a-f*n,i,a)}function Ws(t){this._context=t}Ws.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$p(this,this._t0,L_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$p(this,L_(this,n=D_(this,t,e)),n);break;default:$p(this,this._t0,n=D_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $_(t){this._context=new Y_(t)}($_.prototype=Object.create(Ws.prototype)).point=function(t,e){Ws.prototype.point.call(this,e,t)};function Y_(t){this._context=t}Y_.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,o,i){this._context.bezierCurveTo(e,t,r,n,i,o)}};function U_(t){return new Ws(t)}function B_(t){return new $_(t)}function H_(t){this._context=t}H_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=z_(t),o=z_(e),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function z_(t){var e,n=t.length-1,r,o=new Array(n),i=new Array(n),a=new Array(n);for(o[0]=0,i[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,i[e]=4,a[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,i[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=o[e]/i[e-1],i[e]-=r,a[e]-=r*a[e-1];for(o[n-1]=a[n-1]/i[n-1],e=n-2;e>=0;--e)o[e]=(a[e]-o[e+1])/i[e];for(i[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-o[e+1];return[o,i]}function X_(t){return new H_(t)}function Gs(t,e){this._context=t,this._t=e}Gs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function V_(t){return new Gs(t,.5)}function W_(t){return new Gs(t,0)}function G_(t){return new Gs(t,1)}function Be(t,e){if((a=t.length)>1)for(var n=1,r,o,i=t[e[0]],a,f=i.length;n<a;++n)for(o=i,i=t[e[n]],r=0;r<f;++r)i[r][1]+=i[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function ze(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function W5(t,e){return t[e]}function G5(t){let e=[];return e.key=t,e}function Z_(){var t=Q([]),e=ze,n=Be,r=W5;function o(i){var a=Array.from(t.apply(this,arguments),G5),f,s=a.length,u=-1,c;for(let h of i)for(f=0,++u;f<s;++f)(a[f][u]=[0,+r(h,a[f].key,u,i)]).data=h;for(f=0,c=fr(e(a));f<s;++f)a[c[f]].index=f;return n(a,c),a}return o.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Q(Array.from(i)),o):t},o.value=function(i){return arguments.length?(r=typeof i=="function"?i:Q(+i),o):r},o.order=function(i){return arguments.length?(e=i==null?ze:typeof i=="function"?i:Q(Array.from(i)),o):e},o.offset=function(i){return arguments.length?(n=i==null?Be:i,o):n},o}function j_(t,e){if((r=t.length)>0){for(var n,r,o=0,i=t[0].length,a;o<i;++o){for(a=n=0;n<r;++n)a+=t[n][o][1]||0;if(a)for(n=0;n<r;++n)t[n][o][1]/=a}Be(t,e)}}function Q_(t,e){if((s=t.length)>0)for(var n,r=0,o,i,a,f,s,u=t[e[0]].length;r<u;++r)for(a=f=0,n=0;n<s;++n)(i=(o=t[e[n]][r])[1]-o[0])>0?(o[0]=a,o[1]=a+=i):i<0?(o[1]=f,o[0]=f+=i):(o[0]=0,o[1]=i)}function K_(t,e){if((o=t.length)>0){for(var n=0,r=t[e[0]],o,i=r.length;n<i;++n){for(var a=0,f=0;a<o;++a)f+=t[a][n][1]||0;r[n][1]+=r[n][0]=-f/2}Be(t,e)}}function J_(t,e){if(!(!((a=t.length)>0)||!((i=(o=t[e[0]]).length)>0))){for(var n=0,r=1,o,i,a;r<i;++r){for(var f=0,s=0,u=0;f<a;++f){for(var c=t[e[f]],h=c[r][1]||0,l=c[r-1][1]||0,p=(h-l)/2,m=0;m<f;++m){var g=t[e[m]],d=g[r][1]||0,x=g[r-1][1]||0;p+=d-x}s+=h,u+=p*h}o[r-1][1]+=o[r-1][0]=n,s&&(n-=u/s)}o[r-1][1]+=o[r-1][0]=n,Be(t,e)}}function Zs(t){var e=t.map(Z5);return ze(t).sort(function(n,r){return e[n]-e[r]})}function Z5(t){for(var e=-1,n=0,r=t.length,o,i=-1/0;++e<r;)(o=+t[e][1])>i&&(i=o,n=e);return n}function js(t){var e=t.map(Yp);return ze(t).sort(function(n,r){return e[n]-e[r]})}function Yp(t){for(var e=0,n=-1,r=t.length,o;++n<r;)(o=+t[n][1])&&(e+=o);return e}function tv(t){return js(t).reverse()}function ev(t){var e=t.length,n,r,o=t.map(Yp),i=Zs(t),a=0,f=0,s=[],u=[];for(n=0;n<e;++n)r=i[n],a<f?(a+=o[r],s.push(r)):(f+=o[r],u.push(r));return u.reverse().concat(s)}function nv(t){return ze(t).reverse()}var Xa=t=>()=>t;function Up(t,{sourceEvent:e,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ee(t,e,n){this.k=t,this.x=e,this.y=n}Ee.prototype={constructor:Ee,scale:function(t){return t===1?this:new Ee(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ee(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var li=new Ee(1,0,0);Qs.prototype=Ee.prototype;function Qs(t){for(;!t.__zoom;)if(!(t=t.parentNode))return li;return t.__zoom}function Ks(t){t.stopImmediatePropagation()}function hi(t){t.preventDefault(),t.stopImmediatePropagation()}function j5(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Q5(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function rv(){return this.__zoom||li}function K5(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function J5(){return navigator.maxTouchPoints||"ontouchstart"in this}function t7(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function ov(){var t=j5,e=Q5,n=t7,r=K5,o=J5,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],f=250,s=Ef,u=be("start","zoom","end"),c,h,l,p=500,m=150,g=0,d=10;function x(M){M.property("__zoom",rv).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",E).filter(o).on("touchstart.zoom",S).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(M,A,T,I){var F=M.selection?M.selection():M;F.property("__zoom",rv),M!==F?v(M,A,T,I):F.interrupt().each(function(){w(this,arguments).event(I).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},x.scaleBy=function(M,A,T,I){x.scaleTo(M,function(){var F=this.__zoom.k,q=typeof A=="function"?A.apply(this,arguments):A;return F*q},T,I)},x.scaleTo=function(M,A,T,I){x.transform(M,function(){var F=e.apply(this,arguments),q=this.__zoom,B=T==null?b(F):typeof T=="function"?T.apply(this,arguments):T,X=q.invert(B),W=typeof A=="function"?A.apply(this,arguments):A;return n(y(_(q,W),B,X),F,a)},T,I)},x.translateBy=function(M,A,T,I){x.transform(M,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),a)},null,I)},x.translateTo=function(M,A,T,I,F){x.transform(M,function(){var q=e.apply(this,arguments),B=this.__zoom,X=I==null?b(q):typeof I=="function"?I.apply(this,arguments):I;return n(li.translate(X[0],X[1]).scale(B.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof T=="function"?-T.apply(this,arguments):-T),q,a)},I,F)};function _(M,A){return A=Math.max(i[0],Math.min(i[1],A)),A===M.k?M:new Ee(A,M.x,M.y)}function y(M,A,T){var I=A[0]-T[0]*M.k,F=A[1]-T[1]*M.k;return I===M.x&&F===M.y?M:new Ee(M.k,I,F)}function b(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function v(M,A,T,I){M.on("start.zoom",function(){w(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(I).end()}).tween("zoom",function(){var F=this,q=arguments,B=w(F,q).event(I),X=e.apply(F,q),W=T==null?b(X):typeof T=="function"?T.apply(F,q):T,ht=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),it=F.__zoom,K=typeof A=="function"?A.apply(F,q):A,bt=s(it.invert(W).concat(ht/it.k),K.invert(W).concat(ht/K.k));return function(rt){if(rt===1)rt=K;else{var St=bt(rt),z=ht/St[2];rt=new Ee(z,W[0]-St[0]*z,W[1]-St[1]*z)}B.zoom(null,rt)}})}function w(M,A,T){return!T&&M.__zooming||new k(M,A)}function k(M,A){this.that=M,this.args=A,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,A),this.taps=0}k.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,A){return this.mouse&&M!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var A=Et(this.that).datum();u.call(M,this.that,new Up(M,{sourceEvent:this.sourceEvent,target:x,type:M,transform:this.that.__zoom,dispatch:u}),A)}};function C(M,...A){if(!t.apply(this,arguments))return;var T=w(this,A).event(M),I=this.__zoom,F=Math.max(i[0],Math.min(i[1],I.k*Math.pow(2,r.apply(this,arguments)))),q=Lt(M);if(T.wheel)(T.mouse[0][0]!==q[0]||T.mouse[0][1]!==q[1])&&(T.mouse[1]=I.invert(T.mouse[0]=q)),clearTimeout(T.wheel);else{if(I.k===F)return;T.mouse=[q,I.invert(q)],qe(this),T.start()}hi(M),T.wheel=setTimeout(B,m),T.zoom("mouse",n(y(_(I,F),T.mouse[0],T.mouse[1]),T.extent,a));function B(){T.wheel=null,T.end()}}function N(M,...A){if(l||!t.apply(this,arguments))return;var T=M.currentTarget,I=w(this,A,!0).event(M),F=Et(M.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",ht,!0),q=Lt(M,T),B=M.clientX,X=M.clientY;$n(M.view),Ks(M),I.mouse=[q,this.__zoom.invert(q)],qe(this),I.start();function W(it){if(hi(it),!I.moved){var K=it.clientX-B,bt=it.clientY-X;I.moved=K*K+bt*bt>g}I.event(it).zoom("mouse",n(y(I.that.__zoom,I.mouse[0]=Lt(it,T),I.mouse[1]),I.extent,a))}function ht(it){F.on("mousemove.zoom mouseup.zoom",null),Yn(it.view,I.moved),hi(it),I.event(it).end()}}function E(M,...A){if(t.apply(this,arguments)){var T=this.__zoom,I=Lt(M.changedTouches?M.changedTouches[0]:M,this),F=T.invert(I),q=T.k*(M.shiftKey?.5:2),B=n(y(_(T,q),I,F),e.apply(this,A),a);hi(M),f>0?Et(this).transition().duration(f).call(v,B,I,M):Et(this).call(x.transform,B,I,M)}}function S(M,...A){if(t.apply(this,arguments)){var T=M.touches,I=T.length,F=w(this,A,M.changedTouches.length===I).event(M),q,B,X,W;for(Ks(M),B=0;B<I;++B)X=T[B],W=Lt(X,this),W=[W,this.__zoom.invert(W),X.identifier],F.touch0?!F.touch1&&F.touch0[2]!==W[2]&&(F.touch1=W,F.taps=0):(F.touch0=W,q=!0,F.taps=1+!!c);c&&(c=clearTimeout(c)),q&&(F.taps<2&&(h=W[0],c=setTimeout(function(){c=null},p)),qe(this),F.start())}}function P(M,...A){if(this.__zooming){var T=w(this,A).event(M),I=M.changedTouches,F=I.length,q,B,X,W;for(hi(M),q=0;q<F;++q)B=I[q],X=Lt(B,this),T.touch0&&T.touch0[2]===B.identifier?T.touch0[0]=X:T.touch1&&T.touch1[2]===B.identifier&&(T.touch1[0]=X);if(B=T.that.__zoom,T.touch1){var ht=T.touch0[0],it=T.touch0[1],K=T.touch1[0],bt=T.touch1[1],rt=(rt=K[0]-ht[0])*rt+(rt=K[1]-ht[1])*rt,St=(St=bt[0]-it[0])*St+(St=bt[1]-it[1])*St;B=_(B,Math.sqrt(rt/St)),X=[(ht[0]+K[0])/2,(ht[1]+K[1])/2],W=[(it[0]+bt[0])/2,(it[1]+bt[1])/2]}else if(T.touch0)X=T.touch0[0],W=T.touch0[1];else return;T.zoom("touch",n(y(B,X,W),T.extent,a))}}function R(M,...A){if(this.__zooming){var T=w(this,A).event(M),I=M.changedTouches,F=I.length,q,B;for(Ks(M),l&&clearTimeout(l),l=setTimeout(function(){l=null},p),q=0;q<F;++q)B=I[q],T.touch0&&T.touch0[2]===B.identifier?delete T.touch0:T.touch1&&T.touch1[2]===B.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(B=Lt(B,this),Math.hypot(h[0]-B[0],h[1]-B[1])<d)){var X=Et(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return x.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:Xa(+M),x):r},x.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Xa(!!M),x):t},x.touchable=function(M){return arguments.length?(o=typeof M=="function"?M:Xa(!!M),x):o},x.extent=function(M){return arguments.length?(e=typeof M=="function"?M:Xa([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),x):e},x.scaleExtent=function(M){return arguments.length?(i[0]=+M[0],i[1]=+M[1],x):[i[0],i[1]]},x.translateExtent=function(M){return arguments.length?(a[0][0]=+M[0][0],a[1][0]=+M[1][0],a[0][1]=+M[0][1],a[1][1]=+M[1][1],x):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},x.constrain=function(M){return arguments.length?(n=M,x):n},x.duration=function(M){return arguments.length?(f=+M,x):f},x.interpolate=function(M){return arguments.length?(s=M,x):s},x.on=function(){var M=u.on.apply(u,arguments);return M===u?x:M},x.clickDistance=function(M){return arguments.length?(g=(M=+M)*M,x):Math.sqrt(g)},x.tapDistance=function(M){return arguments.length?(d=+M,x):d},x}function e7(){let t=document.getElementById("viz");return t||(t=document.createElement("div"),t.id="viz",document.body.appendChild(t)),t}function n7(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ne(t,e,n){let r=t==null?void 0:t.style;try{let i=(a=>{if(!(!a||typeof a!="object")){if(e in a)return a[e];for(let f of Object.keys(a)){let s=a[f];if(s&&typeof s=="object"&&e in s)return s[e]}}})(r);if(i==null||i==="")return n;if(typeof i=="object"){if("value"in i&&i.value!==void 0&&i.value!=="")return i.value;if("color"in i&&i.color!==void 0&&i.color!=="")return i.color;if("defaultValue"in i&&i.defaultValue!==void 0&&i.defaultValue!=="")return i.defaultValue;if("opacity"in i&&i.opacity!==void 0&&i.opacity!=="")return i}return i}catch(o){return n}}function r7(t,e){try{if(typeof t=="string"&&t.trim()!=="")return t;let n=typeof t=="object"&&t!==null?t.color||t:null;if(n&&["r","g","b"].every(o=>n[o]!==void 0&&n[o]!==null)){let o=f=>Math.max(0,Math.min(255,Number(f)||0)),i=Number.isFinite(t==null?void 0:t.opacity)?Number(t.opacity):void 0,a=Number.isFinite(n.a)?Math.max(0,Math.min(1,n.a)):Math.max(0,Math.min(1,i!=null?i:1));return`rgba(${o(n.r)}, ${o(n.g)}, ${o(n.b)}, ${a})`}return e}catch(n){return e}}function Va(t,e,n){let r=Ne(t,e,n);return r7(r,n)}function o7(t,e,n){var u,c;let r=(t==null?void 0:t.fields)||{},o=Object.keys(r),i=(u=e==null?void 0:e[0])==null?void 0:u.id,a=(c=n==null?void 0:n[0])==null?void 0:c.id,f=o.find(h=>Array.isArray(r[h])&&r[h].some(l=>l.id===i))||"dims",s=a&&o.find(h=>Array.isArray(r[h])&&r[h].some(l=>l.id===a))||"metric";return{dimension:f,metric:s}}function co(t,e){let n=Number(t);return Number.isFinite(n)?n:e}function iv(t){if(t==null)return null;if(typeof t=="object"){if("value"in t&&t.value!==void 0)return t.value;if("formattedValue"in t&&t.formattedValue!==void 0)return t.formattedValue}return t}function i7(t,e,n,r){let o={name:"root",children:[],value:0},i=(r==null?void 0:r.dimension)||"dims",a=(r==null?void 0:r.metric)||"metric",f=Array.isArray(e)?e.length:0,s=(c,h)=>{c.children||(c.children=[]);let l=c.children.find(p=>p.name===h);return l||(l={name:h,children:[],value:0},c.children.push(l)),l};for(let c of t){let h=o;for(let x=0;x<f;x++){let _=e[x],y=Array.isArray(c[i])?c[i][x]:void 0,b=c[_==null?void 0:_.id],v=Array.isArray(b)?b[x]:b,w=iv(y!=null?y:v),k=w!=null?String(w):"(null)";h=s(h,k)}let l=n?Array.isArray(c[a])?c[a][0]:c[n.id]:null,p=iv(l),m=p&&typeof p=="object"&&"rawValue"in p?p.rawValue:p,g=Number(m),d=n&&Number.isFinite(g)?g:1;h.value+=d}function u(c){if(!c.children||c.children.length===0)return c.value||0;let h=0;for(let l of c.children)h+=u(l);return c.value=h,h}return u(o),o}function a7(t){var n,r,o,i,a,f;let e=e7();n7(e);try{let qt=function(Y){return u.linkHorizontal().x(ut=>ut.y).y(ut=>ut.x)(Y)},Dt=function(Y){let ut=ft.descendants(),hn=ft.links();mt(ft);let ge=ft,Js=ft;ft.eachBefore(G=>{G.x<ge.x&&(ge=G),G.x>Js.x&&(Js=G)});let av=Js.x-ge.x+40,fv=u.max(ut,G=>G.y)||0,uv=W.offsetHeight||0,zp=Math.max(h-uv-16,av),sv=fv+et+60;bt.attr("height",zp),bt.attr("width",c),bt.attr("viewBox",`0 0 ${Math.max(c,sv)} ${zp}`);let tc=St.selectAll("g.node").data(ut,G=>G.id),Wa=tc.enter().append("g").attr("class","node").attr("transform",()=>`translate(${Y.y0},${Y.x0})`).on("click",(G,Jt)=>{Jt.children?(Jt._children=Jt.children,Jt.children=null):(Jt.children=Jt._children,Jt._children=null),Dt(Jt)}).on("mouseenter",(G,Jt)=>{if(!K)return;let pi=Jt.value!=null?Jt.value:"";K.innerHTML=`<div>${Jt.data.name||""}</div>${pi!==""?`<div class="value">${pi}</div>`:""}`,K.style.opacity="1",K.style.left=`${G.clientX+12}px`,K.style.top=`${G.clientY+12}px`}).on("mousemove",G=>{K&&(K.style.left=`${G.clientX+12}px`,K.style.top=`${G.clientY+12}px`)}).on("mouseleave",()=>{K&&(K.style.opacity="0")});Wa.append("circle").attr("r",k).attr("fill",G=>G._children?A:M),Wa.append("path").attr("class","caret").attr("d",D).attr("fill",P).attr("transform",G=>`translate(${G._children||G.children?-k-10:-1e3},0) rotate(${G.children?90:0})`),Wa.append("text").attr("dy","0.32em").attr("x",G=>G._children?-10:10).attr("text-anchor",G=>G._children?"end":"start").style("font-size",`${v}px`).style("fill",P).style("font-family",w).text(G=>{var pi;if(G.depth===0)return"";let Jt=G.data.name;return b?`${Jt} (${(pi=G.value)!=null?pi:0})`:Jt});let ec=Wa.merge(tc);ec.transition().duration(250).attr("transform",G=>`translate(${G.y},${G.x})`),ec.select("circle").attr("fill",G=>G._children?A:M),ec.select("path.caret").attr("fill",P).attr("transform",G=>`translate(${G._children||G.children?-k-10:-1e3},0) rotate(${G.children?90:0})`).attr("opacity",G=>G._children||G.children?1:0),tc.exit().transition().duration(250).attr("transform",()=>`translate(${Y.y},${Y.x})`).remove();let nc=St.selectAll("path.link").data(hn,G=>G.target.id);nc.enter().append("path").attr("class","link").attr("stroke",R).attr("stroke-width",E).attr("d",()=>{let G={x:Y.x0,y:Y.y0};return qt({source:G,target:G})}).merge(nc).transition().duration(250).attr("d",qt).attr("stroke",R).attr("stroke-width",E),nc.exit().transition().duration(250).attr("d",()=>{let G={x:Y.x,y:Y.y};return qt({source:G,target:G})}).remove(),ft.eachBefore(G=>{G.x0=G.x,G.y0=G.y})},s=window.dscc;if(!s){e.innerHTML="<div class='empty-state'>dscc introuvable. V\xE9rifie que dscc.min.js est bien concat\xE9n\xE9 dans dist/viz.js.</div>";return}let u=Bp||window.d3;if(!u||typeof u.hierarchy!="function"){e.innerHTML="<div class='empty-state'>La librairie D3 n\u2019a pas \xE9t\xE9 charg\xE9e. Recharge la page ou rebuild le bundle.</div>";return}let c=co(s.getWidth(),800),h=co(s.getHeight(),600),l=((n=t==null?void 0:t.fields)==null?void 0:n.dims)||((r=t==null?void 0:t.fields)==null?void 0:r.dimensions)||[],p=((o=t==null?void 0:t.fields)==null?void 0:o.metric)||((i=t==null?void 0:t.fields)==null?void 0:i.metrics)||[],m=Array.isArray(l)?l:[],g=Array.isArray(p)?p:[],d=m.map(Y=>Y.id).filter(Boolean),x=g.length>0?g[0].id:null,_=o7(t,m,g),y=Array.isArray((a=t==null?void 0:t.tables)==null?void 0:a.DEFAULT)?t.tables.DEFAULT:[];if(!d||d.length<2){e.innerHTML="<div class='empty-state'>Ajoute au moins <b>2 dimensions</b> pour construire l\u2019arbre.</div>";return}if(!y.length){e.innerHTML="<div class='empty-state'>Aucune donn\xE9e.</div>";return}let b=!!Ne(t,"showValue",!1),v=co(Ne(t,"fontSize",12),12),w=Ne(t,"fontFamily","Inter, Arial, sans-serif"),k=co(Ne(t,"nodeRadius",4),4),C=co(Ne(t,"indent",180),180),N=co(Ne(t,"rowHeight",24),24),E=co(Ne(t,"linkWidth",1.5),1.5),S=Va(t,"backgroundColor","#ffffff"),P=Va(t,"labelColor","#111111"),R=Va(t,"linkColor","#9aa4b5"),M=Va(t,"nodeColor","#6c8cf5"),A=Va(t,"nodeCollapsedColor","#324679"),T=!!Ne(t,"showLegend",!0),I=!!Ne(t,"enableZoom",!0),F=!!Ne(t,"enablePan",!0),q=!!Ne(t,"showTooltip",!0),B=i7(y,m,g[0],_)||{name:"root",children:[],value:0};e.style.background=S,e.style.color=P,e.style.fontFamily=w;let X=document.createElement("div");X.className="viz-container",e.appendChild(X);let W=document.createElement("div");W.className="meta-panel";let ht=d.length?d.map(Y=>{var ut;return`<span class="pill">${((ut=m.find(hn=>hn.id===Y))==null?void 0:ut.name)||Y}</span>`}).join(" "):'<span class="pill empty">Aucune dimension</span>',it=x?`<span class="pill metric">${((f=g.find(Y=>Y.id===x))==null?void 0:f.name)||x}</span>`:'<span class="pill metric empty">Aucune m\xE9trique</span>';if(W.innerHTML=`<strong>Dimensions :</strong> ${ht} &nbsp; <strong>M\xE9trique :</strong> ${it}`,T){let Y=document.createElement("div");Y.className="legend",Y.innerHTML=`
        <span class="legend-item"><span class="legend-swatch" style="background:${M}"></span> Ouvert</span>
        <span class="legend-item"><span class="legend-swatch" style="background:${A}"></span> Ferm\xE9</span>
        <span class="legend-item"><span class="legend-swatch" style="background:${R}; border-radius: 3px; height: 6px;"></span> Liens</span>
      `,W.appendChild(Y)}X.appendChild(W);let K=q?document.createElement("div"):null;K&&(K.className="tooltip",e.appendChild(K));let bt=u.select(X).append("svg").attr("width",c),rt=bt.append("g").attr("class","zoom-layer"),St=rt.append("g").attr("class","viz-layer"),z=u.zoomIdentity.translate(20,20);if(I||F){let Y=u.zoom().scaleExtent(I?[.5,4]:[1,1]).on("zoom",ut=>rt.attr("transform",ut.transform));bt.call(Y),bt.call(Y.transform,z),F||bt.on("wheel.zoom",null).on("mousedown.zoom",null)}else rt.attr("transform",z);let J=N,et=C,D="M -4 -4 L 4 0 L -4 4 Z",ft=u.hierarchy(B);ft.x0=0,ft.y0=0,ft.descendants().forEach(Y=>{Y.id=Y.id||Math.random().toString(16).slice(2),Y._children=Y.children,Y.depth>1&&(Y.children=null)});let mt=u.tree().nodeSize([J,et]);Dt(ft)}catch(s){console.error(s),e.innerHTML="<div class='empty-state'>Une erreur est survenue dans la visualisation (voir la console). V\xE9rifie tes dimensions/m\xE9triques et rebuild le package.</div>"}}(function(){let e=window.dscc;e&&e.subscribeToData(a7,{transform:e.objectTransform})})();})();

